var BFUKGeo=function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=375)}([function(t,n,e){"use strict";function r(t){return t>1?0:t<-1?c:Math.acos(t)}function i(t){return t>1?s:t<-1?-s:Math.asin(t)}function o(t){return(t=x(t/2))*t}e.d(n,"o",function(){return a}),e.d(n,"w",function(){return u}),e.d(n,"a",function(){return c}),e.d(n,"k",function(){return s}),e.d(n,"q",function(){return l}),e.d(n,"b",function(){return f}),e.d(n,"h",function(){return h}),e.d(n,"g",function(){return d}),e.d(n,"p",function(){return p}),e.d(n,"l",function(){return v}),e.d(n,"e",function(){return g}),e.d(n,"c",function(){return m}),e.d(n,"v",function(){return b}),e.d(n,"m",function(){return y}),e.d(n,"i",function(){return w}),e.d(n,"t",function(){return _}),e.d(n,"d",function(){return x}),e.d(n,"s",function(){return M}),e.d(n,"n",function(){return E}),e.d(n,"j",function(){return k}),n.r=r,n.f=i,n.u=o;var a=1e-6,u=1e-12,c=Math.PI,s=c/2,l=c/4,f=2*c,h=180/c,d=c/180,p=Math.abs,v=Math.atan,g=Math.atan2,m=Math.cos,b=Math.ceil,y=Math.exp,w=(Math.floor,Math.log),_=Math.pow,x=Math.sin,M=Math.sign||function(t){return t>0?1:t<0?-1:0},E=Math.sqrt,k=Math.tan},function(t,n,e){"use strict";function r(t,n,e,a){function u(n){return t(n=new Date(+n)),n}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,r,i){var o=[];if(e=u.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do{o.push(new Date(+e))}while(n(e,i),t(e),e<r);return o},u.filter=function(e){return r(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(u.count=function(n,r){return i.setTime(+n),o.setTime(+r),t(i),t(o),Math.floor(e(i,o))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(n){return a(n)%t==0}:function(n){return u.count(0,n)%t==0}):u:null}),u}n.a=r;var i=new Date,o=new Date},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(38);e.d(n,"creator",function(){return r.a});var i=e(208);e.d(n,"local",function(){return i.a});var o=e(90);e.d(n,"matcher",function(){return o.a});var a=e(209);e.d(n,"mouse",function(){return a.a});var u=e(39);e.d(n,"namespace",function(){return u.a});var c=e(40);e.d(n,"namespaces",function(){return c.a});var s=e(210);e.d(n,"select",function(){return s.a});var l=e(211);e.d(n,"selectAll",function(){return l.a});var f=e(4);e.d(n,"selection",function(){return f.a});var h=e(43);e.d(n,"selector",function(){return h.a});var d=e(93);e.d(n,"selectorAll",function(){return d.a});var p=e(239);e.d(n,"touch",function(){return p.a});var v=e(240);e.d(n,"touches",function(){return v.a});var g=e(45);e.d(n,"window",function(){return g.a});var m=e(42);e.d(n,"event",function(){return m.a}),e.d(n,"customEvent",function(){return m.b})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(57);e.d(n,"bisect",function(){return r.a}),e.d(n,"bisectRight",function(){return r.b}),e.d(n,"bisectLeft",function(){return r.c});var i=e(13);e.d(n,"ascending",function(){return i.a});var o=e(58);e.d(n,"bisector",function(){return o.a});var a=e(143);e.d(n,"cross",function(){return a.a});var u=e(144);e.d(n,"descending",function(){return u.a});var c=e(59);e.d(n,"deviation",function(){return c.a});var s=e(60);e.d(n,"extent",function(){return s.a});var l=e(145);e.d(n,"histogram",function(){return l.a});var f=e(155);e.d(n,"thresholdFreedmanDiaconis",function(){return f.a});var h=e(156);e.d(n,"thresholdScott",function(){return h.a});var d=e(64);e.d(n,"thresholdSturges",function(){return d.a});var p=e(147);e.d(n,"max",function(){return p.a});var v=e(148);e.d(n,"mean",function(){return v.a});var g=e(149);e.d(n,"median",function(){return g.a});var m=e(150);e.d(n,"merge",function(){return m.a});var b=e(61);e.d(n,"min",function(){return b.a});var y=e(62);e.d(n,"pairs",function(){return y.a});var w=e(151);e.d(n,"permute",function(){return w.a});var _=e(31);e.d(n,"quantile",function(){return _.a});var x=e(63);e.d(n,"range",function(){return x.a});var M=e(152);e.d(n,"scan",function(){return M.a});var E=e(153);e.d(n,"shuffle",function(){return E.a});var k=e(154);e.d(n,"sum",function(){return k.a});var S=e(65);e.d(n,"ticks",function(){return S.a}),e.d(n,"tickIncrement",function(){return S.b}),e.d(n,"tickStep",function(){return S.c});var P=e(66);e.d(n,"transpose",function(){return P.a});var j=e(67);e.d(n,"variance",function(){return j.a});var A=e(157);e.d(n,"zip",function(){return A.a})},function(t,n,e){"use strict";function r(t,n){this._groups=t,this._parents=n}function i(){return new r([[document.documentElement]],L)}var o=e(233),a=e(234),u=e(222),c=e(216),s=e(91),l=e(221),f=e(226),h=e(229),d=e(236),p=e(214),v=e(228),g=e(227),m=e(235),b=e(220),y=e(219),w=e(213),_=e(237),x=e(230),M=e(215),E=e(238),k=e(223),S=e(231),P=e(225),j=e(212),A=e(224),O=e(232),T=e(217),C=e(42),N=e(218);e.d(n,"c",function(){return L}),n.b=r;var L=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:u.a,data:c.a,enter:s.a,exit:l.a,merge:f.a,order:h.a,sort:d.a,call:p.a,nodes:v.a,node:g.a,size:m.a,empty:b.a,each:y.a,attr:w.a,style:_.a,property:x.a,classed:M.a,text:E.a,html:k.a,raise:S.a,lower:P.a,append:j.a,insert:A.a,remove:O.a,datum:T.a,on:C.c,dispatch:N.a},n.a=i},function(t,n,e){"use strict";function r(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>f)throw new Error("too late");return e}function i(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>d)throw new Error("too late");return e}function o(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("too late");return e}function a(t,n,r){function i(t){r.state=h,r.timer.restart(o,r.delay,r.time),r.delay<=t&&o(t-r.delay)}function o(i){var f,g,b,y;if(r.state!==h)return u();for(f in l)if(y=l[f],y.name===r.name){if(y.state===p)return e.i(c.b)(o);y.state===v?(y.state=m,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete l[f]):+f<n&&(y.state=m,y.timer.stop(),delete l[f])}if(e.i(c.b)(function(){r.state===p&&(r.state=v,r.timer.restart(a,r.delay,r.time),a(i))}),r.state=d,r.on.call("start",t,t.__data__,r.index,r.group),r.state===d){for(r.state=p,s=new Array(b=r.tween.length),f=0,g=-1;f<b;++f)(y=r.tween[f].value.call(t,t.__data__,r.index,r.group))&&(s[++g]=y);s.length=g+1}}function a(n){for(var e=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(u),r.state=g,1),i=-1,o=s.length;++i<o;)s[i].call(null,e);r.state===g&&(r.on.call("end",t,t.__data__,r.index,r.group),u())}function u(){r.state=m,r.timer.stop(),delete l[n];for(var e in l)return;delete t.__transition}var s,l=t.__transition;l[n]=r,r.timer=e.i(c.a)(i,0,r.time)}var u=e(22),c=e(97);e.d(n,"d",function(){return h}),e.d(n,"a",function(){return d}),e.d(n,"b",function(){return g}),e.d(n,"c",function(){return m}),n.g=r,n.e=i,n.f=o;var s=e.i(u.dispatch)("start","end","interrupt"),l=[],f=0,h=1,d=2,p=3,v=4,g=5,m=6;n.h=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};a(t,e,{name:n,index:r,group:i,on:s,tween:l,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:f})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(32);e.d(n,"color",function(){return r.a}),e.d(n,"rgb",function(){return r.h}),e.d(n,"hsl",function(){return r.g});var i=e(159);e.d(n,"lab",function(){return i.b}),e.d(n,"hcl",function(){return i.a});var o=e(158);e.d(n,"cubehelix",function(){return o.a})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(36);e.d(n,"interpolate",function(){return r.a});var i=e(79);e.d(n,"interpolateArray",function(){return i.a});var o=e(35);e.d(n,"interpolateBasis",function(){return o.a});var a=e(80);e.d(n,"interpolateBasisClosed",function(){return a.a});var u=e(82);e.d(n,"interpolateDate",function(){return u.a});var c=e(25);e.d(n,"interpolateNumber",function(){return c.a});var s=e(83);e.d(n,"interpolateObject",function(){return s.a});var l=e(185);e.d(n,"interpolateRound",function(){return l.a});var f=e(85);e.d(n,"interpolateString",function(){return f.a});var h=e(187);e.d(n,"interpolateTransformCss",function(){return h.a}),e.d(n,"interpolateTransformSvg",function(){return h.b});var d=e(189);e.d(n,"interpolateZoom",function(){return d.a});var p=e(84);e.d(n,"interpolateRgb",function(){return p.a}),e.d(n,"interpolateRgbBasis",function(){return p.b}),e.d(n,"interpolateRgbBasisClosed",function(){return p.c});var v=e(182);e.d(n,"interpolateHsl",function(){return v.a}),e.d(n,"interpolateHslLong",function(){return v.b});var g=e(183);e.d(n,"interpolateLab",function(){return g.a});var m=e(181);e.d(n,"interpolateHcl",function(){return m.a}),e.d(n,"interpolateHclLong",function(){return m.b});var b=e(180);e.d(n,"interpolateCubehelix",function(){return b.b}),e.d(n,"interpolateCubehelixLong",function(){return b.a});var y=e(184);e.d(n,"quantize",function(){return y.a})},function(t,n,e){"use strict";e.d(n,"e",function(){return r}),e.d(n,"d",function(){return i}),e.d(n,"c",function(){return o}),e.d(n,"b",function(){return a}),e.d(n,"a",function(){return u});var r=1e3,i=6e4,o=36e5,a=864e5,u=6048e5},function(t,n,e){"use strict";function r(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function i(t){return e.i(a.selection)().transition(t)}function o(){return++E}var a=e(2),u=e(262),c=e(263),s=e(264),l=e(265),f=e(266),h=e(267),d=e(268),p=e(269),v=e(270),g=e(271),m=e(272),b=e(273),y=e(274),w=e(275),_=e(276),x=e(277),M=e(27);n.b=r,n.a=i,n.c=o;var E=0,k=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:g.a,selectAll:m.a,filter:h.a,merge:d.a,selection:b.a,transition:x.a,call:k.call,nodes:k.nodes,node:k.node,size:k.size,empty:k.empty,each:k.each,on:p.a,attr:u.a,attrTween:c.a,style:y.a,styleTween:w.a,text:_.a,remove:v.a,tween:M.a,delay:s.a,duration:l.a,ease:f.a}},function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(t,n,e){"use strict";function r(t){return i(function(){return t})()}function i(t){function n(t){return t=_(t[0]*l.g,t[1]*l.g),[t[0]*P+b,y-t[1]*P]}function r(t){return(t=_.invert((t[0]-b)/P,(y-t[1])/P))&&[t[0]*l.h,t[1]*l.h]}function i(t,n){return t=m(t,n),[t[0]*P+b,y-t[1]*P]}function h(){_=e.i(c.a)(w=e.i(f.b)(C,N,L),m);var t=m(O,T);return b=j-t[0]*P,y=A+t[1]*P,g()}function g(){return k=S=null,n}var m,b,y,w,_,x,M,E,k,S,P=150,j=480,A=250,O=0,T=0,C=0,N=0,L=0,F=null,z=o.a,D=null,R=s.a,U=.5,I=e.i(p.a)(i,U);return n.stream=function(t){return k&&S===t?k:k=v(z(w,I(R(S=t))))},n.clipAngle=function(t){return arguments.length?(z=+t?e.i(a.a)(F=t*l.g,6*l.g):(F=null,o.a),g()):F*l.h},n.clipExtent=function(t){return arguments.length?(R=null==t?(D=x=M=E=null,s.a):e.i(u.b)(D=+t[0][0],x=+t[0][1],M=+t[1][0],E=+t[1][1]),g()):null==D?null:[[D,x],[M,E]]},n.scale=function(t){return arguments.length?(P=+t,h()):P},n.translate=function(t){return arguments.length?(j=+t[0],A=+t[1],h()):[j,A]},n.center=function(t){return arguments.length?(O=t[0]%360*l.g,T=t[1]%360*l.g,h()):[O*l.h,T*l.h]},n.rotate=function(t){return arguments.length?(C=t[0]%360*l.g,N=t[1]%360*l.g,L=t.length>2?t[2]%360*l.g:0,h()):[C*l.h,N*l.h,L*l.h]},n.precision=function(t){return arguments.length?(I=e.i(p.a)(i,U=t*t),g()):e.i(l.n)(U)},n.fitExtent=function(t,r){return e.i(d.a)(n,t,r)},n.fitSize=function(t,r){return e.i(d.b)(n,t,r)},function(){return m=t.apply(this,arguments),n.invert=m.invert&&r,h()}}var o=e(289),a=e(290),u=e(73),c=e(123),s=e(74),l=e(0),f=e(51),h=e(52),d=e(77),p=e(311);n.a=r,n.b=i;var v=e.i(h.b)({point:function(t,n){this.stream.point(t*l.g,n*l.g)}})},function(t,n,e){"use strict";function r(){return window.matchMedia("(max-width: 640px)").matches}function i(){return"ontouchstart"in window||navigator.maxTouchPoints}function o(){return window.devicePixelRatio&&window.devicePixelRatio>1.3}function a(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)}function u(){return/(Android).*buzzfeed\//i.test(navigator.userAgent)}function c(t){t=t||{};for(var n=1;n<arguments.length;n++)if(arguments[n])for(var e in arguments[n])arguments[n].hasOwnProperty(e)&&(t[e]=arguments[n][e]);return t}function s(t,n){return t.classList?t.classList.contains(n):!!t.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}function l(t,n){t.classList?t.classList.add(n):s(t,n)||(t.className+=" "+n)}function f(t,n){if(t.classList)t.classList.remove(n);else if(s(t,n)){var e=new RegExp("(\\s|^)"+n+"(\\s|$)");t.className=t.className.replace(e," ")}}Object.defineProperty(n,"__esModule",{value:!0}),n.isMobile=r,n.isTouch=i,n.isRetina=o,n.isiOSWebView=a,n.isAndroidWebView=u,n.extend=c,n.hasClass=s,n.addClass=l,n.removeClass=f},function(t,n,e){"use strict";n.a=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}},function(t,n,e){"use strict";function r(){}n.a=r},function(t,n,e){"use strict";n.a=function(t){return null===t?NaN:+t}},function(t,n,e){"use strict";function r(t,n){t&&u.hasOwnProperty(t.type)&&u[t.type](t,n)}function i(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function o(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)i(t[e],n,1);n.polygonEnd()}var a={Feature:function(t,n){r(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,o=e.length;++i<o;)r(e[i].geometry,n)}},u={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){i(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)i(e[r],n,0)},Polygon:function(t,n){o(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)o(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,o=e.length;++i<o;)r(e[i],n)}};n.a=function(t,n){t&&a.hasOwnProperty(t.type)?a[t.type](t,n):r(t,n)}},function(t,n,e){"use strict";function r(t,n){return function(e){return t+e*n}}function i(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function o(t,n){var i=n-t;return i?r(t,i>180||i<-180?i-360*Math.round(i/360):i):e.i(c.a)(isNaN(t)?n:t)}function a(t){return 1==(t=+t)?u:function(n,r){return r-n?i(n,r,t):e.i(c.a)(isNaN(n)?r:n)}}function u(t,n){var i=n-t;return i?r(t,i):e.i(c.a)(isNaN(t)?n:t)}var c=e(81);n.b=o,n.c=a,n.a=u},function(t,n,e){"use strict";n.a=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}},function(t,n,e){"use strict";function r(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.i(o.ticks)(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){return e.i(c.a)(n(),t,r)},t.nice=function(r){var i=n(),a=i.length-1,u=null==r?10:r,c=i[0],s=i[a],l=e.i(o.tickStep)(c,s,u);return l&&(l=e.i(o.tickStep)(Math.floor(c/l)*l,Math.ceil(s/l)*l,u),i[0]=Math.floor(c/l)*l,i[a]=Math.ceil(s/l)*l,n(i)),t},t}function i(){var t=e.i(u.a)(u.b,a.interpolateNumber);return t.copy=function(){return e.i(u.c)(t,i())},r(t)}var o=e(3),a=e(7),u=e(26),c=e(204);n.b=r,n.a=i},function(t,n,e){"use strict";function r(){this.reset()}function i(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}n.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){i(o,t,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r},function(t,n,e){"use strict";function r(){}function i(t,n){var e=new r;if(t instanceof r)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)e.set(o,t[o]);else for(;++o<a;)e.set(n(i=t[o],o,t),i)}else if(t)for(var u in t)e.set(u,t[u]);return e}e.d(n,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(t){return o+t in this},get:function(t){return this[o+t]},set:function(t,n){return this[o+t]=n,this},remove:function(t){var n=o+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===o&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===o&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===o&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===o&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===o&&++t;return t},empty:function(){for(var t in this)if(t[0]===o)return!1;return!0},each:function(t){for(var n in this)n[0]===o&&t(this[n],n.slice(1),this)}},n.a=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(110);e.d(n,"dispatch",function(){return r.a})},function(t,n,e){"use strict";function r(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function i(t,n){var e=r(t);return function(r,i){return n(e(r),i,t)}}function o(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}n.a=function(t){function n(t,n){var o,a,u=e(t,function(t,e){if(o)return o(t,e-1);a=t,o=n?i(t,n):r(t)});return u.columns=a,u}function e(t,n){function e(){if(s>=c)return a;if(i)return i=!1,o;var n,e=s;if(34===t.charCodeAt(e)){for(var r=e;r++<c;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return s=r+2,n=t.charCodeAt(r+1),13===n?(i=!0,10===t.charCodeAt(r+2)&&++s):10===n&&(i=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;s<c;){var u=1;if(10===(n=t.charCodeAt(s++)))i=!0;else if(13===n)i=!0,10===t.charCodeAt(s)&&(++s,++u);else if(n!==f)continue;return t.slice(e,s-u)}return t.slice(e)}for(var r,i,o={},a={},u=[],c=t.length,s=0,l=0;(r=e())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=e();n&&null==(h=n(h,l++))||u.push(h)}return u}function a(n,e){return null==e&&(e=o(n)),[e.map(s).join(t)].concat(n.map(function(n){return e.map(function(t){return s(n[t])}).join(t)})).join("\n")}function u(t){return t.map(c).join("\n")}function c(n){return n.map(s).join(t)}function s(t){return null==t?"":l.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var l=new RegExp('["'+t+"\n\r]"),f=t.charCodeAt(0);return{parse:n,parseRows:e,format:a,formatRows:u}}},function(t,n,e){"use strict";var r=e(34);n.a=function(t){return t=e.i(r.a)(Math.abs(t)),t?t[1]:NaN}},function(t,n,e){"use strict";n.a=function(t,n){return t=+t,n-=t,function(e){return t+n*e}}},function(t,n,e){"use strict";function r(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:e.i(d.a)(n)}function i(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}function o(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}function a(t,n,e,r){var i=t[0],o=t[1],a=n[0],u=n[1];return o<i?(i=e(o,i),a=r(u,a)):(i=e(i,o),a=r(a,u)),function(t){return a(i(t))}}function u(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),c=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++c<o;)a[c]=r(t[c],t[c+1]),u[c]=i(n[c],n[c+1]);return function(n){var r=e.i(l.bisect)(t,n,1,o)-1;return u[r](a[r](n))}}function c(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function s(t,n){function e(){return s=Math.min(g.length,m.length)>2?u:a,l=d=null,c}function c(n){return(l||(l=s(g,m,y?i(t):t,b)))(+n)}var s,l,d,g=v,m=v,b=f.interpolate,y=!1;return c.invert=function(t){return(d||(d=s(m,g,r,y?o(n):n)))(+t)},c.domain=function(t){return arguments.length?(g=h.a.call(t,p.a),e()):g.slice()},c.range=function(t){return arguments.length?(m=h.b.call(t),e()):m.slice()},c.rangeRound=function(t){return m=h.b.call(t),b=f.interpolateRound,e()},c.clamp=function(t){return arguments.length?(y=!!t,e()):y},c.interpolate=function(t){return arguments.length?(b=t,e()):b},e()}var l=e(3),f=e(7),h=e(10),d=e(37),p=e(87);n.b=r,n.c=c,n.a=s;var v=[0,1]},function(t,n,e){"use strict";function r(t,n){var r,i;return function(){var o=e.i(a.e)(this,t),u=o.tween;if(u!==r){i=r=u;for(var c=0,s=i.length;c<s;++c)if(i[c].name===n){i=i.slice(),i.splice(c,1);break}}o.tween=i}}function i(t,n,r){var i,o;if("function"!=typeof r)throw new Error;return function(){var u=e.i(a.e)(this,t),c=u.tween;if(c!==i){o=(i=c).slice();for(var s={name:n,value:r},l=0,f=o.length;l<f;++l)if(o[l].name===n){o[l]=s;break}l===f&&o.push(s)}u.tween=o}}function o(t,n,r){var i=t._id;return t.each(function(){var t=e.i(a.e)(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)}),function(t){return e.i(a.f)(t,i).value[n]}}var a=e(5);n.b=o,n.a=function(t,n){var o=this._id;if(t+="",arguments.length<2){for(var u,c=e.i(a.f)(this.node(),o).tween,s=0,l=c.length;s<l;++s)if((u=c[s]).name===t)return u.value;return null}return this.each((null==n?r:i)(o,t,n))}},function(t,n,e){"use strict";function r(t){return f[t]}function i(t){for(var n=1;n<arguments.length;n++)for(var e in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],e)&&(t[e]=arguments[n][e]);return t}function o(t,n){for(var e=0,r=t.length;e<r;e++)if(t[e]===n)return e;return-1}function a(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(h,r):t}function u(t){return!t&&0!==t||!(!g(t)||0!==t.length)}function c(t){var n=i({},t);return n._parent=t,n}function s(t,n){return t.path=n,t}function l(t,n){return(t?t+".":"")+n}n.__esModule=!0,n.extend=i,n.indexOf=o,n.escapeExpression=a,n.isEmpty=u,n.createFrame=c,n.blockParams=s,n.appendContextPath=l;var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;n.toString=p;var v=function(t){return"function"==typeof t};v(/x/)&&(n.isFunction=v=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),n.isFunction=v;var g=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};n.isArray=g},function(t,n,e){"use strict";function r(t){return[e.i(l.e)(t[1],t[0]),e.i(l.f)(t[2])]}function i(t){var n=t[0],r=t[1],i=e.i(l.c)(r);return[i*e.i(l.c)(n),i*e.i(l.d)(n),e.i(l.d)(r)]}function o(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function a(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function u(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function c(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function s(t){var n=e.i(l.n)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var l=e(0);n.f=r,n.a=i,n.c=o,n.b=a,n.e=u,n.d=c,n.g=s},function(t,n,e){"use strict";function r(t){return function(n,r){var i=e.i(o.c)(n),a=e.i(o.c)(r),u=t(i*a);return[u*a*e.i(o.d)(n),u*e.i(o.d)(r)]}}function i(t){return function(n,r){var i=e.i(o.n)(n*n+r*r),a=t(i),u=e.i(o.d)(a),c=e.i(o.c)(a);return[e.i(o.e)(n*u,i*c),e.i(o.f)(i&&r*u/i)]}}var o=e(0);n.b=r,n.a=i},function(t,n,e){"use strict";var r=e(15);n.a=function(t,n,e){if(null==e&&(e=r.a),i=t.length){if((n=+n)<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,o=(i-1)*n,a=Math.floor(o),u=+e(t[a],a,t);return u+(+e(t[a+1],a+1,t)-u)*(o-a)}}},function(t,n,e){"use strict";function r(){}function i(t){var n;return t=(t+"").trim().toLowerCase(),(n=_.exec(t))?(n=parseInt(n[1],16),new s(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=x.exec(t))?o(parseInt(n[1],16)):(n=M.exec(t))?new s(n[1],n[2],n[3],1):(n=E.exec(t))?new s(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=k.exec(t))?a(n[1],n[2],n[3],n[4]):(n=S.exec(t))?a(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=P.exec(t))?l(n[1],n[2]/100,n[3]/100,1):(n=j.exec(t))?l(n[1],n[2]/100,n[3]/100,n[4]):A.hasOwnProperty(t)?o(A[t]):"transparent"===t?new s(NaN,NaN,NaN,0):null}function o(t){return new s(t>>16&255,t>>8&255,255&t,1)}function a(t,n,e,r){return r<=0&&(t=n=e=NaN),new s(t,n,e,r)}function u(t){return t instanceof r||(t=i(t)),t?(t=t.rgb(),new s(t.r,t.g,t.b,t.opacity)):new s}function c(t,n,e,r){return 1===arguments.length?u(t):new s(t,n,e,null==r?1:r)}function s(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function l(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new d(t,n,e,r)}function f(t){if(t instanceof d)return new d(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new d;if(t instanceof d)return t;t=t.rgb();var n=t.r/255,e=t.g/255,o=t.b/255,a=Math.min(n,e,o),u=Math.max(n,e,o),c=NaN,s=u-a,l=(u+a)/2;return s?(c=n===u?(e-o)/s+6*(e<o):e===u?(o-n)/s+2:(n-e)/s+4,s/=l<.5?u+a:2-u-a,c*=60):s=l>0&&l<1?0:c,new d(c,s,l,t.opacity)}function h(t,n,e,r){return 1===arguments.length?f(t):new d(t,n,e,null==r?1:r)}function d(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function p(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}var v=e(33);n.d=r,e.d(n,"f",function(){return g}),e.d(n,"e",function(){return m}),n.a=i,n.c=u,n.h=c,n.b=s,n.g=h;var g=.7,m=1/g,b="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_=/^#([0-9a-f]{3})$/,x=/^#([0-9a-f]{6})$/,M=new RegExp("^rgb\\("+[b,b,b]+"\\)$"),E=new RegExp("^rgb\\("+[w,w,w]+"\\)$"),k=new RegExp("^rgba\\("+[b,b,b,y]+"\\)$"),S=new RegExp("^rgba\\("+[w,w,w,y]+"\\)$"),P=new RegExp("^hsl\\("+[y,w,w]+"\\)$"),j=new RegExp("^hsla\\("+[y,w,w,y]+"\\)$"),A={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e.i(v.a)(r,i,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e.i(v.a)(s,c,e.i(v.b)(r,{brighter:function(t){return t=null==t?m:Math.pow(m,t),new s(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new s(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e.i(v.a)(d,h,e.i(v.b)(r,{brighter:function(t){return t=null==t?m:Math.pow(m,t),new d(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?g:Math.pow(g,t),new d(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new s(p(t>=240?t-240:t+120,i,r),p(t,i,r),p(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,n,e){"use strict";function r(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}n.b=r,n.a=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t}},function(t,n,e){"use strict";n.a=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}},function(t,n,e){"use strict";function r(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}n.b=r,n.a=function(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,c=i<n-1?t[i+2]:2*a-o;return r((e-i/n)*n,u,o,a,c)}}},function(t,n,e){"use strict";var r=e(6),i=e(84),o=e(79),a=e(82),u=e(25),c=e(83),s=e(85),l=e(81);n.a=function(t,n){var f,h=typeof n;return null==n||"boolean"===h?e.i(l.a)(n):("number"===h?u.a:"string"===h?(f=e.i(r.color)(n))?(n=f,i.a):s.a:n instanceof r.color?i.a:n instanceof Date?a.a:Array.isArray(n)?o.a:isNaN(n)?c.a:u.a)(t,n)}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function r(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===a.b&&n.documentElement.namespaceURI===a.b?n.createElement(t):n.createElementNS(e,t)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var o=e(39),a=e(40);n.a=function(t){var n=e.i(o.a)(t);return(n.local?i:r)(n)}},function(t,n,e){"use strict";var r=e(40);n.a=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),r.a.hasOwnProperty(n)?{space:r.a[n],local:t}:t}},function(t,n,e){"use strict";e.d(n,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";n.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,n,e){"use strict";n.a=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}},function(t,n,e){"use strict";function r(t,n,e){return t=i(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function i(t,n,e){return function(r){var i=l;l=r;try{t.call(this,this.__data__,n,e)}finally{l=i}}}function o(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function a(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function u(t,n,e){var o=s.hasOwnProperty(t.type)?r:i;return function(r,i,a){var u,c=this.__on,s=o(n,i,a);if(c)for(var l=0,f=c.length;l<f;++l)if((u=c[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=s,u.capture=e),void(u.value=n);this.addEventListener(t.type,s,e),u={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(u):this.__on=[u]}}function c(t,n,e,r){var i=l;t.sourceEvent=l,l=t;try{return n.apply(e,r)}finally{l=i}}e.d(n,"a",function(){return l}),n.b=c;var s={},l=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(s={mouseenter:"mouseover",mouseleave:"mouseout"})}n.c=function(t,n,e){var r,i,c=o(t+""),s=c.length;{if(!(arguments.length<2)){for(l=n?u:a,null==e&&(e=!1),r=0;r<s;++r)this.each(l(c[r],n,e));return this}var l=this.node().__on;if(l)for(var f,h=0,d=l.length;h<d;++h)for(r=0,f=l[h];r<s;++r)if((i=c[r]).type===f.type&&i.name===f.name)return f.value}}},function(t,n,e){"use strict";function r(){}n.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,n,e){"use strict";var r=e(42);n.a=function(){for(var t,n=r.a;t=n.sourceEvent;)n=t;return n}},function(t,n,e){"use strict";n.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,n,e){"use strict";var r=e(96);e.d(n,"c",function(){return o}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return c});var i,o,a,u,c;!function(t){i=e.i(r.a)(t),o=i.format,a=i.parse,u=i.utcFormat,c=i.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(t,n,e){"use strict";var r=(e(1),e(244));e.d(n,"t",function(){return r.a}),e.d(n,"h",function(){return r.a});var i=e(247);e.d(n,"s",function(){return i.a}),e.d(n,"g",function(){return i.a});var o=e(245);e.d(n,"r",function(){return o.a});var a=e(243);e.d(n,"q",function(){return a.a});var u=e(242);e.d(n,"i",function(){return u.a});var c=e(254);e.d(n,"p",function(){return c.a}),e.d(n,"k",function(){return c.a}),e.d(n,"l",function(){return c.b});var s=e(246);e.d(n,"o",function(){return s.a});var l=e(255);e.d(n,"j",function(){return l.a});var f=e(250);e.d(n,"f",function(){return f.a});var h=e(249);e.d(n,"e",function(){return h.a});var d=e(248);e.d(n,"d",function(){return d.a});var p=e(252);e.d(n,"c",function(){return p.a}),e.d(n,"m",function(){return p.a}),e.d(n,"n",function(){return p.b});var v=e(251);e.d(n,"b",function(){return v.a});var g=e(253);e.d(n,"a",function(){return g.a})},function(t,n,e){"use strict";function r(){return y||(x(i),y=_.now()+w)}function i(){y=0}function o(){this._call=this._time=this._next=null}function a(t,n,e){var r=new o;return r.restart(t,n,e),r}function u(){r(),++p;for(var t,n=h;n;)(t=y-n._time)>=0&&n._call.call(null,t),n=n._next;--p}function c(){y=(b=_.now())+w,p=v=0;try{u()}finally{p=0,l(),y=0}}function s(){var t=_.now(),n=t-b;n>m&&(w-=n,b=t)}function l(){for(var t,n,e=h,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:h=n);d=t,f(r)}function f(t){if(!p){v&&(v=clearTimeout(v));var n=t-y;n>24?(t<1/0&&(v=setTimeout(c,n)),g&&(g=clearInterval(g))):(g||(b=y,g=setInterval(s,m)),p=1,x(c))}}n.c=r,n.b=o,n.a=a;var h,d,p=0,v=0,g=0,m=1e3,b=0,y=0,w=0,_="object"==typeof performance&&performance.now?performance:Date,x="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?r():+e)+(null==n?0:+n),this._next||d===this||(d?d._next=this:h=this,d=this),this._call=t,this._time=e,f()},stop:function(){this._call&&(this._call=null,this._time=1/0,f())}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(23);e.d(n,"dsvFormat",function(){return r.a});var i=e(111);e.d(n,"csvParse",function(){return i.a}),e.d(n,"csvParseRows",function(){return i.b}),e.d(n,"csvFormat",function(){return i.c}),e.d(n,"csvFormatRows",function(){return i.d});var o=e(112);e.d(n,"tsvParse",function(){return o.a}),e.d(n,"tsvParseRows",function(){return o.b}),e.d(n,"tsvFormat",function(){return o.c}),e.d(n,"tsvFormatRows",function(){return o.d})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(171);e.d(n,"formatDefaultLocale",function(){return r.c}),e.d(n,"format",function(){return r.a}),e.d(n,"formatPrefix",function(){return r.b});var i=e(72);e.d(n,"formatLocale",function(){return i.a});var o=e(70);e.d(n,"formatSpecifier",function(){return o.a});var a=e(177);e.d(n,"precisionFixed",function(){return a.a});var u=e(178);e.d(n,"precisionPrefix",function(){return u.a});var c=e(179);e.d(n,"precisionRound",function(){return c.a})},function(t,n,e){"use strict";function r(t,n){return[t>s.a?t-s.b:t<-s.a?t+s.b:t,n]}function i(t,n,i){return(t%=s.b)?n||i?e.i(c.a)(a(t),u(n,i)):a(t):n||i?u(n,i):r}function o(t){return function(n,e){return n+=t,[n>s.a?n-s.b:n<-s.a?n+s.b:n,e]}}function a(t){var n=o(t);return n.invert=o(-t),n}function u(t,n){function r(t,n){var r=e.i(s.c)(n),c=e.i(s.c)(t)*r,l=e.i(s.d)(t)*r,f=e.i(s.d)(n),h=f*i+c*o;return[e.i(s.e)(l*a-h*u,c*i-f*o),e.i(s.f)(h*a+l*u)]}var i=e.i(s.c)(t),o=e.i(s.d)(t),a=e.i(s.c)(n),u=e.i(s.d)(n);return r.invert=function(t,n){var r=e.i(s.c)(n),c=e.i(s.c)(t)*r,l=e.i(s.d)(t)*r,f=e.i(s.d)(n),h=f*a-l*u;return[e.i(s.e)(l*a+f*u,c*i+h*o),e.i(s.f)(h*i-c*o)]},r}var c=e(123),s=e(0);n.b=i,r.invert=r,n.a=function(t){function n(n){return n=t(n[0]*s.g,n[1]*s.g),n[0]*=s.h,n[1]*=s.h,n}return t=i(t[0]*s.g,t[1]*s.g,t.length>2?t[2]*s.g:0),n.invert=function(n){return n=t.invert(n[0]*s.g,n[1]*s.g),n[0]*=s.h,n[1]*=s.h,n},n}},function(t,n,e){"use strict";function r(t){return function(n){var e=new i;for(var r in t)e[r]=t[r];return e.stream=n,e}}function i(){}n.b=r,n.a=function(t){return{stream:r(t)}},i.prototype={constructor:i,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(107);e.d(n,"nest",function(){return r.a});var i=e(108);e.d(n,"set",function(){return i.a});var o=e(21);e.d(n,"map",function(){return o.a});var a=e(106);e.d(n,"keys",function(){return a.a});var u=e(109);e.d(n,"values",function(){return u.a});var c=e(105);e.d(n,"entries",function(){return c.a})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(6);Object.defineProperty(n,"rgb",{enumerable:!0,get:function(){return r.rgb}});var i=e(7);Object.defineProperty(n,"interpolateRgb",{enumerable:!0,get:function(){return i.interpolateRgb}}),Object.defineProperty(n,"interpolateHsl",{enumerable:!0,get:function(){return i.interpolateHsl}}),Object.defineProperty(n,"interpolateHcl",{enumerable:!0,get:function(){return i.interpolateHcl}});var o=e(50);Object.defineProperty(n,"format",{enumerable:!0,get:function(){return o.format}});var a=e(131);Object.defineProperty(n,"scaleLinear",{enumerable:!0,get:function(){return a.scaleLinear}}),Object.defineProperty(n,"scaleOrdinal",{enumerable:!0,get:function(){return a.scaleOrdinal}});var u=e(2);Object.defineProperty(n,"event",{enumerable:!0,get:function(){return u.event}}),Object.defineProperty(n,"mouse",{enumerable:!0,get:function(){return u.mouse}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return u.select}}),Object.defineProperty(n,"selectAll",{enumerable:!0,get:function(){return u.selectAll}});var c=e(314);Object.defineProperty(n,"zoom",{enumerable:!0,get:function(){return c.zoom}}),Object.defineProperty(n,"zoomIdentity",{enumerable:!0,get:function(){return c.zoomIdentity}}),Object.defineProperty(n,"zoomTransform",{enumerable:!0,get:function(){return c.zoomTransform}});var s=e(286);Object.defineProperty(n,"geoAlbers",{enumerable:!0,get:function(){return s.geoAlbers}}),Object.defineProperty(n,"geoAlbersUsa",{enumerable:!0,get:function(){return s.geoAlbersUsa}}),Object.defineProperty(n,"geoConicEqualArea",{enumerable:!0,get:function(){return s.geoConicEqualArea}}),Object.defineProperty(n,"geoPath",{enumerable:!0,get:function(){return s.geoPath}}),Object.defineProperty(n,"geoTransform",{enumerable:!0,get:function(){return s.geoTransform}})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Loader=n.LoaderItem=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(103),a=e(49),u=n.LoaderItem=function(){function t(n,e){r(this,t),this.url=n,this._cached=null,this.callbacks=[],this.loading=!1,this.attempts=3,"function"==typeof e&&(this.onError=e.bind(this));var i=document.createElement("a");if(i.href=n,this.extension=i.pathname.substr(-4),!this.url.match(/^https?:\/\//)){var o;o=this.url.indexOf("/api/")>-1?void 0!==window.BFUKGeodataAPIHostname?window.BFUKGeodataAPIHostname:"https://ukgeodata.buzzfeed.com":void 0!==window.BFUKStaticHostname?window.BFUKStaticHostname:"https://games.buzzfeed.com/_uk/geodata.v2",this.url=o+this.url}}return i(t,[{key:"get",value:function(t){this.callbacks.push(t),this.loading||null===this._cached?this.load():this.runCallbacks()}},{key:"load",value:function(){if(!this.loading){this.loading=!0;var t,n;".csv"==this.extension?(t="text/csv",n=(0,a.dsvFormat)(",","text/plain")):".ssv"==this.extension?(t="text/plain",n=(0,a.dsvFormat)(";","text/plain")):(t="application/json",n=JSON);var e=this.store.bind(this),r=this.onError.bind(this);(0,o.request)(this.url).mimeType(t).get(function(t){null!==t&&"responseText"in t?e(n.parse(t.responseText)):r(t)})}}},{key:"onError",value:function(t){this.loading=!1,--this.attempts>=0?(setTimeout(this.load.bind(this),5e3),console.warn("Error with "+this.url+", waiting 5 seconds")):(this.callbacks=[],console.error("Error fetching "+this.url+", abandoning"))}},{key:"store",value:function(t){this.loading=!1,".csv"==this.extension&&t.forEach(function(t){for(var n in t)isNaN(t[n])||""===t[n]||(t[n]=+t[n])}),this._cached=t,this.runCallbacks()}},{key:"runCallbacks",value:function(){for(var t;t=this.callbacks.shift();)t(JSON.parse(JSON.stringify(this._cached)))}},{key:"clear",value:function(){this._cached=null,this.attempts=3}}]),t}();n.Loader=function(){function t(){r(this,t),this.items={}}return i(t,[{key:"load",value:function(t,n,e,r){t in this.items||(this.items[t]=new u(t,e)),r&&this.items[t].clear(),this.items[t].get(n)}},{key:"jLoad",value:function(t){this.load(t.url,t.success,t.error,!0)}}]),t}()},function(t,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(t,n,e){"use strict";var r=e(13),i=e(58);e.d(n,"b",function(){return a}),e.d(n,"c",function(){return u});var o=e.i(i.a)(r.a),a=o.right,u=o.left;n.a=a},function(t,n,e){"use strict";function r(t){return function(n,r){return e.i(i.a)(t(n),r)}}var i=e(13);n.a=function(t){return 1===t.length&&(t=r(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}},function(t,n,e){"use strict";var r=e(67);n.a=function(t,n){var i=e.i(r.a)(t,n);return i?Math.sqrt(i):i}},function(t,n,e){"use strict";n.a=function(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}},function(t,n,e){"use strict";n.a=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}},function(t,n,e){"use strict";function r(t,n){return[t,n]}n.b=r,n.a=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);e<i;)a[e]=n(o,o=t[++e]);return a}},function(t,n,e){"use strict";n.a=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}},function(t,n,e){"use strict";n.a=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}},function(t,n,e){"use strict";function r(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,i);return i>=0?(c>=o?10:c>=a?5:c>=u?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(c>=o?10:c>=a?5:c>=u?2:1)}function i(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/i;return c>=o?i*=10:c>=a?i*=5:c>=u&&(i*=2),n<t?-i:i}n.b=r,n.c=i;var o=Math.sqrt(50),a=Math.sqrt(10),u=Math.sqrt(2);n.a=function(t,n,e){var i,o,a,u=n<t,c=-1;if(u&&(i=t,t=n,n=i),0===(a=r(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++c<i;)o[c]=(t+c)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++c<i;)o[c]=(t-c)/a;return u&&o.reverse(),o}},function(t,n,e){"use strict";function r(t){return t.length}var i=e(61);n.a=function(t){if(!(u=t.length))return[];for(var n=-1,o=e.i(i.a)(t,r),a=new Array(o);++n<o;)for(var u,c=-1,s=a[n]=new Array(u);++c<u;)s[c]=t[c][n];return a}},function(t,n,e){"use strict";var r=e(15);n.a=function(t,n){var i,o,a=t.length,u=0,c=-1,s=0,l=0;if(null==n)for(;++c<a;)isNaN(i=e.i(r.a)(t[c]))||(o=i-s,s+=o/++u,l+=o*(i-s));else for(;++c<a;)isNaN(i=e.i(r.a)(n(t[c],c,t)))||(o=i-s,s+=o/++u,l+=o*(i-s));if(u>1)return l/(u-1)}},function(t,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,n,e){"use strict";var r=e(34);e.d(n,"b",function(){return i});var i;n.a=function(t,n){var o=e.i(r.a)(t,n);if(!o)return t+"";var a=o[0],u=o[1],c=u-(i=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,s=a.length;return c===s?a:c>s?a+new Array(c-s+1).join("0"):c>0?a.slice(0,c)+"."+a.slice(c):"0."+new Array(1-c).join("0")+e.i(r.a)(t,Math.max(0,n+c-1))[0]}},function(t,n,e){"use strict";function r(t){return new i(t)}function i(t){if(!(n=a.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",u=n[4]||"",c=!!n[5],s=n[6]&&+n[6],l=!!n[7],f=n[8]&&+n[8].slice(1),h=n[9]||"";"n"===h?(l=!0,h="g"):o.a[h]||(h=""),(c||"0"===e&&"="===r)&&(c=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=u,this.zero=c,this.width=s,this.comma=l,this.precision=f,this.type=h}var o=e(71);n.a=r;var a=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type}},function(t,n,e){"use strict";var r=e(172),i=e(69),o=e(175);n.a={"":r.a,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return e.i(o.a)(100*t,n)},r:o.a,s:i.a,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}}},function(t,n,e){"use strict";var r=e(24),i=e(173),o=e(174),a=e(70),u=e(71),c=e(69),s=e(176),l=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];n.a=function(t){function n(t){function n(t){var n,e,a,u=_,s=x;if("c"===w)s=M(t)+s,t="";else{t=+t;var d=t<0;if(t=M(Math.abs(t),y),d&&0==+t&&(d=!1),u=(d?"("===o?o:"-":"-"===o||"("===o?"":o)+u,s=s+("s"===w?l[8+c.b/3]:"")+(d&&"("===o?")":""),E)for(n=-1,e=t.length;++n<e;)if(48>(a=t.charCodeAt(n))||a>57){s=(46===a?p+t.slice(n+1):t.slice(n))+s,t=t.slice(0,n);break}}b&&!f&&(t=h(t,1/0));var g=u.length+t.length+s.length,k=g<m?new Array(m-g+1).join(r):"";switch(b&&f&&(t=h(k+t,k.length?m-s.length:1/0),k=""),i){case"<":t=u+t+s+k;break;case"=":t=u+k+t+s;break;case"^":t=k.slice(0,g=k.length>>1)+u+t+s+k.slice(g);break;default:t=k+u+t+s}return v(t)}t=e.i(a.a)(t);var r=t.fill,i=t.align,o=t.sign,s=t.symbol,f=t.zero,m=t.width,b=t.comma,y=t.precision,w=t.type,_="$"===s?d[0]:"#"===s&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",x="$"===s?d[1]:/[%p]/.test(w)?g:"",M=u.a[w],E=!w||/[defgprs%]/.test(w);return y=null==y?w?6:12:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),n.toString=function(){return t+""},n}function f(t,i){var o=n((t=e.i(a.a)(t),t.type="f",t)),u=3*Math.max(-8,Math.min(8,Math.floor(e.i(r.a)(i)/3))),c=Math.pow(10,-u),s=l[8+u/3];return function(t){return o(c*t)+s}}var h=t.grouping&&t.thousands?e.i(i.a)(t.grouping,t.thousands):s.a,d=t.currency,p=t.decimal,v=t.numerals?e.i(o.a)(t.numerals):s.a,g=t.percent||"%";return{format:n,formatPrefix:f}}},function(t,n,e){"use strict";function r(t,n,r,f){function h(e,i){return t<=e&&e<=r&&n<=i&&i<=f}function d(e,i,o,a){var u=0,c=0;if(null==e||(u=p(e,o))!==(c=p(i,o))||g(e,i)<0^o>0)do{a.point(0===u||3===u?t:r,u>1?f:n)}while((u=(u+o+4)%4)!==c);else a.point(i[0],i[1])}function p(o,a){return e.i(i.p)(o[0]-t)<i.o?a>0?0:3:e.i(i.p)(o[0]-r)<i.o?a>0?2:1:e.i(i.p)(o[1]-n)<i.o?a>0?1:0:a>0?3:2}function v(t,n){return g(t.x,n.x)}function g(t,n){var e=p(t,1),r=p(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(i){function p(t,n){h(t,n)&&N.point(t,n)}function g(){for(var n=0,e=0,r=M.length;e<r;++e)for(var i,o,a=M[e],u=1,c=a.length,s=a[0],l=s[0],h=s[1];u<c;++u)i=l,o=h,s=a[u],l=s[0],h=s[1],o<=f?h>f&&(l-i)*(f-o)>(h-o)*(t-i)&&++n:h<=f&&(l-i)*(f-o)<(h-o)*(t-i)&&--n;return n}function m(){N=L,x=[],M=[],C=!0}function b(){var t=g(),n=C&&t,r=(x=e.i(c.merge)(x)).length;(n||r)&&(i.polygonStart(),n&&(i.lineStart(),d(null,null,1,i),i.lineEnd()),r&&e.i(u.a)(x,v,t,d,i),i.polygonEnd()),N=i,x=M=E=null}function y(){F.point=_,M&&M.push(E=[]),T=!0,O=!1,j=A=NaN}function w(){x&&(_(k,S),P&&O&&L.rejoin(),x.push(L.result())),F.point=p,O&&N.lineEnd()}function _(i,o){var u=h(i,o);if(M&&E.push([i,o]),T)k=i,S=o,P=u,T=!1,u&&(N.lineStart(),N.point(i,o));else if(u&&O)N.point(i,o);else{var c=[j=Math.max(l,Math.min(s,j)),A=Math.max(l,Math.min(s,A))],d=[i=Math.max(l,Math.min(s,i)),o=Math.max(l,Math.min(s,o))];e.i(a.a)(c,d,t,n,r,f)?(O||(N.lineStart(),N.point(c[0],c[1])),N.point(d[0],d[1]),u||N.lineEnd(),C=!1):u&&(N.lineStart(),N.point(i,o),C=!1)}j=i,A=o,O=u}var x,M,E,k,S,P,j,A,O,T,C,N=i,L=e.i(o.a)(),F={point:p,lineStart:y,lineEnd:w,polygonStart:m,polygonEnd:b};return F}}var i=e(0),o=e(120),a=e(291),u=e(122),c=e(3);n.b=r;var s=1e9,l=-s;n.a=function(){var t,n,e,i=0,o=0,a=960,u=500;return e={stream:function(e){return t&&n===e?t:t=r(i,o,a,u)(n=e)},extent:function(r){return arguments.length?(i=+r[0][0],o=+r[0][1],a=+r[1][0],u=+r[1][1],t=n=null,e):[[i,o],[a,u]]}}}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";function r(t){var n=0,r=i.a/3,a=e.i(o.b)(t),u=a(n,r);return u.parallels=function(t){return arguments.length?a(n=t[0]*i.g,r=t[1]*i.g):[n*i.h,r*i.h]},u}var i=e(0),o=e(11);n.a=r},function(t,n,e){"use strict";function r(t,n){function r(t,n){var r=e.i(i.n)(c-2*u*e.i(i.d)(n))/u;return[r*e.i(i.d)(t*=u),s-r*e.i(i.c)(t)]}var o=e.i(i.d)(t),u=(o+e.i(i.d)(n))/2;if(e.i(i.p)(u)<i.o)return e.i(a.a)(t);var c=1+o*(2*u-o),s=e.i(i.n)(c)/u;return r.invert=function(t,n){var r=s-n;return[e.i(i.e)(t,e.i(i.p)(r))/u*e.i(i.s)(r),e.i(i.f)((c-(t*t+r*r)*u*u)/(2*u))]},r}var i=e(0),o=e(75),a=e(307);n.b=r,n.a=function(){return e.i(o.a)(r).scale(155.424).center([0,33.6442])}},function(t,n,e){"use strict";function r(t,n,r){var i=n[1][0]-n[0][0],u=n[1][1]-n[0][1],c=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=c&&t.clipExtent(null),e.i(o.a)(r,t.stream(a.a));var s=a.a.result(),l=Math.min(i/(s[1][0]-s[0][0]),u/(s[1][1]-s[0][1])),f=+n[0][0]+(i-l*(s[1][0]+s[0][0]))/2,h=+n[0][1]+(u-l*(s[1][1]+s[0][1]))/2;return null!=c&&t.clipExtent(c),t.scale(150*l).translate([f,h])}function i(t,n,e){return r(t,[[0,0],n],e)}var o=e(16),a=e(126);n.a=r,n.b=i},function(t,n,e){"use strict";function r(t,n){return[t,e.i(o.i)(e.i(o.j)((o.k+n)/2))]}function i(t){function n(){var n=o.a*h(),u=l(e.i(a.a)(l.rotate()).invert([0,0]));return p(null==v?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===r?[[Math.max(u[0]-n,v),i],[Math.min(u[0]+n,c),s]]:[[v,Math.max(u[1]-n,i)],[c,Math.min(u[1]+n,s)]])}var i,c,s,l=e.i(u.a)(t),f=l.center,h=l.scale,d=l.translate,p=l.clipExtent,v=null;return l.scale=function(t){return arguments.length?(h(t),n()):h()},l.translate=function(t){return arguments.length?(d(t),n()):d()},l.center=function(t){return arguments.length?(f(t),n()):f()},l.clipExtent=function(t){return arguments.length?(null==t?v=i=c=s=null:(v=+t[0][0],i=+t[0][1],c=+t[1][0],s=+t[1][1]),n()):null==v?null:[[v,i],[c,s]]},n()}var o=e(0),a=e(51),u=e(11);n.b=r,n.c=i,r.invert=function(t,n){return[t,2*e.i(o.l)(e.i(o.m)(n))-o.k]},n.a=function(){return i(r).scale(961/o.b)}},function(t,n,e){"use strict";var r=e(36);n.a=function(t,n){var i,o=n?n.length:0,a=t?Math.min(o,t.length):0,u=new Array(o),c=new Array(o);for(i=0;i<a;++i)u[i]=e.i(r.a)(t[i],n[i]);for(;i<o;++i)c[i]=n[i];return function(t){for(i=0;i<a;++i)c[i]=u[i](t);return c}}},function(t,n,e){"use strict";var r=e(35);n.a=function(t){var n=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*n),a=t[(o+n-1)%n],u=t[o%n],c=t[(o+1)%n],s=t[(o+2)%n];return e.i(r.b)((i-o/n)*n,a,u,c,s)}}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";n.a=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}},function(t,n,e){"use strict";var r=e(36);n.a=function(t,n){var i,o={},a={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(i in n)i in t?o[i]=e.i(r.a)(t[i],n[i]):a[i]=n[i];return function(t){for(i in o)a[i]=o[i](t);return a}}},function(t,n,e){"use strict";function r(t){return function(n){var r,o,a=n.length,u=new Array(a),c=new Array(a),s=new Array(a);for(r=0;r<a;++r)o=e.i(i.rgb)(n[r]),u[r]=o.r||0,c[r]=o.g||0,s[r]=o.b||0;return u=t(u),c=t(c),s=t(s),o.opacity=1,function(t){return o.r=u(t),o.g=c(t),o.b=s(t),o+""}}}var i=e(6),o=e(35),a=e(80),u=e(17);e.d(n,"b",function(){return c}),e.d(n,"c",function(){return s}),n.a=function t(n){function r(t,n){var r=o((t=e.i(i.rgb)(t)).r,(n=e.i(i.rgb)(n)).r),a=o(t.g,n.g),c=o(t.b,n.b),s=e.i(u.a)(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=a(n),t.b=c(n),t.opacity=s(n),t+""}}var o=e.i(u.c)(n);return r.gamma=t,r}(1);var c=r(o.a),s=r(a.a)},function(t,n,e){"use strict";function r(t){return function(){return t}}function i(t){return function(n){return t(n)+""}}var o=e(25),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u=new RegExp(a.source,"g");n.a=function(t,n){var c,s,l,f=a.lastIndex=u.lastIndex=0,h=-1,d=[],p=[];for(t+="",n+="";(c=a.exec(t))&&(s=u.exec(n));)(l=s.index)>f&&(l=n.slice(f,l),d[h]?d[h]+=l:d[++h]=l),(c=c[0])===(s=s[0])?d[h]?d[h]+=s:d[++h]=s:(d[++h]=null,p.push({i:h,x:e.i(o.a)(c,s)})),f=u.lastIndex;return f<n.length&&(l=n.slice(f),d[h]?d[h]+=l:d[++h]=l),d.length<2?p[0]?i(p[0].x):r(n):(n=p.length,function(t){for(var e,r=0;r<n;++r)d[(e=p[r]).i]=e.x(t);return d.join("")})}},function(t,n,e){"use strict";n.a=function(t,n){t=t.slice();var e,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}},function(t,n,e){"use strict";n.a=function(t){return+t}},function(t,n,e){"use strict";function r(t){function n(n){var e=n+"",r=u.get(e);if(!r){if(s!==a)return s;u.set(e,r=c.push(n))}return t[(r-1)%t.length]}var u=e.i(i.map)(),c=[],s=a;return t=null==t?[]:o.b.call(t),n.domain=function(t){if(!arguments.length)return c.slice();c=[],u=e.i(i.map)();for(var r,o,a=-1,s=t.length;++a<s;)u.has(o=(r=t[a])+"")||u.set(o,c.push(r));return n},n.range=function(e){return arguments.length?(t=o.b.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(s=t,n):s},n.copy=function(){return r().domain(c).range(t).unknown(s)},n}var i=e(53),o=e(10);e.d(n,"b",function(){return a}),n.a=r;var a={name:"implicit"}},function(t,n,e){"use strict";function r(t){return new Date(t)}function i(t){return t instanceof Date?+t:+new Date(+t)}function o(t,n,c,s,w,_,x,M,E){function k(e){return(x(e)<e?O:_(e)<e?T:w(e)<e?C:s(e)<e?N:n(e)<e?c(e)<e?L:F:t(e)<e?z:D)(e)}function S(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-r)/n,c=e.i(a.bisector)(function(t){return t[2]}).right(R,u);c===R.length?(o=e.i(a.tickStep)(r/y,i/y,n),n=t):c?(c=R[u/R[c-1][2]<R[c][2]/u?c-1:c],o=c[1],n=c[0]):(o=e.i(a.tickStep)(r,i,n),n=M)}return null==o?n:n.every(o)}var P=e.i(f.a)(f.b,u.interpolateNumber),j=P.invert,A=P.domain,O=E(".%L"),T=E(":%S"),C=E("%I:%M"),N=E("%I %p"),L=E("%a %d"),F=E("%b %d"),z=E("%B"),D=E("%Y"),R=[[x,1,d],[x,5,5*d],[x,15,15*d],[x,30,30*d],[_,1,p],[_,5,5*p],[_,15,15*p],[_,30,30*p],[w,1,v],[w,3,3*v],[w,6,6*v],[w,12,12*v],[s,1,g],[s,2,2*g],[c,1,m],[n,1,b],[n,3,3*b],[t,1,y]];return P.invert=function(t){return new Date(j(t))},P.domain=function(t){return arguments.length?A(l.a.call(t,i)):A().map(r)},P.ticks=function(t,n){var e,r=A(),i=r[0],o=r[r.length-1],a=o<i;return a&&(e=i,i=o,o=e),e=S(t,i,o,n),e=e?e.range(i,o+1):[],a?e.reverse():e},P.tickFormat=function(t,n){return null==n?k:E(n)},P.nice=function(t,n){var r=A();return(t=S(t,r[0],r[r.length-1],n))?A(e.i(h.a)(r,t)):P},P.copy=function(){return e.i(f.c)(P,o(t,n,c,s,w,_,x,M,E))},P}var a=e(3),u=e(7),c=e(47),s=e(94),l=e(10),f=e(26),h=e(86);n.b=o;var d=1e3,p=60*d,v=60*p,g=24*v,m=7*g,b=30*g,y=365*g;n.a=function(){return o(c.j,c.o,c.p,c.i,c.q,c.r,c.s,c.t,s.b).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(t,n,e){"use strict";var r=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var i=document.documentElement;if(!i.matches){var o=i.webkitMatchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector;r=function(t){return function(){return o.call(this,t)}}}}n.a=r},function(t,n,e){"use strict";function r(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}var i=e(92),o=e(4);n.b=r,n.a=function(){return new o.b(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}}},function(t,n,e){"use strict";n.a=function(t){return new Array(t.length)}},function(t,n,e){"use strict";function r(){return[]}n.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,n,e){"use strict";var r=e(46);e.d(n,"b",function(){return r.c}),e.d(n,"a",function(){return r.a});e(96),e(95),e(241)},function(t,n,e){"use strict";function r(t){return t.toISOString()}var i=e(46);e.d(n,"a",function(){return o});var o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||e.i(i.a)(o)},function(t,n,e){"use strict";function r(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function a(t){function n(t,n){return function(e){var r,i,o,a=[],u=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(c,u)),null!=(i=nt[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),c=u+1);return a.push(t.slice(c,u)),a.join("")}}function e(t,n){return function(e){var r=o(1900);if(a(r,t,e+="",0)!=e.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var u="Z"in r?i(o(r.y)).getUTCDay():n(o(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(u+5)%7:r.w+7*r.U-(u+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,i(r)):n(r)}}function a(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(r>=c)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=Dt[i in nt?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function u(t,n,e){var r=kt.exec(n.slice(e));return r?(t.p=St[r[0].toLowerCase()],e+r[0].length):-1}function c(t,n,e){var r=At.exec(n.slice(e));return r?(t.w=Ot[r[0].toLowerCase()],e+r[0].length):-1}function tt(t,n,e){var r=Pt.exec(n.slice(e));return r?(t.w=jt[r[0].toLowerCase()],e+r[0].length):-1}function et(t,n,e){var r=Nt.exec(n.slice(e));return r?(t.m=Lt[r[0].toLowerCase()],e+r[0].length):-1}function rt(t,n,e){var r=Tt.exec(n.slice(e));return r?(t.m=Ct[r[0].toLowerCase()],e+r[0].length):-1}function it(t,n,e){return a(t,mt,n,e)}function ot(t,n,e){return a(t,bt,n,e)}function at(t,n,e){return a(t,yt,n,e)}function ut(t){return xt[t.getDay()]}function ct(t){return _t[t.getDay()]}function st(t){return Et[t.getMonth()]}function lt(t){return Mt[t.getMonth()]}function ft(t){return wt[+(t.getHours()>=12)]}function ht(t){return xt[t.getUTCDay()]}function dt(t){return _t[t.getUTCDay()]}function pt(t){return Et[t.getUTCMonth()]}function vt(t){return Mt[t.getUTCMonth()]}function gt(t){return wt[+(t.getUTCHours()>=12)]}var mt=t.dateTime,bt=t.date,yt=t.time,wt=t.periods,_t=t.days,xt=t.shortDays,Mt=t.months,Et=t.shortMonths,kt=s(wt),St=l(wt),Pt=s(_t),jt=l(_t),At=s(xt),Ot=l(xt),Tt=s(Mt),Ct=l(Mt),Nt=s(Et),Lt=l(Et),Ft={a:ut,A:ct,b:st,B:lt,c:null,d:k,e:k,H:S,I:P,j:j,L:A,m:O,M:T,p:ft,S:C,U:N,w:L,W:F,x:null,X:null,y:z,Y:D,Z:R,"%":Q},zt={a:ht,A:dt,b:pt,B:vt,c:null,d:U,e:U,H:I,I:H,j:B,L:q,m:$,M:V,p:gt,S:W,U:G,w:Y,W:X,x:null,X:null,y:K,Y:J,Z:Z,"%":Q},Dt={a:c,A:tt,b:et,B:rt,c:it,d:b,e:b,H:w,I:w,j:y,L:M,m:m,M:_,p:u,S:x,U:h,w:f,W:d,x:ot,X:at,y:v,Y:p,Z:g,"%":E};return Ft.x=n(bt,Ft),Ft.X=n(yt,Ft),Ft.c=n(mt,Ft),zt.x=n(bt,zt),zt.X=n(yt,zt),zt.c=n(mt,zt),{format:function(t){var e=n(t+="",Ft);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",r);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",zt);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,i);return n.toString=function(){return t},n}}}function u(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function c(t){return t.replace(it,"\\$&")}function s(t){return new RegExp("^(?:"+t.map(c).join("|")+")","i")}function l(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function f(t,n,e){var r=et.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function h(t,n,e){var r=et.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function d(t,n,e){var r=et.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function p(t,n,e){var r=et.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function v(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function g(t,n,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function m(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function b(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function y(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function w(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function _(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function x(t,n,e){var r=et.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function M(t,n,e){var r=et.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function E(t,n,e){var r=rt.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function k(t,n){return u(t.getDate(),n,2)}function S(t,n){return u(t.getHours(),n,2)}function P(t,n){return u(t.getHours()%12||12,n,2)}function j(t,n){return u(1+tt.i.count(e.i(tt.j)(t),t),n,3)}function A(t,n){return u(t.getMilliseconds(),n,3)}function O(t,n){return u(t.getMonth()+1,n,2)}function T(t,n){return u(t.getMinutes(),n,2)}function C(t,n){return u(t.getSeconds(),n,2)}function N(t,n){return u(tt.k.count(e.i(tt.j)(t),t),n,2)}function L(t){return t.getDay()}function F(t,n){return u(tt.l.count(e.i(tt.j)(t),t),n,2)}function z(t,n){return u(t.getFullYear()%100,n,2)}function D(t,n){return u(t.getFullYear()%1e4,n,4)}function R(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+u(n/60|0,"0",2)+u(n%60,"0",2)}function U(t,n){return u(t.getUTCDate(),n,2)}function I(t,n){return u(t.getUTCHours(),n,2)}function H(t,n){return u(t.getUTCHours()%12||12,n,2)}function B(t,n){return u(1+tt.d.count(e.i(tt.a)(t),t),n,3)}function q(t,n){return u(t.getUTCMilliseconds(),n,3)}function $(t,n){return u(t.getUTCMonth()+1,n,2)}function V(t,n){return u(t.getUTCMinutes(),n,2)}function W(t,n){return u(t.getUTCSeconds(),n,2)}function G(t,n){return u(tt.m.count(e.i(tt.a)(t),t),n,2)}function Y(t){return t.getUTCDay()}function X(t,n){return u(tt.n.count(e.i(tt.a)(t),t),n,2)}function K(t,n){return u(t.getUTCFullYear()%100,n,2)}function J(t,n){return u(t.getUTCFullYear()%1e4,n,4)}function Z(){return"+0000"}function Q(){return"%"}var tt=e(47);n.a=a;var nt={"-":"",_:" ",0:"0"},et=/^\s*\d+/,rt=/^%/,it=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g},function(t,n,e){"use strict";var r=e(48);e.d(n,"c",function(){return r.c}),e.d(n,"a",function(){return r.a});var i=e(257);e.d(n,"b",function(){return i.a});e(256)},function(t,n,e){"use strict";var r=e(5);n.a=function(t,n){var e,i,o,a=t.__transition,u=!0;if(a){n=null==n?null:n+"";for(o in a)(e=a[o]).name===n?(i=e.state>r.a&&e.state<r.b,e.state=r.c,e.timer.stop(),i&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete a[o]):u=!1;u&&delete t.__transition}}},function(t,n,e){"use strict";var r=e(6),i=e(7);n.a=function(t,n){var o;return("number"==typeof n?i.interpolateNumber:n instanceof r.color?i.interpolateRgb:(o=e.i(r.color)(n))?(n=o,i.interpolateRgb):i.interpolateString)(t,n)}},function(t,n,e){"use strict";function r(t,n){var e=n&&n.loc,o=void 0,a=void 0;e&&(o=e.start.line,a=e.start.column,t+=" - "+o+":"+a);for(var u=Error.prototype.constructor.call(this,t),c=0;c<i.length;c++)this[i[c]]=u[i[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{e&&(this.lineNumber=o,Object.defineProperty?Object.defineProperty(this,"column",{value:a}):this.column=a)}catch(t){}}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,n.default=r,t.exports=n.default},function(t,n,e){"use strict";function r(t,n){var e=n.id,r=n.bbox,o=null==n.properties?{}:n.properties,a=i(t,n);return null==e&&null==r?{type:"Feature",properties:o,geometry:a}:null==r?{type:"Feature",id:e,properties:o,geometry:a}:{type:"Feature",id:e,bbox:r,properties:o,geometry:a}}function i(t,n){function r(t,n){n.length&&n.pop();for(var r=h[t<0?~t:t],i=0,a=r.length;i<a;++i)n.push(f(r[i],i));t<0&&e.i(o.a)(n,a)}function i(t){return f(t)}function u(t){for(var n=[],e=0,i=t.length;e<i;++e)r(t[e],n);return n.length<2&&n.push(n[0]),n}function c(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(c)}function l(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(l)};case"Point":n=i(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(i);break;case"LineString":n=u(t.arcs);break;case"MultiLineString":n=t.arcs.map(u);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:e,coordinates:n}}var f=e.i(a.a)(t.transform),h=t.arcs;return l(n)}var o=e(335),a=e(102);n.b=i,n.a=function(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return r(t,n)})}:r(t,n)}},function(t,n,e){"use strict";var r=e(138);n.a=function(t){if(null==t)return r.a;var n,e,i=t.scale[0],o=t.scale[1],a=t.translate[0],u=t.translate[1];return function(t,r){r||(n=e=0);var c=2,s=t.length,l=new Array(s);for(l[0]=(n+=t[0])*i+a,l[1]=(e+=t[1])*o+u;c<s;)l[c]=t[c],++c;return l}}},function(t,n,e){!function(t,r){r(n,e(53),e(22),e(49))}(0,function(t,n,e,r){"use strict";function i(t){return function(n,e){t(null==n?e:null)}}function o(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function a(t,n){return function(e){return t(e.responseText,n)}}var u=function(t,r){function a(t){var n,e=d.status;if(!e&&o(d)||e>=200&&e<300||304===e){if(s)try{n=s.call(u,d)}catch(t){return void f.call("error",u,t)}else n=d;f.call("load",u,n)}else f.call("error",u,t)}var u,c,s,l,f=e.dispatch("beforesend","progress","load","error"),h=n.map(),d=new XMLHttpRequest,p=null,v=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(t)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=a:d.onreadystatechange=function(t){d.readyState>3&&a(t)},d.onprogress=function(t){f.call("progress",u,t)},u={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?h.get(t):(null==n?h.remove(t):h.set(t,n+""),u)},mimeType:function(t){return arguments.length?(c=null==t?null:t+"",u):c},responseType:function(t){return arguments.length?(l=t,u):l},timeout:function(t){return arguments.length?(g=+t,u):g},user:function(t){return arguments.length<1?p:(p=null==t?null:t+"",u)},password:function(t){return arguments.length<1?v:(v=null==t?null:t+"",u)},response:function(t){return s=t,u},get:function(t,n){return u.send("GET",t,n)},post:function(t,n){return u.send("POST",t,n)},send:function(n,e,r){return d.open(n,t,!0,p,v),null==c||h.has("accept")||h.set("accept",c+",*/*"),d.setRequestHeader&&h.each(function(t,n){d.setRequestHeader(n,t)}),null!=c&&d.overrideMimeType&&d.overrideMimeType(c),null!=l&&(d.responseType=l),g>0&&(d.timeout=g),null==r&&"function"==typeof e&&(r=e,e=null),null!=r&&1===r.length&&(r=i(r)),null!=r&&u.on("error",r).on("load",function(t){r(null,t)}),f.call("beforesend",u,d),d.send(null==e?null:e),u},abort:function(){return d.abort(),u},on:function(){var t=f.on.apply(f,arguments);return t===f?u:t}},null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return u.get(r)}return u},c=function(t,n){return function(e,r){var i=u(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},s=c("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),l=c("application/json",function(t){return JSON.parse(t.responseText)}),f=c("text/plain",function(t){return t.responseText}),h=c("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),d=function(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=u(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(a(n,r=t)):r},o.row(r),i?o.get(i):o}},p=d("text/csv",r.csvParse),v=d("text/tab-separated-values",r.tsvParse);t.request=u,t.html=s,t.json=l,t.text=f,t.xml=h,t.csv=p,t.tsv=v,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.MainPoliticalParties={Con:{color:"#1B62E2",name:"Conservative",abbreviation:"Con"},Lab:{color:"#EE3624",name:"Labour",abbreviation:"Lab"},UKIP:{color:"#6157A5",name:"UK Independence Party",abbreviation:"UKIP"},LD:{color:"#f7ad19",name:"Lib Dem",abbreviation:"LD"},Grn:{color:"#31a354",name:"Green",abbreviation:"Grn"},Ind:{color:"#888888",name:"Independent",abbreviation:"Ind"},Spk:{color:"#CCCCCC",name:"Speaker",abbreviation:"Spk"},SNP:{color:"#fff200",name:"Scottish National Party",abbreviation:"SNP"},PC:{color:"#3D7B3B",name:"Plaid Cymru",abbreviation:"PC"},DUP:{color:"#8b7cf7",name:"Democratic Unionist",abbreviation:"DUP"},SF:{color:"#67AF45",name:"Sinn Fein",abbreviation:"SF"},UUP:{color:"#332D7F",name:"Ulster Unionist",abbreviation:"UUP"},SDLP:{color:"#007D7C",name:"Social Democratic & Labour Party",abbreviation:"SDLP"},AP:{color:"#FFCA44",name:"Alliance",abbreviation:"AP"},NOC:{color:"#CCCCCC",name:"No Overall Control",abbreviation:"NOC"},Oth:{color:"#E0E0E0",name:"Other",abbreviation:"Oth"}}},function(t,n,e){"use strict";n.a=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}},function(t,n,e){"use strict";n.a=function(t){var n=[];for(var e in t)n.push(e);return n}},function(t,n,e){"use strict";function r(){return{}}function i(t,n,e){t[n]=e}function o(){return e.i(u.a)()}function a(t,n,e){t.set(n,e)}var u=e(21);n.a=function(){function t(n,r,i,o){if(r>=f.length)return null!=s?s(n):null!=c?n.sort(c):n;for(var a,l,h,d=-1,p=n.length,v=f[r++],g=e.i(u.a)(),m=i();++d<p;)(h=g.get(a=v(l=n[d])+""))?h.push(l):g.set(a,[l]);return g.each(function(n,e){o(m,e,t(n,r,i,o))}),m}function n(t,e){if(++e>f.length)return t;var r,i=h[e-1];return null!=s&&e>=f.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:n(t,e)})})),null!=i?r.sort(function(t,n){return i(t.key,n.key)}):r}var c,s,l,f=[],h=[];return l={object:function(n){return t(n,0,r,i)},map:function(n){return t(n,0,o,a)},entries:function(e){return n(t(e,0,o,a),0)},key:function(t){return f.push(t),l},sortKeys:function(t){return h[f.length-1]=t,l},sortValues:function(t){return c=t,l},rollup:function(t){return s=t,l}}}},function(t,n,e){"use strict";function r(){}function i(t,n){var e=new r;if(t instanceof r)t.each(function(t){e.add(t)});else if(t){var i=-1,o=t.length;if(null==n)for(;++i<o;)e.add(t[i]);else for(;++i<o;)e.add(n(t[i],i,t))}return e}var o=e(21),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(t){return t+="",this[o.b+t]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each},n.a=i},function(t,n,e){"use strict";n.a=function(t){var n=[];for(var e in t)n.push(t[e]);return n}},function(t,n,e){"use strict";function r(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function a(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function u(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=c,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}var c={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(t,n){var e,r=this._,i=o(t+"",r),c=-1,s=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++c<s;)if(e=(t=i[c]).type)r[e]=u(r[e],t.name,n);else if(null==n)for(e in r)r[e]=u(r[e],t.name,null);return this}for(;++c<s;)if((e=(t=i[c]).type)&&(e=a(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new i(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}},n.a=r},function(t,n,e){"use strict";var r=e(23);e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return c});var i=e.i(r.a)(","),o=i.parse,a=i.parseRows,u=i.format,c=i.formatRows},function(t,n,e){"use strict";var r=e(23);e.d(n,"a",function(){return o}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return c});var i=e.i(r.a)("\t"),o=i.parse,a=i.parseRows,u=i.format,c=i.formatRows},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(137);e.d(n,"bbox",function(){return r.a});var i=e(101);e.d(n,"feature",function(){return i.a});var o=e(332);e.d(n,"mesh",function(){return o.a}),e.d(n,"meshArcs",function(){return o.b});var a=e(331);e.d(n,"merge",function(){return a.a}),e.d(n,"mergeArcs",function(){return a.b});var u=e(333);e.d(n,"neighbors",function(){return u.a});var c=e(334);e.d(n,"quantize",function(){return c.a});var s=e(102);e.d(n,"transform",function(){return s.a});var l=e(140);e.d(n,"untransform",function(){return l.a})},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.MapView=void 0;var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c=function t(n,e,r){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,e);if(void 0===i){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=e(54),l=r(s),f=e(113),h=r(f),d=e(325),p=function(t){return t&&t.__esModule?t:{default:t}}(d),v=e(12),g=e(279),m=e(141),b=function(t){function n(t,e){i(this,n);var r={outerBoundaries:!0,innerBoundaries:!0,outerBoundaryWidth:.5,innerBoundaryWidth:.2,selectedBoundaryWidth:2,projection:m.UKProjection,showLegend:!1,legendOrientation:"horizontal",zoomExtent:[1,32],defaultUnitFill:"#ffffff",defaultOuterStroke:"#000",defaultInnerStroke:"#000",defaultWidth:693,addUnderlay:!1};return o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,(0,v.extend)(r,e)))}return a(n,t),u(n,[{key:"setupElement",value:function(t){this.rootElement=t,this.$rootElement=l.select(t),this.width=0===t.offsetWidth?t.parentNode.offsetWidth:t.offsetWidth,this.height=this.config.aspectRatio*this.width;var n=this.svgWrapper=l.select(t).select("svg").attr("width",this.width).attr("height",this.height).attr("style","height: "+this.height+"px !important;");this.config.addUnderlay&&n.insert("g",":first-child").append("rect").attr("class","underlay").attr("width",this.width).attr("height",this.height),this.svg=n.insert("g"),this.map=this.svg.append("g"),this.legend=null,void 0===this.projectionFunction&&(this.projectionFunction=l.geoConicEqualArea().center([this.config.projection.center.lon,this.config.projection.center.lat]).rotate([this.config.projection.rotation.lon,this.config.projection.rotation.lat]).parallels(this.config.projection.parallels)),this.projectionFunction.scale(this.height*this.config.projection.zoom).translate([this.width/2,this.height/2]),this.path=l.geoPath().projection(this.projectionFunction),this.config.showLegend&&this.addLegend()}},{key:"extractUnits",value:function(t){return h.feature(t,t.objects.units).features}},{key:"populateMap",value:function(){c(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"populateMap",this).call(this)}},{key:"drawMap",value:function(t,n){var e=this.extractUnits(t);this.map.selectAll(".unit").data(e).enter().append("path").attr("id",function(t){return"unit-"+t.properties.id.toLowerCase()}).attr("class",function(t){return"unit unit-"+t.properties.id.substr(0,1).toLowerCase()}).attr("data-name",function(t){return"name"in t.properties?t.properties.name:null}).attr("d",this.path),this.config.outerBoundaries&&this.map.append("path").datum(h.mesh(t,t.objects.units,function(t,n){return t===n})).attr("d",this.path).attr("class","boundary outer-boundary"),this.config.innerBoundaries&&this.map.append("path").datum(h.mesh(t,t.objects.units,function(t,n){return t!==n})).attr("d",this.path).attr("class","boundary inner-boundary"),this.config.showTooltip&&this.setupTooltip(),this.config.zoomExtent&&this.setupZoom(),this.updateBoundaries(),n&&n.bind(this)()}},{key:"colorizeMap",value:function(){this.map.selectAll(".unit").attr("fill",this.config.defaultUnitFill),this.map.selectAll(".outer-boundary").attr("stroke",this.config.defaultOuterStroke),this.map.selectAll(".inner-boundary").attr("stroke",this.config.defaultInnerStroke)}},{key:"clearMap",value:function(){this.map.selectAll(".unit").remove(),this.map.selectAll(".outer-boundary").remove(),this.map.selectAll(".inner-boundary").remove()}},{key:"selectUnit",value:function(t){var n=this.map.select("#unit-"+t.toLowerCase()).node().cloneNode();l.select(n).attr("id",null).attr("fill","none").attr("class","unit-selected").attr("data-id",t),this.map.node().appendChild(n),this.updateBoundaries()}},{key:"deselectUnits",value:function(){l.select(".unit-selected").classed("unit-selected",!1).remove()}},{key:"setupZoom",value:function(){var t=(0,p.default)(this.updateBoundaries.bind(this),100);this.zoom=l.zoom().scaleExtent(this.config.zoomExtent).translateExtent([[0,0],[this.width,this.height]]).on("zoom",this.onZoom.bind(this)).on("end",t.bind(this)),this.svg.call(this.zoom),this.$rootElement.selectAll("button.zoom-in-button").on("click",this.zoomInClick.bind(this)),this.$rootElement.selectAll("button.zoom-out-button").on("click",this.zoomOutClick.bind(this))}},{key:"onZoom",value:function(){var t;t=l.event.sourceEvent&&"click"==l.event.sourceEvent.type?this.map.transition():this.map,t.attr("transform",l.event.transform)}},{key:"zoomInClick",value:function(t){l.event.preventDefault();var n=l.zoomTransform(this.svg.node()).k;this.zoom.scaleTo(this.svg,1.5*n)}},{key:"zoomOutClick",value:function(t){l.event.preventDefault();var n=l.zoomTransform(this.svg.node()).k;this.zoom.scaleTo(this.svg,2*n/3)}},{key:"updateBoundaries",value:function(){var t=this.zoom?Math.sqrt(l.zoomTransform(this.svg.node()).k):1;this.map.select(".outer-boundary").attr("stroke-width",this.config.outerBoundaryWidth/t),this.map.select(".inner-boundary").attr("stroke-width",this.config.innerBoundaryWidth/t),this.map.selectAll(".unit-selected").attr("stroke-width",this.config.selectedBoundaryWidth/t)}},{key:"setupTooltip",value:function(){this.tooltip=this.$rootElement.append("div").attr("class","hidden tooltip"),this.$rootElement.on("mousemove",this.onMouseMove.bind(this)),this.map.selectAll(".unit").on("mouseover",this.onMouseOver.bind(this)).on("mouseout",this.onMouseOut.bind(this))}},{key:"onMouseMove",value:function(){if(this.tooltip&&!this.tooltip.classed("hidden")){var t,n=l.mouse(this.rootElement).map(function(t){return parseInt(t)}),e=this.width||this.svg.node().parentNode.getAttribute("width");t=n[0]>.6*e?"right:"+(e-n[0]+15)+"px; top:"+(n[1]-35)+"px":"left:"+(n[0]+15)+"px; top:"+(n[1]-35)+"px",this.tooltip.attr("style",t)}}},{key:"onMouseOver",value:function(t){if(this.tooltip){var n=this.getToolTipLabel(t);void 0!==n&&""!==n&&(this.tooltipTimeout&&(clearInterval(this.tooltipTimeout),this.tooltipTimeout=!1),this.tooltip.classed("hidden",!1).html(n))}}},{key:"onMouseOut",value:function(t){this.tooltip&&(this.tooltipTimeout&&clearInterval(this.tooltipTimeout),this.isMobile?this.tooltip.classed("hidden",!0):this.tooltipTimeout=setTimeout(function(){this.tooltip.classed("hidden",!0)}.bind(this),200))}},{key:"getToolTipLabel",value:function(t){return"properties"in t?t.properties.name:t.name}},{key:"addLegend",value:function(){var t="translate(20,20)";this.isMobile&&(t+=" scale(0.6 0.6)"),(this.legend=this.svgWrapper.append("g").attr("transform",t).attr("class","map-legend").style("visibility","hidden")).append("rect").attr("class","map-legend-border").attr("width",200).attr("height",20).attr("fill","#FFF").attr("stroke-width","1px")}},{key:"updateLegend",value:function(t,n,e){var r,i=t.domain();if(void 0===n){r=9;var o=i[0],a=i[i.length-1],u=(a-o)/r;n=_.range(o,a+.001,u)}var c=200/n.length;if(void 0===e&&(e=["Smallest","Largest"]),2==e.length&&e.length<n.length)for(;e.length<n.length;)e.splice(1,0,null);var s=this.legend.style("visibility","visible").selectAll(".map-legend-box").data(n);s.enter().append("rect").attr("class","map-legend-box"),s.exit().remove(),s.attr("x",function(t,n){return n*c}).attr("width",c).attr("height",20).attr("fill",function(n,e){return t(n)});var l=this.legend.selectAll(".map-legend-label").data(e);l.enter().append("text").attr("text-anchor","middle").attr("class","map-legend-label"),l.exit().remove(),l.attr("x",function(t,n){return(n+.5)*c}).attr("y",40).text(function(t){return t})}},{key:"drawCoalfields",value:function(){if(!this.svg.selectAll(".map-coalfields").empty())return void this.svg.selectAll(".map-coalfields").remove();var t=this.projectionFunction([-8.05,56.9]),n=this.projectionFunction([3,49.55]);this.svg.append("image").attr("xlink:href",window.BFUKStaticURL+"/img/coalfields.png").attr("class","map-coalfields").attr("width",n[0]-t[0]).attr("height",n[1]-t[1]).attr("x",t[0]).attr("y",t[1])}}]),n}(g.BaseMapView);n.MapView=b},function(t,n,e){"use strict";function r(t,n){var r=t.document.documentElement,a=e.i(i.select)(t).on("dragstart.drag",null);n&&(a.on("click.drag",o.a,!0),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var i=e(2),o=e(117);n.b=r,n.a=function(t){var n=t.document.documentElement,r=e.i(i.select)(t).on("dragstart.drag",o.a,!0);"onselectstart"in n?r.on("selectstart.drag",o.a,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}},function(t,n,e){"use strict";function r(){i.event.stopImmediatePropagation()}var i=e(2);n.b=r,n.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(t,n,e){"use strict";function r(){b.point=o}function i(){a(f,h)}function o(t,n){b.point=a,f=t,h=n,t*=c.g,n*=c.g,d=t,p=e.i(c.c)(n=n/2+c.q),v=e.i(c.d)(n)}function a(t,n){t*=c.g,n*=c.g,n=n/2+c.q;var r=t-d,i=r>=0?1:-1,o=i*r,a=e.i(c.c)(n),u=e.i(c.d)(n),s=v*u,l=p*a+s*e.i(c.c)(o),f=s*i*e.i(c.d)(o);g.add(e.i(c.e)(f,l)),d=t,p=a,v=u}var u=e(20),c=e(0),s=e(14),l=e(16);e.d(n,"c",function(){return g}),e.d(n,"b",function(){return b});var f,h,d,p,v,g=e.i(u.a)(),m=e.i(u.a)(),b={point:s.a,lineStart:s.a,lineEnd:s.a,polygonStart:function(){g.reset(),b.lineStart=r,b.lineEnd=i},polygonEnd:function(){var t=+g;m.add(t<0?c.b+t:t),this.lineStart=this.lineEnd=this.point=s.a},sphere:function(){m.add(c.b)}};n.a=function(t){return m.reset(),e.i(l.a)(t,b),2*m}},function(t,n,e){"use strict";function r(t,n,r,a,c,s){if(r){var l=e.i(u.c)(n),f=e.i(u.d)(n),h=a*r;null==c?(c=n+a*u.b,s=n-h/2):(c=i(l,c),s=i(l,s),(a>0?c<s:c>s)&&(c+=a*u.b));for(var d,p=c;a>0?p>s:p<s;p-=h)d=e.i(o.f)([l,-f*e.i(u.c)(p),-f*e.i(u.d)(p)]),t.point(d[0],d[1])}}function i(t,n){n=e.i(o.a)(n),n[0]-=t,e.i(o.g)(n);var r=e.i(u.r)(-n[1]);return((-n[2]<0?-r:r)+u.b-u.o)%u.b}var o=e(29),a=e(292),u=e(0),c=e(51);n.b=r,n.a=function(){function t(t,n){i.push(t=o(t,n)),t[0]*=u.h,t[1]*=u.h}function n(){var t=s.apply(this,arguments),n=l.apply(this,arguments)*u.g,a=f.apply(this,arguments)*u.g;return i=[],o=e.i(c.b)(-t[0]*u.g,-t[1]*u.g,0).invert,r(h,n,a,1),t={type:"Polygon",coordinates:[i]},i=o=null,t}var i,o,s=e.i(a.a)([0,0]),l=e.i(a.a)(90),f=e.i(a.a)(6),h={point:t};return n.center=function(t){return arguments.length?(s="function"==typeof t?t:e.i(a.a)([+t[0],+t[1]]),n):s},n.radius=function(t){return arguments.length?(l="function"==typeof t?t:e.i(a.a)(+t),n):l},n.precision=function(t){return arguments.length?(f="function"==typeof t?t:e.i(a.a)(+t),n):f},n}},function(t,n,e){"use strict";var r=e(14);n.a=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:r.a,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}},function(t,n,e){"use strict";function r(t){return t.length>1}function i(t,n){return((t=t.x)[0]<0?t[1]-u.k-u.o:u.k-t[1])-((n=n.x)[0]<0?n[1]-u.k-u.o:u.k-n[1])}var o=e(120),a=e(122),u=e(0),c=e(128),s=e(3);n.a=function(t,n,u,l){return function(f,h){function d(n,e){var r=f(n,e);t(n=r[0],e=r[1])&&h.point(n,e)}function p(t,n){var e=f(t,n);M.point(e[0],e[1])}function v(){j.point=p,M.lineStart()}function g(){j.point=d,M.lineEnd()}function m(t,n){x.push([t,n]);var e=f(t,n);S.point(e[0],e[1])}function b(){S.lineStart(),x=[]}function y(){m(x[0][0],x[0][1]),S.lineEnd();var t,n,e,i,o=S.clean(),a=k.result(),u=a.length;if(x.pop(),w.push(x),x=null,u)if(1&o){if(e=a[0],(n=e.length-1)>0){for(P||(h.polygonStart(),P=!0),h.lineStart(),t=0;t<n;++t)h.point((i=e[t])[0],i[1]);h.lineEnd()}}else u>1&&2&o&&a.push(a.pop().concat(a.shift())),_.push(a.filter(r))}var w,_,x,M=n(h),E=f.invert(l[0],l[1]),k=e.i(o.a)(),S=n(k),P=!1,j={point:d,lineStart:v,lineEnd:g,polygonStart:function(){j.point=m,j.lineStart=b,j.lineEnd=y,_=[],w=[]},polygonEnd:function(){j.point=d,j.lineStart=v,j.lineEnd=g,_=e.i(s.merge)(_);var t=e.i(c.a)(w,E);_.length?(P||(h.polygonStart(),P=!0),e.i(a.a)(_,i,t,u,h)):t&&(P||(h.polygonStart(),P=!0),h.lineStart(),u(null,null,1,h),h.lineEnd()),P&&(h.polygonEnd(),P=!1),_=w=null},sphere:function(){h.polygonStart(),h.lineStart(),u(null,null,1,h),h.lineEnd(),h.polygonEnd()}};return j}}},function(t,n,e){"use strict";function r(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function i(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var o=e(127);n.a=function(t,n,a,u,c){var s,l,f=[],h=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,i,a=t[0],u=t[n];if(e.i(o.a)(a,u)){for(c.lineStart(),s=0;s<n;++s)c.point((a=t[s])[0],a[1]);return void c.lineEnd()}f.push(i=new r(a,t,null,!0)),h.push(i.o=new r(a,null,i,!1)),f.push(i=new r(u,t,null,!1)),h.push(i.o=new r(u,null,i,!0))}}),f.length){for(h.sort(n),i(f),i(h),s=0,l=h.length;s<l;++s)h[s].e=a=!a;for(var d,p,v=f[0];;){for(var g=v,m=!0;g.v;)if((g=g.n)===v)return;d=g.z,c.lineStart();do{if(g.v=g.o.v=!0,g.e){if(m)for(s=0,l=d.length;s<l;++s)c.point((p=d[s])[0],p[1]);else u(g.x,g.n.x,1,c);g=g.n}else{if(m)for(d=g.p.z,s=d.length-1;s>=0;--s)c.point((p=d[s])[0],p[1]);else u(g.x,g.p.x,-1,c);g=g.p}g=g.o,d=g.z,m=!m}while(!g.v);c.lineEnd()}}}},function(t,n,e){"use strict";n.a=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}},function(t,n,e){"use strict";var r=e(125),i=[null,null],o={type:"LineString",coordinates:i};n.a=function(t,n){return i[0]=t,i[1]=n,e.i(r.a)(o)}},function(t,n,e){"use strict";function r(){v.point=o,v.lineEnd=i}function i(){v.point=v.lineEnd=h.a}function o(t,n){t*=f.g,n*=f.g,u=t,c=e.i(f.d)(n),s=e.i(f.c)(n),v.point=a}function a(t,n){t*=f.g,n*=f.g;var r=e.i(f.d)(n),i=e.i(f.c)(n),o=e.i(f.p)(t-u),a=e.i(f.c)(o),l=e.i(f.d)(o),h=i*l,d=s*r-c*i*a,v=c*r+s*i*a;p.add(e.i(f.e)(e.i(f.n)(h*h+d*d),v)),u=t,c=r,s=i}var u,c,s,l=e(20),f=e(0),h=e(14),d=e(16),p=e.i(l.a)(),v={sphere:h.a,point:h.a,lineStart:r,lineEnd:h.a,polygonStart:h.a,polygonEnd:h.a};n.a=function(t){return p.reset(),e.i(d.a)(t,v),+p}},function(t,n,e){"use strict";function r(t,n){t<o&&(o=t),t>u&&(u=t),n<a&&(a=n),n>c&&(c=n)}var i=e(14),o=1/0,a=o,u=-o,c=u,s={point:r,lineStart:i.a,lineEnd:i.a,polygonStart:i.a,polygonEnd:i.a,result:function(){var t=[[o,a],[u,c]];return u=c=-(a=o=1/0),t}};n.a=s},function(t,n,e){"use strict";var r=e(0);n.a=function(t,n){return e.i(r.p)(t[0]-n[0])<r.o&&e.i(r.p)(t[1]-n[1])<r.o}},function(t,n,e){"use strict";var r=e(20),i=e(29),o=e(0),a=e.i(r.a)();n.a=function(t,n){var r=n[0],u=n[1],c=[e.i(o.d)(r),-e.i(o.c)(r),0],s=0,l=0;a.reset();for(var f=0,h=t.length;f<h;++f)if(p=(d=t[f]).length)for(var d,p,v=d[p-1],g=v[0],m=v[1]/2+o.q,b=e.i(o.d)(m),y=e.i(o.c)(m),w=0;w<p;++w,g=x,b=E,y=k,v=_){var _=d[w],x=_[0],M=_[1]/2+o.q,E=e.i(o.d)(M),k=e.i(o.c)(M),S=x-g,P=S>=0?1:-1,j=P*S,A=j>o.a,O=b*E;if(a.add(e.i(o.e)(O*P*e.i(o.d)(j),y*k+O*e.i(o.c)(j))),s+=A?S+P*o.b:S,A^g>=r^x>=r){var T=e.i(i.b)(e.i(i.a)(v),e.i(i.a)(_));e.i(i.g)(T);var C=e.i(i.b)(c,T);e.i(i.g)(C);var N=(A^S>=0?-1:1)*e.i(o.f)(C[2]);(u>N||u===N&&(T[0]||T[1]))&&(l+=A^S>=0?1:-1)}}return(s<-o.o||s<o.o&&a<-o.o)^1&l}},function(t,n,e){"use strict";var r=e(76);n.a=function(){return e.i(r.a)().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}},function(t,n,e){"use strict";function r(t,n){return[t,n]}var i=e(11);n.b=r,r.invert=r,n.a=function(){return e.i(i.a)(r).scale(152.63)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(190);e.d(n,"scaleBand",function(){return r.a}),e.d(n,"scalePoint",function(){return r.b});var i=e(196);e.d(n,"scaleIdentity",function(){return i.a});var o=e(19);e.d(n,"scaleLinear",function(){return o.a});var a=e(197);e.d(n,"scaleLog",function(){return a.a});var u=e(88);e.d(n,"scaleOrdinal",function(){return u.a}),e.d(n,"scaleImplicit",function(){return u.b});var c=e(198);e.d(n,"scalePow",function(){return c.a}),e.d(n,"scaleSqrt",function(){return c.b});var s=e(199);e.d(n,"scaleQuantile",function(){return s.a});var l=e(200);e.d(n,"scaleQuantize",function(){return l.a});var f=e(203);e.d(n,"scaleThreshold",function(){return f.a});var h=e(89);e.d(n,"scaleTime",function(){return h.a});var d=e(205);e.d(n,"scaleUtc",function(){return d.a});var p=e(191);e.d(n,"schemeCategory10",function(){return p.a});var v=e(193);e.d(n,"schemeCategory20b",function(){return v.a});var g=e(194);e.d(n,"schemeCategory20c",function(){return g.a});var m=e(192);e.d(n,"schemeCategory20",function(){return m.a});var b=e(195);e.d(n,"interpolateCubehelixDefault",function(){return b.a});var y=e(201);e.d(n,"interpolateRainbow",function(){return y.a}),e.d(n,"interpolateWarm",function(){return y.b}),e.d(n,"interpolateCool",function(){return y.c});var w=e(206);e.d(n,"interpolateViridis",function(){return w.a}),e.d(n,"interpolateMagma",function(){return w.b}),e.d(n,"interpolateInferno",function(){return w.c}),e.d(n,"interpolatePlasma",function(){return w.d});var _=e(202);e.d(n,"scaleSequential",function(){return _.a})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=(e(259),e(9));e.d(n,"transition",function(){return r.a});var i=e(258);e.d(n,"active",function(){return i.a});var o=e(98);e.d(n,"interrupt",function(){return o.a})},function(t,n,e){"use strict";function r(t,n,e){this.k=t,this.x=n,this.y=e}function i(t){return t.__zoom||o}n.c=r,e.d(n,"b",function(){return o}),n.a=i,r.prototype={constructor:r,scale:function(t){return 1===t?this:new r(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new r(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);i.prototype=r.prototype},function(t,n,e){var r=e(135),i=r.Symbol;t.exports=i},function(t,n,e){var r=e(322),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,n){function e(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}t.exports=e},function(t,n,e){"use strict";var r=e(102);n.a=function(t){function n(t){t=a(t),t[0]<u&&(u=t[0]),t[0]>s&&(s=t[0]),t[1]<c&&(c=t[1]),t[1]>l&&(l=t[1])}function i(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}var o,a=e.i(r.a)(t.transform),u=1/0,c=u,s=-u,l=-u;t.arcs.forEach(function(t){for(var n,e=-1,r=t.length;++e<r;)n=a(t[e],e),n[0]<u&&(u=n[0]),n[0]>s&&(s=n[0]),n[1]<c&&(c=n[1]),n[1]>l&&(l=n[1])});for(o in t.objects)i(t.objects[o]);return[u,c,s,l]}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";n.a=function(t,n){function e(n){var e,r=t.arcs[n<0?~n:n],i=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,i]:[i,e]}function r(t,n){for(var e in t){var r=t[e];delete n[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),u.push(r)}}var i={},o={},a={},u=[],c=-1;return n.forEach(function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++c],n[c]=e,n[r]=i)}),n.forEach(function(t){var n,r,i=e(t),u=i[0],c=i[1];if(n=a[u])if(delete a[n.end],n.push(t),n.end=c,r=o[c]){delete o[r.start];var s=r===n?n:n.concat(r);o[s.start=n.start]=a[s.end=r.end]=s}else o[n.start]=a[n.end]=n;else if(n=o[c])if(delete o[n.start],n.unshift(t),n.start=u,r=a[u]){delete a[r.end];var l=r===n?n:r.concat(n);o[l.start=r.start]=a[l.end=n.end]=l}else o[n.start]=a[n.end]=n;else n=[t],o[n.start=u]=a[n.end=c]=n}),r(a,o),r(o,a),n.forEach(function(t){i[t<0?~t:t]||u.push([t])}),u}},function(t,n,e){"use strict";var r=e(138);n.a=function(t){if(null==t)return r.a;var n,e,i=t.scale[0],o=t.scale[1],a=t.translate[0],u=t.translate[1];return function(t,r){r||(n=e=0);var c=2,s=t.length,l=new Array(s),f=Math.round((t[0]-a)/i),h=Math.round((t[1]-u)/o);for(l[0]=f-n,n=f,l[1]=h-e,e=h;c<s;)l[c]=t[c],++c;return l}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={center:{lon:-.6,lat:38.7},rotation:{lon:96,lat:0},parallels:[29.5,45.5],zoom:2},i={center:{lon:0,lat:54},rotation:{lon:-12,lat:0},parallels:[42,66],zoom:1.5},o={center:{lon:0,lat:55.1},rotation:{lon:3.7,lat:0},parallels:[49,60],zoom:5.4},a={center:{lon:0,lat:54.1},rotation:{lon:3.7,lat:0},parallels:[49,60],zoom:6.4},u={center:{lon:0,lat:54.7},rotation:{lon:3.1,lat:0},parallels:[49,60],zoom:5.8},c={center:{lon:0,lat:52.8},rotation:{lon:2.2,lat:0},parallels:[49,56],zoom:8.4},s={center:{lon:0,lat:57.8},rotation:{lon:4.1,lat:0},parallels:[54,60],zoom:8.8},l={center:{lon:0,lat:52.4},rotation:{lon:3.95,lat:0},parallels:[50,54],zoom:24},f={center:{lon:0,lat:54.65},rotation:{lon:6.8,lat:0},parallels:[53,56],zoom:32},h={center:{lon:0,lat:51.495},rotation:{lon:.1,lat:0},parallels:[51,52],zoom:120},d={center:{lon:0,lat:46.4},rotation:{lon:-2.44,lat:0},parallels:[40,50],zoom:4.86};n.UKProjection=o,n.UKHexProjection=a,n.GBProjection=u,n.USProjection=r,n.EUProjection=i,n.FranceProjection=d,n.EnglandProjection=c,n.ScotlandProjection=s,n.WalesProjection=l,n.LondonProjection=h,n.NorthernIrelandProjection=f},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";var r=e(62);n.a=function(t,n,e){var i,o,a,u,c=t.length,s=n.length,l=new Array(c*s);for(null==e&&(e=r.b),i=a=0;i<c;++i)for(u=t[i],o=0;o<s;++o,++a)l[a]=e(u,n[o]);return l}},function(t,n,e){"use strict";n.a=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}},function(t,n,e){"use strict";var r=e(56),i=e(57),o=e(142),a=e(60),u=e(146),c=e(63),s=e(65),l=e(64);n.a=function(){function t(t){var r,o,a=t.length,u=new Array(a);for(r=0;r<a;++r)u[r]=n(t[r],r,t);var l=f(u),d=l[0],p=l[1],v=h(u,d,p);Array.isArray(v)||(v=e.i(s.c)(d,p,v),v=e.i(c.a)(Math.ceil(d/v)*v,Math.floor(p/v)*v,v));for(var g=v.length;v[0]<=d;)v.shift(),--g;for(;v[g-1]>p;)v.pop(),--g;var m,b=new Array(g+1);for(r=0;r<=g;++r)m=b[r]=[],m.x0=r>0?v[r-1]:d,m.x1=r<g?v[r]:p;for(r=0;r<a;++r)o=u[r],d<=o&&o<=p&&b[e.i(i.a)(v,o,0,g)].push(t[r]);return b}var n=u.a,f=a.a,h=l.a;return t.value=function(r){return arguments.length?(n="function"==typeof r?r:e.i(o.a)(r),t):n},t.domain=function(n){return arguments.length?(f="function"==typeof n?n:e.i(o.a)([n[0],n[1]]),t):f},t.thresholds=function(n){return arguments.length?(h="function"==typeof n?n:Array.isArray(n)?e.i(o.a)(r.b.call(n)):e.i(o.a)(n),t):h},t}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";n.a=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}},function(t,n,e){"use strict";var r=e(15);n.a=function(t,n){var i,o=t.length,a=o,u=-1,c=0;if(null==n)for(;++u<o;)isNaN(i=e.i(r.a)(t[u]))?--a:c+=i;else for(;++u<o;)isNaN(i=e.i(r.a)(n(t[u],u,t)))?--a:c+=i;if(a)return c/a}},function(t,n,e){"use strict";var r=e(13),i=e(15),o=e(31);n.a=function(t,n){var a,u=t.length,c=-1,s=[];if(null==n)for(;++c<u;)isNaN(a=e.i(i.a)(t[c]))||s.push(a);else for(;++c<u;)isNaN(a=e.i(i.a)(n(t[c],c,t)))||s.push(a);return e.i(o.a)(s.sort(r.a),.5)}},function(t,n,e){"use strict";n.a=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--a]=r[n];return e}},function(t,n,e){"use strict";n.a=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}},function(t,n,e){"use strict";var r=e(13);n.a=function(t,n){if(e=t.length){var e,i,o=0,a=0,u=t[a];for(null==n&&(n=r.a);++o<e;)(n(i=t[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}}},function(t,n,e){"use strict";n.a=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t}},function(t,n,e){"use strict";n.a=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o}},function(t,n,e){"use strict";var r=e(56),i=e(13),o=e(15),a=e(31);n.a=function(t,n,u){return t=r.a.call(t,o.a).sort(i.a),Math.ceil((u-n)/(2*(e.i(a.a)(t,.75)-e.i(a.a)(t,.25))*Math.pow(t.length,-1/3)))}},function(t,n,e){"use strict";var r=e(59);n.a=function(t,n,i){return Math.ceil((i-n)/(3.5*e.i(r.a)(t)*Math.pow(t.length,-1/3)))}},function(t,n,e){"use strict";var r=e(66);n.a=function(){return e.i(r.a)(arguments)}},function(t,n,e){"use strict";function r(t){if(t instanceof o)return new o(t.h,t.s,t.l,t.opacity);t instanceof u.b||(t=e.i(u.c)(t));var n=t.r/255,r=t.g/255,i=t.b/255,a=(g*i+p*n-v*r)/(g+p-v),s=i-a,l=(d*(r-a)-f*s)/h,m=Math.sqrt(l*l+s*s)/(d*a*(1-a)),b=m?Math.atan2(l,s)*c.a-120:NaN;return new o(b<0?b+360:b,m,a,t.opacity)}function i(t,n,e,i){return 1===arguments.length?r(t):new o(t,n,e,null==i?1:i)}function o(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}var a=e(33),u=e(32),c=e(68);n.a=i;var s=-.14861,l=1.78277,f=-.29227,h=-.90649,d=1.97294,p=d*h,v=d*l,g=l*f-h*s;e.i(a.a)(o,i,e.i(a.b)(u.d,{brighter:function(t){return t=null==t?u.e:Math.pow(u.e,t),new o(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?u.f:Math.pow(u.f,t),new o(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*c.b,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new u.b(255*(n+e*(s*r+l*i)),255*(n+e*(f*r+h*i)),255*(n+e*(d*r)),this.opacity)}}))},function(t,n,e){"use strict";function r(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof h){var n=t.h*v.b;return new o(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof p.b||(t=e.i(p.c)(t));var r=s(t.r),i=s(t.g),u=s(t.b),c=a((.4124564*r+.3575761*i+.1804375*u)/g),l=a((.2126729*r+.7151522*i+.072175*u)/m);return new o(116*l-16,500*(c-l),200*(l-a((.0193339*r+.119192*i+.9503041*u)/b)),t.opacity)}function i(t,n,e,i){return 1===arguments.length?r(t):new o(t,n,e,null==i?1:i)}function o(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function a(t){return t>x?Math.pow(t,1/3):t/_+y}function u(t){return t>w?t*t*t:_*(t-y)}function c(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function s(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function l(t){if(t instanceof h)return new h(t.h,t.c,t.l,t.opacity);t instanceof o||(t=r(t));var n=Math.atan2(t.b,t.a)*v.a;return new h(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function f(t,n,e,r){return 1===arguments.length?l(t):new h(t,n,e,null==r?1:r)}function h(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}var d=e(33),p=e(32),v=e(68);n.b=i,n.a=f;var g=.95047,m=1,b=1.08883,y=4/29,w=6/29,_=3*w*w,x=w*w*w;e.i(d.a)(o,i,e.i(d.b)(p.d,{brighter:function(t){return new o(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=m*u(t),n=g*u(n),e=b*u(e),new p.b(c(3.2404542*n-1.5371385*t-.4985314*e),c(-.969266*n+1.8760108*t+.041556*e),c(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),e.i(d.a)(h,f,e.i(d.b)(p.d,{brighter:function(t){return new h(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new h(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(t,n,e){"use strict";var r=(e(167),e(169),e(164));e.d(n,"a",function(){return r.a});e(168),e(170),e(166),e(163),e(162),e(161),e(165)},function(t,n,e){"use strict";(function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e})(1.70158),function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158)},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";function r(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.a=r},function(t,n,e){"use strict";var r=2*Math.PI;(function t(n,e){function i(t){return n*Math.pow(2,10*--t)*Math.sin((o-t)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=r);return i.amplitude=function(n){return t(n,e*r)},i.period=function(e){return t(n,e)},i})(1,.3),function t(n,e){function i(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/e)}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=r);return i.amplitude=function(n){return t(n,e*r)},i.period=function(e){return t(n,e)},i}(1,.3),function t(n,e){function i(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((o-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((o+t)/e))/2}var o=Math.asin(1/(n=Math.max(1,n)))*(e/=r);return i.amplitude=function(n){return t(n,e*r)},i.period=function(e){return t(n,e)},i}(1,.3)},function(t,n,e){"use strict"},function(t,n,e){"use strict"},function(t,n,e){"use strict";(function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e})(3),function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3)},function(t,n,e){"use strict"},function(t,n,e){"use strict";Math.PI},function(t,n,e){"use strict";function r(t){return o=e.i(i.a)(t),a=o.format,u=o.formatPrefix,o}var i=e(72);e.d(n,"a",function(){return a}),e.d(n,"b",function(){return u}),n.c=r;var o,a,u;r({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},function(t,n,e){"use strict";n.a=function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}},function(t,n,e){"use strict";n.a=function(t,n){return function(e,r){for(var i=e.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}}},function(t,n,e){"use strict";n.a=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}},function(t,n,e){"use strict";var r=e(34);n.a=function(t,n){var i=e.i(r.a)(t,n);if(!i)return t+"";var o=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+o:o.length>a+1?o.slice(0,a+1)+"."+o.slice(a+1):o+new Array(a-o.length+2).join("0")}},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";var r=e(24);n.a=function(t){return Math.max(0,-e.i(r.a)(Math.abs(t)))}},function(t,n,e){"use strict";var r=e(24);n.a=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(e.i(r.a)(n)/3)))-e.i(r.a)(Math.abs(t)))}},function(t,n,e){"use strict";var r=e(24);n.a=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,e.i(r.a)(n)-e.i(r.a)(t))+1}},function(t,n,e){"use strict";function r(t){return function n(r){function a(n,a){var u=t((n=e.i(i.cubehelix)(n)).h,(a=e.i(i.cubehelix)(a)).h),c=e.i(o.a)(n.s,a.s),s=e.i(o.a)(n.l,a.l),l=e.i(o.a)(n.opacity,a.opacity);return function(t){return n.h=u(t),n.s=c(t),n.l=s(Math.pow(t,r)),n.opacity=l(t),n+""}}return r=+r,a.gamma=n,a}(1)}var i=e(6),o=e(17);e.d(n,"a",function(){return a}),n.b=r(o.b);var a=r(o.a)},function(t,n,e){"use strict";function r(t){return function(n,r){var a=t((n=e.i(i.hcl)(n)).h,(r=e.i(i.hcl)(r)).h),u=e.i(o.a)(n.c,r.c),c=e.i(o.a)(n.l,r.l),s=e.i(o.a)(n.opacity,r.opacity);return function(t){return n.h=a(t),n.c=u(t),n.l=c(t),n.opacity=s(t),n+""}}}var i=e(6),o=e(17);e.d(n,"b",function(){return a}),n.a=r(o.b);var a=r(o.a)},function(t,n,e){"use strict";function r(t){return function(n,r){var a=t((n=e.i(i.hsl)(n)).h,(r=e.i(i.hsl)(r)).h),u=e.i(o.a)(n.s,r.s),c=e.i(o.a)(n.l,r.l),s=e.i(o.a)(n.opacity,r.opacity);return function(t){return n.h=a(t),n.s=u(t),n.l=c(t),n.opacity=s(t),n+""}}}var i=e(6),o=e(17);e.d(n,"b",function(){return a}),n.a=r(o.b);var a=r(o.a)},function(t,n,e){"use strict";function r(t,n){var r=e.i(o.a)((t=e.i(i.lab)(t)).l,(n=e.i(i.lab)(n)).l),a=e.i(o.a)(t.a,n.a),u=e.i(o.a)(t.b,n.b),c=e.i(o.a)(t.opacity,n.opacity);return function(n){return t.l=r(n),t.a=a(n),t.b=u(n),t.opacity=c(n),t+""}}var i=e(6),o=e(17);n.a=r},function(t,n,e){"use strict";n.a=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}},function(t,n,e){"use strict";n.a=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}},function(t,n,e){"use strict";e.d(n,"a",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};n.b=function(t,n,e,i,o,a){var u,c,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*i)&&(e-=t*s,i-=n*s),(c=Math.sqrt(e*e+i*i))&&(e/=c,i/=c,s/=c),t*i<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(n,t)*r,skewX:Math.atan(s)*r,scaleX:u,scaleY:c}}},function(t,n,e){"use strict";function r(t,n,r,o){function a(t){return t.length?t.pop()+" ":""}function u(t,o,a,u,c,s){if(t!==a||o!==u){var l=c.push("translate(",null,n,null,r);s.push({i:l-4,x:e.i(i.a)(t,a)},{i:l-2,x:e.i(i.a)(o,u)})}else(a||u)&&c.push("translate("+a+n+u+r)}function c(t,n,r,u){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),u.push({i:r.push(a(r)+"rotate(",null,o)-2,x:e.i(i.a)(t,n)})):n&&r.push(a(r)+"rotate("+n+o)}function s(t,n,r,u){t!==n?u.push({i:r.push(a(r)+"skewX(",null,o)-2,x:e.i(i.a)(t,n)}):n&&r.push(a(r)+"skewX("+n+o)}function l(t,n,r,o,u,c){if(t!==r||n!==o){var s=u.push(a(u)+"scale(",null,",",null,")");c.push({i:s-4,x:e.i(i.a)(t,r)},{i:s-2,x:e.i(i.a)(n,o)})}else 1===r&&1===o||u.push(a(u)+"scale("+r+","+o+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),u(n.translateX,n.translateY,e.translateX,e.translateY,r,i),c(n.rotate,e.rotate,r,i),s(n.skewX,e.skewX,r,i),l(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){for(var n,e=-1,o=i.length;++e<o;)r[(n=i[e]).i]=n.x(t);return r.join("")}}}var i=e(25),o=e(188);e.d(n,"a",function(){return a}),e.d(n,"b",function(){return u});var a=r(o.a,"px, ","px)","deg)"),u=r(o.b,", ",")",")")},function(t,n,e){"use strict";function r(t){return"none"===t?o.a:(a||(a=document.createElement("DIV"),u=document.documentElement,c=document.defaultView),a.style.transform=t,t=c.getComputedStyle(u.appendChild(a),null).getPropertyValue("transform"),u.removeChild(a),t=t.slice(7,-1).split(","),e.i(o.b)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function i(t){return null==t?o.a:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",t),(t=s.transform.baseVal.consolidate())?(t=t.matrix,e.i(o.b)(t.a,t.b,t.c,t.d,t.e,t.f)):o.a)}var o=e(186);n.a=r,n.b=i;var a,u,c,s},function(t,n,e){"use strict";function r(t){return((t=Math.exp(t))+1/t)/2}function i(t){return((t=Math.exp(t))-1/t)/2}function o(t){return((t=Math.exp(2*t))-1)/(t+1)}var a=Math.SQRT2;n.a=function(t,n){var e,u,c=t[0],s=t[1],l=t[2],f=n[0],h=n[1],d=n[2],p=f-c,v=h-s,g=p*p+v*v;if(g<1e-12)u=Math.log(d/l)/a,e=function(t){return[c+t*p,s+t*v,l*Math.exp(a*t*u)]};else{var m=Math.sqrt(g),b=(d*d-l*l+4*g)/(2*l*2*m),y=(d*d-l*l-4*g)/(2*d*2*m),w=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(y*y+1)-y);u=(_-w)/a,e=function(t){var n=t*u,e=r(w),f=l/(2*m)*(e*o(a*n+w)-i(w));return[c+f*p,s+f*v,l*e/r(a*n+w)]}}return e.duration=1e3*u,e}},function(t,n,e){"use strict";function r(){function t(){var t=c().length,r=l[1]<l[0],o=l[r-0],u=l[1-r];n=(u-o)/Math.max(1,t-h+2*d),f&&(n=Math.floor(n)),o+=(u-o-n*(t-h))*p,i=n*(1-h),f&&(o=Math.round(o),i=Math.round(i));var v=e.i(a.range)(t).map(function(t){return o+n*t});return s(r?v.reverse():v)}var n,i,o=e.i(u.a)().unknown(void 0),c=o.domain,s=o.range,l=[0,1],f=!1,h=0,d=0,p=.5;return delete o.unknown,o.domain=function(n){return arguments.length?(c(n),t()):c()},o.range=function(n){return arguments.length?(l=[+n[0],+n[1]],t()):l.slice()},o.rangeRound=function(n){return l=[+n[0],+n[1]],f=!0,t()},o.bandwidth=function(){return i},o.step=function(){return n},o.round=function(n){return arguments.length?(f=!!n,t()):f},o.padding=function(n){return arguments.length?(h=d=Math.max(0,Math.min(1,n)),t()):h},o.paddingInner=function(n){return arguments.length?(h=Math.max(0,Math.min(1,n)),t()):h},o.paddingOuter=function(n){return arguments.length?(d=Math.max(0,Math.min(1,n)),t()):d},o.align=function(n){return arguments.length?(p=Math.max(0,Math.min(1,n)),t()):p},o.copy=function(){return r().domain(c()).range(l).round(f).paddingInner(h).paddingOuter(d).align(p)},t()}function i(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return i(n())},t}function o(){return i(r().paddingInner(1))}var a=e(3),u=e(88);n.a=r,n.b=o},function(t,n,e){"use strict";var r=e(18);n.a=e.i(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(t,n,e){"use strict";var r=e(18);n.a=e.i(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(t,n,e){"use strict";var r=e(18);n.a=e.i(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(t,n,e){"use strict";var r=e(18);n.a=e.i(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(t,n,e){"use strict";var r=e(6),i=e(7);n.a=e.i(i.interpolateCubehelixLong)(e.i(r.cubehelix)(300,.5,0),e.i(r.cubehelix)(-240,.5,1))},function(t,n,e){"use strict";function r(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=i.a.call(e,a.a),t):n.slice()},t.copy=function(){return r().domain(n)},e.i(o.b)(t)}var i=e(10),o=e(19),a=e(87);n.a=r},function(t,n,e){"use strict";function r(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:e.i(h.a)(n)}function i(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function o(t){return isFinite(t)?+("1e"+t):t<0?0:t}function a(t){return 10===t?o:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function u(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function c(t){return function(n){return-t(-n)}}function s(){function t(){return v=u(h),g=a(h),o()[0]<0&&(v=c(v),g=c(g)),n}var n=e.i(p.a)(r,i).domain([1,10]),o=n.domain,h=10,v=u(10),g=a(10);return n.base=function(n){return arguments.length?(h=+n,t()):h},n.domain=function(n){return arguments.length?(o(n),t()):o()},n.ticks=function(t){var n,r=o(),i=r[0],a=r[r.length-1];(n=a<i)&&(f=i,i=a,a=f);var u,c,s,f=v(i),d=v(a),p=null==t?10:+t,m=[];if(!(h%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,i>0){for(;f<d;++f)for(c=1,u=g(f);c<h;++c)if(!((s=u*c)<i)){if(s>a)break;m.push(s)}}else for(;f<d;++f)for(c=h-1,u=g(f);c>=1;--c)if(!((s=u*c)<i)){if(s>a)break;m.push(s)}}else m=e.i(l.ticks)(f,d,Math.min(d-f,p)).map(g);return n?m.reverse():m},n.tickFormat=function(t,r){if(null==r&&(r=10===h?".0e":","),"function"!=typeof r&&(r=e.i(f.format)(r)),t===1/0)return r;null==t&&(t=10);var i=Math.max(1,h*t/n.ticks().length);return function(t){var n=t/g(Math.round(v(t)));return n*h<h-.5&&(n*=h),n<=i?r(t):""}},n.nice=function(){return o(e.i(d.a)(o(),{floor:function(t){return g(Math.floor(v(t)))},ceil:function(t){return g(Math.ceil(v(t)))}}))},n.copy=function(){return e.i(p.c)(n,s().base(h))},n}var l=e(3),f=e(50),h=e(37),d=e(86),p=e(26);n.a=s},function(t,n,e){"use strict";function r(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function i(){function t(t,n){return(n=r(n,o)-(t=r(t,o)))?function(e){return(r(e,o)-t)/n}:e.i(a.a)(n)}function n(t,n){return n=r(n,o)-(t=r(t,o)),function(e){return r(t+n*e,1/o)}}var o=1,s=e.i(c.a)(t,n),l=s.domain;return s.exponent=function(t){return arguments.length?(o=+t,l(l())):o},s.copy=function(){return e.i(c.c)(s,i().exponent(o))},e.i(u.b)(s)}function o(){return i().exponent(.5)}var a=e(37),u=e(19),c=e(26);n.a=i,n.b=o},function(t,n,e){"use strict";function r(){function t(){var t=0,r=Math.max(1,u.length);for(c=new Array(r-1);++t<r;)c[t-1]=e.i(i.quantile)(a,t/r);return n}function n(t){if(!isNaN(t=+t))return u[e.i(i.bisect)(c,t)]}var a=[],u=[],c=[];return n.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:[n>0?c[n-1]:a[0],n<c.length?c[n]:a[a.length-1]]},n.domain=function(n){if(!arguments.length)return a.slice();a=[];for(var e,r=0,o=n.length;r<o;++r)null==(e=n[r])||isNaN(e=+e)||a.push(e);return a.sort(i.ascending),t()},n.range=function(n){return arguments.length?(u=o.b.call(n),t()):u.slice()},n.quantiles=function(){return c.slice()},n.copy=function(){return r().domain(a).range(u)},n}var i=e(3),o=e(10);n.a=r},function(t,n,e){"use strict";function r(){function t(t){if(t<=t)return f[e.i(i.bisect)(l,t,0,s)]}function n(){var n=-1;for(l=new Array(s);++n<s;)l[n]=((n+1)*c-(n-s)*u)/(s+1);return t}var u=0,c=1,s=1,l=[.5],f=[0,1];return t.domain=function(t){return arguments.length?(u=+t[0],c=+t[1],n()):[u,c]},t.range=function(t){return arguments.length?(s=(f=o.b.call(t)).length-1,n()):f.slice()},t.invertExtent=function(t){var n=f.indexOf(t);return n<0?[NaN,NaN]:n<1?[u,l[0]]:n>=s?[l[s-1],c]:[l[n-1],l[n]]},t.copy=function(){return r().domain([u,c]).range(f)},e.i(a.b)(t)}var i=e(3),o=e(10),a=e(19);n.a=r},function(t,n,e){"use strict";var r=e(6),i=e(7);e.d(n,"b",function(){return o}),e.d(n,"c",function(){return a});var o=e.i(i.interpolateCubehelixLong)(e.i(r.cubehelix)(-100,.75,.35),e.i(r.cubehelix)(80,1.5,.8)),a=e.i(i.interpolateCubehelixLong)(e.i(r.cubehelix)(260,.75,.35),e.i(r.cubehelix)(80,1.5,.8)),u=e.i(r.cubehelix)();n.a=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return u.h=360*t-100,u.s=1.5-1.5*n,u.l=.8-.9*n,u+""}},function(t,n,e){"use strict";function r(t){function n(n){var e=(n-o)/(a-o);return t(u?Math.max(0,Math.min(1,e)):e)}var o=0,a=1,u=!1;return n.domain=function(t){return arguments.length?(o=+t[0],a=+t[1],n):[o,a]},n.clamp=function(t){return arguments.length?(u=!!t,n):u},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return r(t).domain([o,a]).clamp(u)},e.i(i.b)(n)}var i=e(19);n.a=r},function(t,n,e){"use strict";function r(){function t(t){if(t<=t)return a[e.i(i.bisect)(n,t,0,u)]}var n=[.5],a=[0,1],u=1;return t.domain=function(e){return arguments.length?(n=o.b.call(e),u=Math.min(n.length,a.length-1),t):n.slice()},t.range=function(e){return arguments.length?(a=o.b.call(e),u=Math.min(n.length,a.length-1),t):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return r().domain(n).range(a)},t}var i=e(3),o=e(10);n.a=r},function(t,n,e){"use strict";var r=e(3),i=e(50);n.a=function(t,n,o){var a,u=t[0],c=t[t.length-1],s=e.i(r.tickStep)(u,c,null==n?10:n);switch(o=e.i(i.formatSpecifier)(null==o?",f":o),o.type){case"s":var l=Math.max(Math.abs(u),Math.abs(c));return null!=o.precision||isNaN(a=e.i(i.precisionPrefix)(s,l))||(o.precision=a),e.i(i.formatPrefix)(o,l);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(a=e.i(i.precisionRound)(s,Math.max(Math.abs(u),Math.abs(c))))||(o.precision=a-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(a=e.i(i.precisionFixed)(s))||(o.precision=a-2*("%"===o.type))}return e.i(i.format)(o)}},function(t,n,e){"use strict";var r=e(89),i=e(94),o=e(47);n.a=function(){return e.i(r.b)(o.a,o.b,o.c,o.d,o.e,o.f,o.g,o.h,i.a).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(t,n,e){"use strict";function r(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var i=e(18);e.d(n,"b",function(){return o}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return u}),n.a=r(e.i(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(e.i(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=r(e.i(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),u=r(e.i(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}n.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}}},function(t,n,e){"use strict";var r=e(44),i=e(41);n.a=function(t){var n=e.i(r.a)();return n.changedTouches&&(n=n.changedTouches[0]),e.i(i.a)(t,n)}},function(t,n,e){"use strict";var r=e(4);n.a=function(t){return"string"==typeof t?new r.b([[document.querySelector(t)]],[document.documentElement]):new r.b([[t]],r.c)}},function(t,n,e){"use strict";var r=e(4);n.a=function(t){return"string"==typeof t?new r.b([document.querySelectorAll(t)],[document.documentElement]):new r.b([null==t?[]:t],r.c)}},function(t,n,e){"use strict";var r=e(38);n.a=function(t){var n="function"==typeof t?t:e.i(r.a)(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}},function(t,n,e){"use strict";function r(t){return function(){this.removeAttribute(t)}}function i(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,n){return function(){this.setAttribute(t,n)}}function a(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function u(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function c(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var s=e(39);n.a=function(t,n){var l=e.i(s.a)(t);if(arguments.length<2){var f=this.node();return l.local?f.getAttributeNS(l.space,l.local):f.getAttribute(l)}return this.each((null==n?l.local?i:r:"function"==typeof n?l.local?c:u:l.local?a:o)(l,n))}},function(t,n,e){"use strict";n.a=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}},function(t,n,e){"use strict";function r(t){return t.trim().split(/^|\s+/)}function i(t){return t.classList||new o(t)}function o(t){this._node=t,this._names=r(t.getAttribute("class")||"")}function a(t,n){for(var e=i(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function u(t,n){for(var e=i(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function c(t){return function(){a(this,t)}}function s(t){return function(){u(this,t)}}function l(t,n){return function(){(n.apply(this,arguments)?a:u)(this,t)}}o.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}},n.a=function(t,n){var e=r(t+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,u=e.length;++a<u;)if(!o.contains(e[a]))return!1;return!0}return this.each(("function"==typeof n?l:n?c:s)(e,n))}},function(t,n,e){"use strict";function r(t,n,e,r,i,o){for(var u,c=0,s=n.length,l=o.length;c<l;++c)(u=n[c])?(u.__data__=o[c],r[c]=u):e[c]=new a.b(t,o[c]);for(;c<s;++c)(u=n[c])&&(i[c]=u)}function i(t,n,e,r,i,o,u){var s,l,f,h={},d=n.length,p=o.length,v=new Array(d);for(s=0;s<d;++s)(l=n[s])&&(v[s]=f=c+u.call(l,l.__data__,s,n),f in h?i[s]=l:h[f]=l);for(s=0;s<p;++s)f=c+u.call(t,o[s],s,o),(l=h[f])?(r[s]=l,l.__data__=o[s],h[f]=null):e[s]=new a.b(t,o[s]);for(s=0;s<d;++s)(l=n[s])&&h[v[s]]===l&&(i[s]=l)}var o=e(4),a=e(91),u=e(207),c="$";n.a=function(t,n){if(!t)return b=new Array(this.size()),p=-1,this.each(function(t){b[++p]=t}),b;var a=n?i:r,c=this._parents,s=this._groups;"function"!=typeof t&&(t=e.i(u.a)(t));for(var l=s.length,f=new Array(l),h=new Array(l),d=new Array(l),p=0;p<l;++p){var v=c[p],g=s[p],m=g.length,b=t.call(v,v&&v.__data__,p,c),y=b.length,w=h[p]=new Array(y),_=f[p]=new Array(y);a(v,g,w,_,d[p]=new Array(m),b,n);for(var x,M,E=0,k=0;E<y;++E)if(x=w[E]){for(E>=k&&(k=E+1);!(M=_[k])&&++k<y;);x._next=M||null}}return f=new o.b(f,c),f._enter=h,f._exit=d,f}},function(t,n,e){"use strict";n.a=function(t){return arguments.length?this.property("__data__",t):this.node().__data__}},function(t,n,e){"use strict";function r(t,n,r){var i=e.i(a.a)(t),o=i.CustomEvent;o?o=new o(n,r):(o=i.document.createEvent("Event"),r?(o.initEvent(n,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function i(t,n){return function(){return r(this,t,n)}}function o(t,n){return function(){return r(this,t,n.apply(this,arguments))}}var a=e(45);n.a=function(t,n){return this.each(("function"==typeof n?o:i)(t,n))}},function(t,n,e){"use strict";n.a=function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}},function(t,n,e){"use strict";n.a=function(){return!this.node()}},function(t,n,e){"use strict";var r=e(92),i=e(4);n.a=function(){return new i.b(this._exit||this._groups.map(r.a),this._parents)}},function(t,n,e){"use strict";var r=e(4),i=e(90);n.a=function(t){"function"!=typeof t&&(t=e.i(i.a)(t));for(var n=this._groups,o=n.length,a=new Array(o),u=0;u<o;++u)for(var c,s=n[u],l=s.length,f=a[u]=[],h=0;h<l;++h)(c=s[h])&&t.call(c,c.__data__,h,s)&&f.push(c);return new r.b(a,this._parents)}},function(t,n,e){"use strict";function r(){this.innerHTML=""}function i(t){return function(){this.innerHTML=t}}function o(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}n.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?o:i)(t)):this.node().innerHTML}},function(t,n,e){"use strict";function r(){return null}var i=e(38),o=e(43);n.a=function(t,n){var a="function"==typeof t?t:e.i(i.a)(t),u=null==n?r:"function"==typeof n?n:e.i(o.a)(n);return this.select(function(){return this.insertBefore(a.apply(this,arguments),u.apply(this,arguments)||null)})}},function(t,n,e){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}n.a=function(){return this.each(r)}},function(t,n,e){"use strict";var r=e(4);n.a=function(t){for(var n=this._groups,e=t._groups,i=n.length,o=e.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,l=n[c],f=e[c],h=l.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=l[p]||f[p])&&(d[p]=s);for(;c<i;++c)u[c]=n[c];return new r.b(u,this._parents)}},function(t,n,e){"use strict";n.a=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(t,n,e){"use strict";n.a=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}},function(t,n,e){"use strict";n.a=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}},function(t,n,e){"use strict";function r(t){return function(){delete this[t]}}function i(t,n){return function(){this[t]=n}}function o(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}n.a=function(t,n){return arguments.length>1?this.each((null==n?r:"function"==typeof n?o:i)(t,n)):this.node()[t]}},function(t,n,e){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}n.a=function(){return this.each(r)}},function(t,n,e){"use strict";function r(){var t=this.parentNode;t&&t.removeChild(this)}n.a=function(){return this.each(r)}},function(t,n,e){"use strict";var r=e(4),i=e(43);n.a=function(t){"function"!=typeof t&&(t=e.i(i.a)(t));for(var n=this._groups,o=n.length,a=new Array(o),u=0;u<o;++u)for(var c,s,l=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(c=l[d])&&(s=t.call(c,c.__data__,d,l))&&("__data__"in c&&(s.__data__=c.__data__),h[d]=s);return new r.b(a,this._parents)}},function(t,n,e){"use strict";var r=e(4),i=e(93);n.a=function(t){"function"!=typeof t&&(t=e.i(i.a)(t));for(var n=this._groups,o=n.length,a=[],u=[],c=0;c<o;++c)for(var s,l=n[c],f=l.length,h=0;h<f;++h)(s=l[h])&&(a.push(t.call(s,s.__data__,h,l)),u.push(s));return new r.b(a,u)}},function(t,n,e){"use strict";n.a=function(){var t=0;return this.each(function(){++t}),t}},function(t,n,e){"use strict";function r(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var i=e(4);n.a=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=r);for(var e=this._groups,o=e.length,a=new Array(o),u=0;u<o;++u){for(var c,s=e[u],l=s.length,f=a[u]=new Array(l),h=0;h<l;++h)(c=s[h])&&(f[h]=c);f.sort(n)}return new i.b(a,this._parents).order()}},function(t,n,e){"use strict";function r(t){return function(){this.style.removeProperty(t)}}function i(t,n,e){return function(){this.style.setProperty(t,n,e)}}function o(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}var a=e(45);n.a=function(t,n,u){var c;return arguments.length>1?this.each((null==n?r:"function"==typeof n?o:i)(t,n,null==u?"":u)):e.i(a.a)(c=this.node()).getComputedStyle(c,null).getPropertyValue(t)}},function(t,n,e){"use strict";function r(){this.textContent=""}function i(t){return function(){this.textContent=t}}function o(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}n.a=function(t){return arguments.length?this.each(null==t?r:("function"==typeof t?o:i)(t)):this.node().textContent}},function(t,n,e){"use strict";var r=e(44),i=e(41);n.a=function(t,n,o){arguments.length<3&&(o=n,n=e.i(r.a)().changedTouches);for(var a,u=0,c=n?n.length:0;u<c;++u)if((a=n[u]).identifier===o)return e.i(i.a)(t,a);return null}},function(t,n,e){"use strict";var r=e(44),i=e(41);n.a=function(t,n){null==n&&(n=e.i(r.a)().touches);for(var o=0,a=n?n.length:0,u=new Array(a);o<a;++o)u[o]=e.i(i.a)(t,n[o]);return u}},function(t,n,e){"use strict";function r(t){var n=new Date(t);return isNaN(n)?null:n}var i=e(95),o=e(46);+new Date("2000-01-01T00:00:00.000Z")||e.i(o.b)(i.a)},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*i.d)/i.b},function(t){return t.getDate()-1});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){var n=t.getTimezoneOffset()*i.d%i.c;n<0&&(n+=i.c),t.setTime(Math.floor((+t-n)/i.c)*i.c+n)},function(t,n){t.setTime(+t+n*i.c)},function(t,n){return(n-t)/i.c},function(t){return t.getHours()});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e.i(r.a)(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e.i(r.a)(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):i:null},n.a=i;i.range},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){t.setTime(Math.floor(t/i.d)*i.d)},function(t,n){t.setTime(+t+n*i.d)},function(t,n){return(n-t)/i.d},function(t){return t.getMinutes()});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e.i(r.a)(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()});n.a=i;i.range},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){t.setTime(Math.floor(t/i.e)*i.e)},function(t,n){t.setTime(+t+n*i.e)},function(t,n){return(n-t)/i.e},function(t){return t.getUTCSeconds()});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/i.b},function(t){return t.getUTCDate()-1});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*i.c)},function(t,n){return(n-t)/i.c},function(t){return t.getUTCHours()});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e(8),o=e.i(r.a)(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*i.d)},function(t,n){return(n-t)/i.d},function(t){return t.getUTCMinutes()});n.a=o;o.range},function(t,n,e){"use strict";var r=e(1),i=e.i(r.a)(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});n.a=i;i.range},function(t,n,e){"use strict";function r(t){return e.i(i.a)(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/o.a})}var i=e(1),o=e(8);e.d(n,"a",function(){return a}),e.d(n,"b",function(){return u});var a=r(0),u=r(1),c=r(2),s=r(3),l=r(4),f=r(5),h=r(6);a.range,u.range,c.range,s.range,l.range,f.range,h.range},function(t,n,e){"use strict";var r=e(1),i=e.i(r.a)(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e.i(r.a)(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null},n.a=i;i.range},function(t,n,e){"use strict";function r(t){return e.i(i.a)(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*o.d)/o.a})}var i=e(1),o=e(8);e.d(n,"a",function(){return a}),e.d(n,"b",function(){return u});var a=r(0),u=r(1),c=r(2),s=r(3),l=r(4),f=r(5),h=r(6);a.range,u.range,c.range,s.range,l.range,f.range,h.range},function(t,n,e){"use strict";var r=e(1),i=e.i(r.a)(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});i.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e.i(r.a)(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null},n.a=i;i.range},function(t,n,e){"use strict";e(48)},function(t,n,e){"use strict";var r=e(48);n.a=function(t,n,e){var i=new r.b;return n=null==n?0:+n,i.restart(function(e){i.stop(),t(e+n)},n,e),i}},function(t,n,e){"use strict";var r=e(9),i=e(5),o=[null];n.a=function(t,n){var e,a,u=t.__transition;if(u){n=null==n?null:n+"";for(a in u)if((e=u[a]).state>i.d&&e.name===n)return new r.b([[t]],o,n,+a)}return null}},function(t,n,e){"use strict";var r=e(2),i=e(260),o=e(261);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(t,n,e){"use strict";var r=e(98);n.a=function(t){return this.each(function(){e.i(r.a)(this,t)})}},function(t,n,e){"use strict";function r(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return c.time=e.i(u.c)(),c;return r}var i=e(9),o=e(5),a=e(160),u=e(97),c={time:null,delay:0,duration:250,ease:a.a};n.a=function(t){var n,a;t instanceof i.b?(n=t._id,t=t._name):(n=e.i(i.c)(),(a=c).time=e.i(u.c)(),t=null==t?null:t+"");for(var s=this._groups,l=s.length,f=0;f<l;++f)for(var h,d=s[f],p=d.length,v=0;v<p;++v)(h=d[v])&&e.i(o.h)(h,t,n,v,d,a||r(h,n));return new i.b(s,this._parents,t,n)}},function(t,n,e){"use strict";function r(t){return function(){this.removeAttribute(t)}}function i(t){return function(){this.removeAttributeNS(t.space,t.local)}}function o(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}}function a(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}function u(t,n,e){var r,i,o;return function(){var a,u=e(this);return null==u?void this.removeAttribute(t):(a=this.getAttribute(t),a===u?null:a===r&&u===i?o:o=n(r=a,i=u))}}function c(t,n,e){var r,i,o;return function(){var a,u=e(this);return null==u?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===u?null:a===r&&u===i?o:o=n(r=a,i=u))}}var s=e(7),l=e(2),f=e(27),h=e(99);n.a=function(t,n){var d=e.i(l.namespace)(t),p="transform"===d?s.interpolateTransformSvg:h.a;return this.attrTween(t,"function"==typeof n?(d.local?c:u)(d,p,e.i(f.b)(this,"attr."+t,n)):null==n?(d.local?i:r)(d):(d.local?a:o)(d,p,n+""))}},function(t,n,e){"use strict";function r(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}function i(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e}var o=e(2);n.a=function(t,n){var a="attr."+t;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==n)return this.tween(a,null);if("function"!=typeof n)throw new Error;var u=e.i(o.namespace)(t);return this.tween(a,(u.local?r:i)(u,n))}},function(t,n,e){"use strict";function r(t,n){return function(){e.i(o.g)(this,t).delay=+n.apply(this,arguments)}}function i(t,n){return n=+n,function(){e.i(o.g)(this,t).delay=n}}var o=e(5);n.a=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?r:i)(n,t)):e.i(o.f)(this.node(),n).delay}},function(t,n,e){"use strict";function r(t,n){return function(){e.i(o.e)(this,t).duration=+n.apply(this,arguments)}}function i(t,n){return n=+n,function(){e.i(o.e)(this,t).duration=n}}var o=e(5);n.a=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?r:i)(n,t)):e.i(o.f)(this.node(),n).duration}},function(t,n,e){"use strict";function r(t,n){if("function"!=typeof n)throw new Error;return function(){e.i(i.e)(this,t).ease=n}}var i=e(5);n.a=function(t){var n=this._id;return arguments.length?this.each(r(n,t)):e.i(i.f)(this.node(),n).ease}},function(t,n,e){"use strict";var r=e(2),i=e(9);n.a=function(t){"function"!=typeof t&&(t=e.i(r.matcher)(t));for(var n=this._groups,o=n.length,a=new Array(o),u=0;u<o;++u)for(var c,s=n[u],l=s.length,f=a[u]=[],h=0;h<l;++h)(c=s[h])&&t.call(c,c.__data__,h,s)&&f.push(c);return new i.b(a,this._parents,this._name,this._id)}},function(t,n,e){"use strict";var r=e(9);n.a=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,o=e.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var s,l=n[c],f=e[c],h=l.length,d=u[c]=new Array(h),p=0;p<h;++p)(s=l[p]||f[p])&&(d[p]=s);for(;c<i;++c)u[c]=n[c];return new r.b(u,this._parents,this._name,this._id)}},function(t,n,e){"use strict";function r(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function i(t,n,e){var i,a,u=r(n)?o.g:o.e;return function(){var r=u(this,t),o=r.on;o!==i&&(a=(i=o).copy()).on(n,e),r.on=a}}var o=e(5);n.a=function(t,n){var r=this._id;return arguments.length<2?e.i(o.f)(this.node(),r).on.on(t):this.each(i(r,t,n))}},function(t,n,e){"use strict";function r(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}n.a=function(){return this.on("end.remove",r(this._id))}},function(t,n,e){"use strict";var r=e(2),i=e(9),o=e(5);n.a=function(t){var n=this._name,a=this._id;"function"!=typeof t&&(t=e.i(r.selector)(t));for(var u=this._groups,c=u.length,s=new Array(c),l=0;l<c;++l)for(var f,h,d=u[l],p=d.length,v=s[l]=new Array(p),g=0;g<p;++g)(f=d[g])&&(h=t.call(f,f.__data__,g,d))&&("__data__"in f&&(h.__data__=f.__data__),v[g]=h,e.i(o.h)(v[g],n,a,g,v,e.i(o.f)(f,a)));return new i.b(s,this._parents,n,a)}},function(t,n,e){"use strict";var r=e(2),i=e(9),o=e(5);n.a=function(t){var n=this._name,a=this._id;"function"!=typeof t&&(t=e.i(r.selectorAll)(t));for(var u=this._groups,c=u.length,s=[],l=[],f=0;f<c;++f)for(var h,d=u[f],p=d.length,v=0;v<p;++v)if(h=d[v]){for(var g,m=t.call(h,h.__data__,v,d),b=e.i(o.f)(h,a),y=0,w=m.length;y<w;++y)(g=m[y])&&e.i(o.h)(g,n,a,y,m,b);s.push(m),l.push(h)}return new i.b(s,l,n,a)}},function(t,n,e){"use strict";var r=e(2),i=r.selection.prototype.constructor;n.a=function(){return new i(this._groups,this._parents)}},function(t,n,e){"use strict";function r(t,n){var r,i,o;return function(){var a=e.i(c.window)(this).getComputedStyle(this,null),u=a.getPropertyValue(t),s=(this.style.removeProperty(t),a.getPropertyValue(t));return u===s?null:u===r&&s===i?o:o=n(r=u,i=s)}}function i(t){return function(){this.style.removeProperty(t)}}function o(t,n,r){var i,o;return function(){var a=e.i(c.window)(this).getComputedStyle(this,null).getPropertyValue(t);return a===r?null:a===i?o:o=n(i=a,r)}}function a(t,n,r){var i,o,a;return function(){var u=e.i(c.window)(this).getComputedStyle(this,null),s=u.getPropertyValue(t),l=r(this);return null==l&&(this.style.removeProperty(t),l=u.getPropertyValue(t)),s===l?null:s===i&&l===o?a:a=n(i=s,o=l)}}var u=e(7),c=e(2),s=e(27),l=e(99);n.a=function(t,n,c){var f="transform"==(t+="")?u.interpolateTransformCss:l.a;return null==n?this.styleTween(t,r(t,f)).on("end.style."+t,i(t)):this.styleTween(t,"function"==typeof n?a(t,f,e.i(s.b)(this,"style."+t,n)):o(t,f,n+""),c)}},function(t,n,e){"use strict";function r(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}n.a=function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,r(t,n,null==e?"":e))}},function(t,n,e){"use strict";function r(t){return function(){this.textContent=t}}function i(t){return function(){var n=t(this);this.textContent=null==n?"":n}}var o=e(27);n.a=function(t){return this.tween("text","function"==typeof t?i(e.i(o.b)(this,"text",t)):r(null==t?"":t+""))}},function(t,n,e){"use strict";var r=e(9),i=e(5);n.a=function(){for(var t=this._name,n=this._id,o=e.i(r.c)(),a=this._groups,u=a.length,c=0;c<u;++c)for(var s,l=a[c],f=l.length,h=0;h<f;++h)if(s=l[h]){var d=e.i(i.f)(s,n);e.i(i.h)(s,t,o,h,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new r.b(a,this._parents,t,o)}},function(t,n,e){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.ElectionMapView=n.BaseElectionMapView=void 0;var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c=e(54),s=r(c),l=e(113),f=r(l),h=e(12),d=e(115),p=e(104),v=function(t){function n(t,e){i(this,n);var r={innerBoundaries:!0,showTooltip:!0,parties:p.MainPoliticalParties,noResultColor:"#FFFFFF",zeroColor:"#FFFFFF"};return o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,(0,h.extend)(r,e)))}return a(n,t),n}(d.MapView),g=function(t){function n(t,e){i(this,n);var r={selectedElection:1,selectedParty:0,selectedPreference:1,selectedBoundaries:"westminster",gradientDomain:[0,.8],datasets:{boundaryData:{url:function(){return"/geo/"+this.config.selectedBoundaries+".json"}},electionData:{url:function(){return"/api/v1/vote?election="+this.config.selectedElection}}}};return o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,(0,h.extend)(r,e)))}return a(n,t),u(n,[{key:"populateMap",value:function(){var t=f.feature(this.data.boundaryData,this.data.boundaryData.objects.units).features;this.calculateCounts(t),this.map.attr("data-boundaries")!=this.config.selectedBoundaries&&this.clearMap(),0===this.map.selectAll(".unit").size()?(this.drawMap(this.data.boundaryData,this.colorizeMap),this.map.attr("data-boundaries",this.config.selectedBoundaries)):(this.map.selectAll(".unit").data(t),this.colorizeMap())}},{key:"calculateCounts",value:function(t){var n=this.data.electionData.results,e=function(t,n){return t+n};t.forEach(function(t){t.properties.results={},t.properties.totalCounts={},t.properties.winner=null;var r=n[t.properties.id];if(void 0!==r){r.map(function(t){return t.r}).filter(function(t,n,e){return e.indexOf(t)===n}).forEach(function(n){var e=r.filter(function(t){return t.r==n}),i={};e.forEach(function(t){i[t.p]=t}),t.properties.results[n]=i}),Object.keys(t.properties.results).forEach(function(n){var r=Object.values(t.properties.results[n]);t.properties.totalCounts[n]=r.map(function(t){return t.c}).reduce(e)});var i=Object.values(t.properties.results[1]).slice(0).sort(function(t,n){return n.c-t.c});t.properties.winner=i[0].p}})}},{key:"colorizeMap",value:function(){var t,n;0===this.config.selectedParty||!1===this.config.selectedParty?(t=function(t){return t in this.config.parties?this.config.parties[t].color:this.config.noResultColor}.bind(this),n=function(t){return t.properties.winner}):(t=s.scaleLinear().domain(this.config.gradientDomain).range([this.config.zeroColor,this.config.parties[this.config.selectedParty].color]).interpolate(s.interpolateRgb),n=function(t){return 0!==Object.keys(t.properties.results).length&&this.config.selectedParty in t.properties.results[this.config.selectedPreference]?t.properties.results[this.config.selectedPreference][this.config.selectedParty].c/t.properties.totalCounts[this.config.selectedPreference]:null}.bind(this));var e=function(e){var r=n(e);return null!==r?t(r):"function"==typeof this.config.noResultColor?this.config.noResultColor(e):this.config.noResultColor}.bind(this);this.map.selectAll(".unit").attr("fill",e),this.map.selectAll(".inner-boundary").attr("stroke",this.config.defaultInnerStroke),this.map.selectAll(".outer-boundary").attr("stroke",this.config.defaultOuterStroke),this.colorizeLegend(t)}},{key:"colorizeLegend",value:function(t){if(this.showLegend)if(0==this.config.selectedParty)this.updateLegend(t,Object.keys(this.config.parties),this.config.parties.map(function(t){return t.name}));else{var n=this.gradientDomain.map(function(t){return 100*t+"%"});this.updateLegend(t,void 0,n)}}},{key:"changeParty",value:function(t){this.config.selectedParty=$(t.target).val(),"false"==this.config.selectedParty&&(this.config.selectedParty=!1),this.colorizeMap()}},{key:"changeElection",value:function(t){var n=$(t.srcElement).val(),e=$(t.srcElement).data("boundaries"),r=[];this.config.selectedElection!=n&&(this.config.selectedElection=n,r.push("electionData")),this.config.selectedBoundaries!=e&&(this.config.selectedBoundaries=e,r.push("boundaryData")),r.length&&this.load(r)}},{key:"getToolTipLabel",value:function(t){var n=t.properties.name.replace(" London Boro","").replace("City and County of the","").replace(" Co Const","").replace(" P Const","").replace(" Assembly Const","").replace(" GL",""),e=this.config.selectedParty,r=this.config.selectedPreference,i=s.format(",");if(0==e)null!==t.properties.winner?t.properties.winner in this.config.parties&&(n+="<br>Winner: "+this.config.parties[t.properties.winner].name):n+="<br>No results yet";else{if(Object.keys(t.properties.results).length>0){if(e in t.properties.results[r]){var o=t.properties.results[r][e].c,a=(100*o/t.properties.totalCounts[r]).toFixed(1);return n+"<br>"+this.config.parties[e].name+": "+i(o)+" ("+a+"%)"}return n+"<br>"+this.config.parties[e].name+": n/a"}n+="<br>No results yet"}return n}}]),n}(v);n.BaseElectionMapView=v,n.ElectionMapView=g},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.BaseMapView=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(12),a=e(55);e(281);var u=function(){function t(n,e){r(this,t);var i={aspectRatio:1,datasets:{}};this.config=(0,o.extend)(i,e),this.isMobile=(0,o.isMobile)(),this.isTouch=(0,o.isTouch)(),this.isMobile&&void 0!==this.mobileAspectRatio&&(this.config.aspectRatio=this.mobileAspectRatio),"string"==typeof n&&(n=document.getElementById(n)),this.setupElement(n),void 0===this.data&&(this.data={}),this.tooltipTimeout=!1,this.load()}return i(t,[{key:"load",value:function(t){var n=window.BFUKD3Loader;for(var e in this.config.datasets)if(void 0===t||-1!=t.indexOf(e)){var r=this.config.datasets[e].url;"function"==typeof r&&(r=r.bind(this)()),this.data[e]=null,n.load(r,function(t,n){this.data[t]=n}.bind(this,e))}(0,o.addClass)(this.rootElement,"loading"),this.checkDataLoaded()}},{key:"checkDataLoaded",value:function(){for(var t in this.data)if(null===this.data[t])return void setTimeout(this.checkDataLoaded.bind(this),16);this.populateMap(),(0,o.removeClass)(this.rootElement,"loading")}},{key:"populateMap",value:function(){this.drawMap(this.data.boundaryData,this.colorizeMap)}},{key:"setupElement",value:function(){this.rootElement=rootElement}},{key:"drawMap",value:function(t,n){n&&n.bind(this)()}},{key:"colorizeMap",value:function(){}},{key:"clearMap",value:function(){}}]),t}();window&&void 0===window.BFUKD3Loader&&(window.BFUKD3Loader=new a.Loader),n.BaseMapView=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(3);Object.defineProperty(n,"max",{enumerable:!0,get:function(){return r.max}});var i=e(131);Object.defineProperty(n,"scaleOrdinal",{enumerable:!0,get:function(){return i.scaleOrdinal}}),Object.defineProperty(n,"scaleBand",{enumerable:!0,get:function(){return i.scaleBand}}),Object.defineProperty(n,"scaleLinear",{enumerable:!0,get:function(){return i.scaleLinear}});var o=e(2);Object.defineProperty(n,"select",{enumerable:!0,get:function(){return o.select}});var a=e(340);Object.defineProperty(n,"axisBottom",{enumerable:!0,get:function(){return a.axisBottom}});var u=e(132);Object.defineProperty(n,"active",{enumerable:!0,get:function(){return u.active}}),Object.defineProperty(n,"interrupt",{enumerable:!0,get:function(){return u.interrupt}}),Object.defineProperty(n,"transition",{enumerable:!0,get:function(){return u.transition}})},function(t,n,e){"use strict";!function(){if(window){if(/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){var t=window.styleMedia||window.media;if(!t){var n=document.createElement("style"),e=document.getElementsByTagName("script")[0],r=null;n.type="text/css",n.id="matchmediajs-test",e.parentNode.insertBefore(n,e),r="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,t={matchMedium:function(t){var e="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=e:n.textContent=e,"1px"===r.width}}}return function(n){return{matches:t.matchMedium(n||"all"),media:n||"all"}}}()),/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);parseInt(t[1])>=10&&window.addEventListener("touchmove",function(){})}var n=Function.bind.call(Function.call,Array.prototype.reduce),e=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),r=Function.bind.call(Function.call,Array.prototype.concat);Object.values||(Object.values=function(t){return n(Object.keys(t),function(n,i){return r(n,"string"==typeof i&&e(t,i)?[t[i]]:[])},[])})}}()},function(t,n,e){"use strict";var r=(e(284),e(116));e.d(n,"a",function(){return r.a}),e.d(n,"b",function(){return r.b})},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";e(22),e(2),e(116),e(117),e(283),e(285)},function(t,n,e){"use strict";function r(t,n,e,r,i,o,a,u,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=c,this._=s}n.a=r,r.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(118);e.d(n,"geoArea",function(){return r.a});var i=e(287);e.d(n,"geoBounds",function(){return i.a});var o=e(288);e.d(n,"geoCentroid",function(){return o.a});var a=e(119);e.d(n,"geoCircle",function(){return a.a});var u=e(73);e.d(n,"geoClipExtent",function(){return u.a});var c=e(293);e.d(n,"geoContains",function(){return c.a});var s=e(124);e.d(n,"geoDistance",function(){return s.a});var l=e(294);e.d(n,"geoGraticule",function(){return l.a}),e.d(n,"geoGraticule10",function(){return l.b});var f=e(295);e.d(n,"geoInterpolate",function(){return f.a});var h=e(125);e.d(n,"geoLength",function(){return h.a});var d=e(299);e.d(n,"geoPath",function(){return d.a});var p=e(129);e.d(n,"geoAlbers",function(){return p.a});var v=e(302);e.d(n,"geoAlbersUsa",function(){return v.a});var g=e(303);e.d(n,"geoAzimuthalEqualArea",function(){return g.a}),e.d(n,"geoAzimuthalEqualAreaRaw",function(){return g.b});var m=e(304);e.d(n,"geoAzimuthalEquidistant",function(){return m.a}),e.d(n,"geoAzimuthalEquidistantRaw",function(){return m.b});var b=e(305);e.d(n,"geoConicConformal",function(){return b.a}),e.d(n,"geoConicConformalRaw",function(){return b.b});var y=e(76);e.d(n,"geoConicEqualArea",function(){return y.a}),e.d(n,"geoConicEqualAreaRaw",function(){return y.b});var w=e(306);e.d(n,"geoConicEquidistant",function(){return w.a}),e.d(n,"geoConicEquidistantRaw",function(){return w.b});var _=e(130);e.d(n,"geoEquirectangular",function(){return _.a}),e.d(n,"geoEquirectangularRaw",function(){return _.b});var x=e(308);e.d(n,"geoGnomonic",function(){return x.a}),e.d(n,"geoGnomonicRaw",function(){return x.b});var M=e(309);e.d(n,"geoIdentity",function(){return M.a});var E=e(11);e.d(n,"geoProjection",function(){return E.a}),e.d(n,"geoProjectionMutator",function(){return E.b});var k=e(78);e.d(n,"geoMercator",function(){return k.a}),e.d(n,"geoMercatorRaw",function(){return k.b});var S=e(310);e.d(n,"geoOrthographic",function(){return S.a}),e.d(n,"geoOrthographicRaw",function(){return S.b});var P=e(312);e.d(n,"geoStereographic",function(){return P.a}),e.d(n,"geoStereographicRaw",function(){return P.b});var j=e(313);e.d(n,"geoTransverseMercator",function(){return j.a}),e.d(n,"geoTransverseMercatorRaw",function(){return j.b});var A=e(51);e.d(n,"geoRotation",function(){return A.a});var O=e(16);e.d(n,"geoStream",function(){return O.a});var T=e(52);e.d(n,"geoTransform",function(){return T.a})},function(t,n,e){"use strict";function r(t,n){_.push(x=[d=t,v=t]),n<p&&(p=n),n>g&&(g=n)}function i(t,n){var r=e.i(k.a)([t*S.g,n*S.g]);if(w){var i=e.i(k.b)(w,r),o=[i[1],-i[0],0],a=e.i(k.b)(o,i);e.i(k.g)(a),a=e.i(k.f)(a);var u,c=t-m,s=c>0?1:-1,f=a[0]*S.h*s,h=e.i(S.p)(c)>180;h^(s*m<f&&f<s*t)?(u=a[1]*S.h)>g&&(g=u):(f=(f+360)%360-180,h^(s*m<f&&f<s*t)?(u=-a[1]*S.h)<p&&(p=u):(n<p&&(p=n),n>g&&(g=n))),h?t<m?l(d,t)>l(d,v)&&(v=t):l(t,v)>l(d,v)&&(d=t):v>=d?(t<d&&(d=t),t>v&&(v=t)):t>m?l(d,t)>l(d,v)&&(v=t):l(t,v)>l(d,v)&&(d=t)}else _.push(x=[d=t,v=t]);n<p&&(p=n),n>g&&(g=n),w=r,m=t}function o(){A.point=i}function a(){x[0]=d,x[1]=v,A.point=r,w=null}function u(t,n){if(w){var r=t-m;j.add(e.i(S.p)(r)>180?r+(r>0?360:-360):r)}else b=t,y=n;E.b.point(t,n),i(t,n)}function c(){E.b.lineStart()}function s(){u(b,y),E.b.lineEnd(),e.i(S.p)(j)>S.o&&(d=-(v=180)),x[0]=d,x[1]=v,w=null}function l(t,n){return(n-=t)<0?n+360:n}function f(t,n){return t[0]-n[0]}function h(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var d,p,v,g,m,b,y,w,_,x,M=e(20),E=e(118),k=e(29),S=e(0),P=e(16),j=e.i(M.a)(),A={point:r,lineStart:o,lineEnd:a,polygonStart:function(){A.point=u,A.lineStart=c,A.lineEnd=s,j.reset(),E.b.polygonStart()},polygonEnd:function(){E.b.polygonEnd(),A.point=r,A.lineStart=o,A.lineEnd=a,E.c<0?(d=-(v=180),p=-(g=90)):j>S.o?g=90:j<-S.o&&(p=-90),x[0]=d,x[1]=v}};n.a=function(t){var n,r,i,o,a,u,c;if(g=v=-(d=p=1/0),_=[],e.i(P.a)(t,A),r=_.length){for(_.sort(f),n=1,i=_[0],a=[i];n<r;++n)o=_[n],h(i,o[0])||h(i,o[1])?(l(i[0],o[1])>l(i[0],i[1])&&(i[1]=o[1]),l(o[0],i[1])>l(i[0],i[1])&&(i[0]=o[0])):a.push(i=o);for(u=-1/0,r=a.length-1,n=0,i=a[r];n<=r;i=o,++n)o=a[n],(c=l(i[1],o[0]))>u&&(u=c,d=o[0],v=i[1])}return _=x=null,d===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,p],[v,g]]}},function(t,n,e){"use strict";function r(t,n){t*=A.g,n*=A.g;var r=e.i(A.c)(n);i(r*e.i(A.c)(t),r*e.i(A.d)(t),e.i(A.d)(n))}function i(t,n,e){++d,v+=(t-v)/d,g+=(n-g)/d,m+=(e-m)/d}function o(){C.point=a}function a(t,n){t*=A.g,n*=A.g;var r=e.i(A.c)(n);S=r*e.i(A.c)(t),P=r*e.i(A.d)(t),j=e.i(A.d)(n),C.point=u,i(S,P,j)}function u(t,n){t*=A.g,n*=A.g;var r=e.i(A.c)(n),o=r*e.i(A.c)(t),a=r*e.i(A.d)(t),u=e.i(A.d)(n),c=e.i(A.e)(e.i(A.n)((c=P*u-j*a)*c+(c=j*o-S*u)*c+(c=S*a-P*o)*c),S*o+P*a+j*u);p+=c,b+=c*(S+(S=o)),y+=c*(P+(P=a)),w+=c*(j+(j=u)),i(S,P,j)}function c(){C.point=r}function s(){C.point=f}function l(){h(E,k),C.point=r}function f(t,n){E=t,k=n,t*=A.g,n*=A.g,C.point=h;var r=e.i(A.c)(n);S=r*e.i(A.c)(t),P=r*e.i(A.d)(t),j=e.i(A.d)(n),i(S,P,j)}function h(t,n){t*=A.g,n*=A.g;var r=e.i(A.c)(n),o=r*e.i(A.c)(t),a=r*e.i(A.d)(t),u=e.i(A.d)(n),c=P*u-j*a,s=j*o-S*u,l=S*a-P*o,f=e.i(A.n)(c*c+s*s+l*l),h=e.i(A.f)(f),d=f&&-h/f;_+=d*c,x+=d*s,M+=d*l,p+=h,b+=h*(S+(S=o)),y+=h*(P+(P=a)),w+=h*(j+(j=u)),i(S,P,j)}var d,p,v,g,m,b,y,w,_,x,M,E,k,S,P,j,A=e(0),O=e(14),T=e(16),C={sphere:O.a,point:r,lineStart:o,lineEnd:c,polygonStart:function(){C.lineStart=s,C.lineEnd=l},polygonEnd:function(){C.lineStart=o,C.lineEnd=c}};n.a=function(t){d=p=v=g=m=b=y=w=_=x=M=0,e.i(T.a)(t,C);var n=_,r=x,i=M,o=n*n+r*r+i*i;return o<A.w&&(n=b,r=y,i=w,p<A.o&&(n=v,r=g,i=m),(o=n*n+r*r+i*i)<A.w)?[NaN,NaN]:[e.i(A.e)(r,n)*A.h,e.i(A.f)(i/e.i(A.n)(o))*A.h]}},function(t,n,e){"use strict";function r(t){var n,r=NaN,o=NaN,a=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(c,s){var l=c>0?u.a:-u.a,f=e.i(u.p)(c-r);e.i(u.p)(f-u.a)<u.o?(t.point(r,o=(o+s)/2>0?u.k:-u.k),t.point(a,o),t.lineEnd(),t.lineStart(),t.point(l,o),t.point(c,o),n=0):a!==l&&f>=u.a&&(e.i(u.p)(r-a)<u.o&&(r-=a*u.o),e.i(u.p)(c-l)<u.o&&(c-=l*u.o),o=i(r,o,c,s),t.point(a,o),t.lineEnd(),t.lineStart(),t.point(l,o),n=0),t.point(r=c,o=s),a=l},lineEnd:function(){t.lineEnd(),r=o=NaN},clean:function(){return 2-n}}}function i(t,n,r,i){var o,a,c=e.i(u.d)(t-r);return e.i(u.p)(c)>u.o?e.i(u.l)((e.i(u.d)(n)*(a=e.i(u.c)(i))*e.i(u.d)(r)-e.i(u.d)(i)*(o=e.i(u.c)(n))*e.i(u.d)(t))/(o*a*c)):(n+i)/2}function o(t,n,r,i){var o;if(null==t)o=r*u.k,i.point(-u.a,o),i.point(0,o),i.point(u.a,o),i.point(u.a,0),i.point(u.a,-o),i.point(0,-o),i.point(-u.a,-o),i.point(-u.a,0),i.point(-u.a,o);else if(e.i(u.p)(t[0]-n[0])>u.o){var a=t[0]<n[0]?u.a:-u.a;o=r*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(n[0],n[1])}var a=e(121),u=e(0);n.a=e.i(a.a)(function(){return!0},r,o,[-u.a,-u.k])},function(t,n,e){"use strict";var r=e(29),i=e(119),o=e(0),a=e(127),u=e(121);n.a=function(t,n){function c(r,o,a,u){e.i(i.b)(u,t,n,a,r,o)}function s(t,n){return e.i(o.c)(t)*e.i(o.c)(n)>d}function l(t){var n,r,i,u,c;return{lineStart:function(){u=i=!1,c=1},point:function(l,d){var g,m=[l,d],b=s(l,d),y=p?b?0:h(l,d):b?h(l+(l<0?o.a:-o.a),d):0;if(!n&&(u=i=b)&&t.lineStart(),b!==i&&(g=f(n,m),(e.i(a.a)(n,g)||e.i(a.a)(m,g))&&(m[0]+=o.o,m[1]+=o.o,b=s(m[0],m[1]))),b!==i)c=0,b?(t.lineStart(),g=f(m,n),t.point(g[0],g[1])):(g=f(n,m),t.point(g[0],g[1]),t.lineEnd()),n=g;else if(v&&n&&p^b){var w;y&r||!(w=f(m,n,!0))||(c=0,p?(t.lineStart(),t.point(w[0][0],w[0][1]),t.point(w[1][0],w[1][1]),t.lineEnd()):(t.point(w[1][0],w[1][1]),t.lineEnd(),t.lineStart(),t.point(w[0][0],w[0][1])))}!b||n&&e.i(a.a)(n,m)||t.point(m[0],m[1]),n=m,i=b,r=y},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return c|(u&&i)<<1}}}function f(t,n,i){var a=e.i(r.a)(t),u=e.i(r.a)(n),c=[1,0,0],s=e.i(r.b)(a,u),l=e.i(r.c)(s,s),f=s[0],h=l-f*f;if(!h)return!i&&t;var p=d*l/h,v=-d*f/h,g=e.i(r.b)(c,s),m=e.i(r.d)(c,p),b=e.i(r.d)(s,v);e.i(r.e)(m,b);var y=g,w=e.i(r.c)(m,y),_=e.i(r.c)(y,y),x=w*w-_*(e.i(r.c)(m,m)-1);if(!(x<0)){var M=e.i(o.n)(x),E=e.i(r.d)(y,(-w-M)/_);if(e.i(r.e)(E,m),E=e.i(r.f)(E),!i)return E;var k,S=t[0],P=n[0],j=t[1],A=n[1];P<S&&(k=S,S=P,P=k);var O=P-S,T=e.i(o.p)(O-o.a)<o.o,C=T||O<o.o;if(!T&&A<j&&(k=j,j=A,A=k),C?T?j+A>0^E[1]<(e.i(o.p)(E[0]-S)<o.o?j:A):j<=E[1]&&E[1]<=A:O>o.a^(S<=E[0]&&E[0]<=P)){var N=e.i(r.d)(y,(-w+M)/_);return e.i(r.e)(N,m),[E,e.i(r.f)(N)]}}}function h(n,e){var r=p?t:o.a-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var d=e.i(o.c)(t),p=d>0,v=e.i(o.p)(d)>o.o;return e.i(u.a)(s,l,c,p?[0,-t]:[-o.a,t-o.a])}},function(t,n,e){"use strict";n.a=function(t,n,e,r,i,o){var a,u=t[0],c=t[1],s=n[0],l=n[1],f=0,h=1,d=s-u,p=l-c;if(a=e-u,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}if(a=r-c,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=o-c,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=u+f*d,t[1]=c+f*p),h<1&&(n[0]=u+h*d,n[1]=c+h*p),!0}}}}}},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function r(t,n){return!(!t||!d.hasOwnProperty(t.type))&&d[t.type](t,n)}function i(t,n){return 0===e.i(l.a)(t,n)}function o(t,n){var r=e.i(l.a)(t[0],t[1]);return e.i(l.a)(t[0],n)+e.i(l.a)(n,t[1])<=r+f.o}function a(t,n){return!!e.i(s.a)(t.map(u),c(n))}function u(t){return t=t.map(c),t.pop(),t}function c(t){return[t[0]*f.g,t[1]*f.g]}var s=e(128),l=e(124),f=e(0),h={Feature:function(t,n){return r(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,o=e.length;++i<o;)if(r(e[i].geometry,n))return!0;return!1}},d={Sphere:function(){return!0},Point:function(t,n){return i(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)if(i(e[r],n))return!0;return!1},LineString:function(t,n){return o(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(o(e[r],n))return!0;return!1},Polygon:function(t,n){return a(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(a(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,o=e.length;++i<o;)if(r(e[i],n))return!0;return!1}};n.a=function(t,n){return(t&&h.hasOwnProperty(t.type)?h[t.type]:r)(t,n)}},function(t,n,e){"use strict";function r(t,n,r){var i=e.i(u.range)(t,n-c.o,r).concat(n);return function(t){return i.map(function(n){return[t,n]})}}function i(t,n,r){var i=e.i(u.range)(t,n-c.o,r).concat(n);return function(t){return i.map(function(n){return[n,t]})}}function o(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return e.i(u.range)(e.i(c.v)(l/_)*_,s,_).map(m).concat(e.i(u.range)(e.i(c.v)(p/x)*x,d,x).map(b)).concat(e.i(u.range)(e.i(c.v)(a/y)*y,o,y).filter(function(t){return e.i(c.p)(t%_)>c.o}).map(v)).concat(e.i(u.range)(e.i(c.v)(h/w)*w,f,w).filter(function(t){return e.i(c.p)(t%x)>c.o}).map(g))}var o,a,s,l,f,h,d,p,v,g,m,b,y=10,w=y,_=90,x=360,M=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[m(l).concat(b(d).slice(1),m(s).reverse().slice(1),b(p).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(l=+n[0][0],s=+n[1][0],p=+n[0][1],d=+n[1][1],l>s&&(n=l,l=s,s=n),p>d&&(n=p,p=d,d=n),t.precision(M)):[[l,p],[s,d]]},t.extentMinor=function(n){return arguments.length?(a=+n[0][0],o=+n[1][0],h=+n[0][1],f=+n[1][1],a>o&&(n=a,a=o,o=n),h>f&&(n=h,h=f,f=n),t.precision(M)):[[a,h],[o,f]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],x=+n[1],t):[_,x]},t.stepMinor=function(n){return arguments.length?(y=+n[0],w=+n[1],t):[y,w]},t.precision=function(n){return arguments.length?(M=+n,v=r(h,f,90),g=i(a,o,M),m=r(p,d,90),b=i(l,s,M),t):M},t.extentMajor([[-180,-90+c.o],[180,90-c.o]]).extentMinor([[-180,-80-c.o],[180,80+c.o]])}function a(){return o()()}var u=e(3),c=e(0);n.a=o,n.b=a},function(t,n,e){"use strict";var r=e(0);n.a=function(t,n){var i=t[0]*r.g,o=t[1]*r.g,a=n[0]*r.g,u=n[1]*r.g,c=e.i(r.c)(o),s=e.i(r.d)(o),l=e.i(r.c)(u),f=e.i(r.d)(u),h=c*e.i(r.c)(i),d=c*e.i(r.d)(i),p=l*e.i(r.c)(a),v=l*e.i(r.d)(a),g=2*e.i(r.f)(e.i(r.n)(e.i(r.u)(u-o)+c*l*e.i(r.u)(a-i))),m=e.i(r.d)(g),b=g?function(t){var n=e.i(r.d)(t*=g)/m,i=e.i(r.d)(g-t)/m,o=i*h+n*p,a=i*d+n*v,u=i*s+n*f;return[e.i(r.e)(a,o)*r.h,e.i(r.e)(u,e.i(r.n)(o*o+a*a))*r.h]}:function(){return[i*r.h,o*r.h]};return b.distance=g,b}},function(t,n,e){"use strict";function r(){g.point=i}function i(t,n){g.point=o,u=s=t,c=l=n}function o(t,n){v.add(l*t-s*n),s=t,l=n}function a(){o(u,c)}var u,c,s,l,f=e(20),h=e(0),d=e(14),p=e.i(f.a)(),v=e.i(f.a)(),g={point:d.a,lineStart:d.a,lineEnd:d.a,polygonStart:function(){g.lineStart=r,g.lineEnd=a},polygonEnd:function(){g.lineStart=g.lineEnd=g.point=d.a,p.add(e.i(h.p)(v)),v.reset()},result:function(){var t=p/2;return p.reset(),t}};n.a=g},function(t,n,e){"use strict";function r(t,n){m+=t,b+=n,++y}function i(){S.point=o}function o(t,n){S.point=a,r(p=t,v=n)}function a(t,n){var i=t-p,o=n-v,a=e.i(g.n)(i*i+o*o);w+=a*(p+t)/2,_+=a*(v+n)/2,x+=a,r(p=t,v=n)}function u(){S.point=r}function c(){S.point=l}function s(){f(h,d)}function l(t,n){S.point=f,r(h=p=t,d=v=n)}function f(t,n){var i=t-p,o=n-v,a=e.i(g.n)(i*i+o*o);w+=a*(p+t)/2,_+=a*(v+n)/2,x+=a,a=v*t-p*n,M+=a*(p+t),E+=a*(v+n),k+=3*a,r(p=t,v=n)}var h,d,p,v,g=e(0),m=0,b=0,y=0,w=0,_=0,x=0,M=0,E=0,k=0,S={point:r,lineStart:i,lineEnd:u,polygonStart:function(){S.lineStart=c,S.lineEnd=s},polygonEnd:function(){S.point=r,S.lineStart=i,S.lineEnd=u},result:function(){var t=k?[M/k,E/k]:x?[w/x,_/x]:y?[m/y,b/y]:[NaN,NaN];return m=b=y=w=_=x=M=E=k=0,t}};n.a=S},function(t,n,e){"use strict";function r(t){this._context=t}var i=e(0),o=e(14);n.a=r,r.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,i.b)}},result:o.a}},function(t,n,e){"use strict";var r=e(74),i=e(16),o=e(296),a=e(126),u=e(297),c=e(298),s=e(300),l=e(301);n.a=function(t,n){function f(t){return t&&("function"==typeof p&&d.pointRadius(+p.apply(this,arguments)),e.i(i.a)(t,h(d))),d.result()}var h,d,p=4.5;return f.area=function(t){return e.i(i.a)(t,h(o.a)),o.a.result()},f.measure=function(t){return e.i(i.a)(t,h(s.a)),s.a.result()},f.bounds=function(t){return e.i(i.a)(t,h(a.a)),a.a.result()},f.centroid=function(t){return e.i(i.a)(t,h(u.a)),u.a.result()},f.projection=function(n){return arguments.length?(h=null==n?(t=null,r.a):(t=n).stream,f):t},f.context=function(t){return arguments.length?(d=null==t?(n=null,new l.a):new c.a(n=t),"function"!=typeof p&&d.pointRadius(p),f):n},f.pointRadius=function(t){return arguments.length?(p="function"==typeof t?t:(d.pointRadius(+t),+t),f):p},f.projection(t).context(n)}},function(t,n,e){"use strict";function r(t,n){p.point=i,a=c=t,u=s=n}function i(t,n){c-=t,s-=n,d.add(e.i(f.n)(c*c+s*s)),c=t,s=n}var o,a,u,c,s,l=e(20),f=e(0),h=e(14),d=e.i(l.a)(),p={point:h.a,lineStart:function(){p.point=r},lineEnd:function(){o&&i(a,u),p.point=h.a},polygonStart:function(){o=!0},polygonEnd:function(){o=null},result:function(){var t=+d;return d.reset(),t}};n.a=p},function(t,n,e){"use strict";function r(){this._string=[]}function i(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}n.a=r,r.prototype={_circle:i(4.5),pointRadius:function(t){return this._circle=i(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}}},function(t,n,e){"use strict";function r(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}var i=e(0),o=e(129),a=e(76),u=e(77);n.a=function(){function t(t){var n=t[0],e=t[1];return d=null,l.point(n,e),d||(f.point(n,e),d)||(h.point(n,e),d)}function n(){return c=s=null,t}var c,s,l,f,h,d,p=e.i(o.a)(),v=e.i(a.a)().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=e.i(a.a)().rotate([157,0]).center([-3,19.9]).parallels([8,18]),m={point:function(t,n){d=[t,n]}};return t.invert=function(t){var n=p.scale(),e=p.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?v:i>=.166&&i<.234&&r>=-.214&&r<-.115?g:p).invert(t)},t.stream=function(t){return c&&s===t?c:c=r([p.stream(s=t),v.stream(t),g.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),v.precision(t),g.precision(t),n()):p.precision()},t.scale=function(n){return arguments.length?(p.scale(n),v.scale(.35*n),g.scale(n),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var e=p.scale(),r=+t[0],o=+t[1];return l=p.translate(t).clipExtent([[r-.455*e,o-.238*e],[r+.455*e,o+.238*e]]).stream(m),f=v.translate([r-.307*e,o+.201*e]).clipExtent([[r-.425*e+i.o,o+.12*e+i.o],[r-.214*e-i.o,o+.234*e-i.o]]).stream(m),h=g.translate([r-.205*e,o+.212*e]).clipExtent([[r-.214*e+i.o,o+.166*e+i.o],[r-.115*e-i.o,o+.234*e-i.o]]).stream(m),n()},t.fitExtent=function(n,r){return e.i(u.a)(t,n,r)},t.fitSize=function(n,r){return e.i(u.b)(t,n,r)},t.scale(1070)}},function(t,n,e){"use strict";var r=e(0),i=e(30),o=e(11);e.d(n,"b",function(){return a});var a=e.i(i.b)(function(t){return e.i(r.n)(2/(1+t))});a.invert=e.i(i.a)(function(t){return 2*e.i(r.f)(t/2)}),n.a=function(){return e.i(o.a)(a).scale(124.75).clipAngle(179.999)}},function(t,n,e){"use strict";var r=e(0),i=e(30),o=e(11);e.d(n,"b",function(){return a});var a=e.i(i.b)(function(t){return(t=e.i(r.r)(t))&&t/e.i(r.d)(t)});a.invert=e.i(i.a)(function(t){return t}),n.a=function(){return e.i(o.a)(a).scale(79.4188).clipAngle(179.999)}},function(t,n,e){"use strict";function r(t){return e.i(o.j)((o.k+t)/2)}function i(t,n){function i(t,n){s>0?n<-o.k+o.o&&(n=-o.k+o.o):n>o.k-o.o&&(n=o.k-o.o);var i=s/e.i(o.t)(r(n),c);return[i*e.i(o.d)(c*t),s-i*e.i(o.c)(c*t)]}var a=e.i(o.c)(t),c=t===n?e.i(o.d)(t):e.i(o.i)(a/e.i(o.c)(n))/e.i(o.i)(r(n)/r(t)),s=a*e.i(o.t)(r(t),c)/c;return c?(i.invert=function(t,n){var r=s-n,i=e.i(o.s)(c)*e.i(o.n)(t*t+r*r);return[e.i(o.e)(t,e.i(o.p)(r))/c*e.i(o.s)(r),2*e.i(o.l)(e.i(o.t)(s/i,1/c))-o.k]},i):u.b}var o=e(0),a=e(75),u=e(78);n.b=i,n.a=function(){return e.i(a.a)(i).scale(109.5).parallels([30,30])}},function(t,n,e){"use strict";function r(t,n){function r(t,n){var r=c-n,o=u*t;return[r*e.i(i.d)(o),c-r*e.i(i.c)(o)]}var o=e.i(i.c)(t),u=t===n?e.i(i.d)(t):(o-e.i(i.c)(n))/(n-t),c=o/u+t;return e.i(i.p)(u)<i.o?a.b:(r.invert=function(t,n){var r=c-n;return[e.i(i.e)(t,e.i(i.p)(r))/u*e.i(i.s)(r),c-e.i(i.s)(u)*e.i(i.n)(t*t+r*r)]},r)}var i=e(0),o=e(75),a=e(130);n.b=r,n.a=function(){return e.i(o.a)(r).scale(131.154).center([0,13.9389])}},function(t,n,e){"use strict";function r(t){function n(t,n){return[t*r,e.i(i.d)(n)/r]}var r=e.i(i.c)(t);return n.invert=function(t,n){return[t/r,e.i(i.f)(n*r)]},n}var i=e(0);n.a=r},function(t,n,e){"use strict";function r(t,n){var r=e.i(i.c)(n),o=e.i(i.c)(t)*r;return[r*e.i(i.d)(t)/o,e.i(i.d)(n)/o]}var i=e(0),o=e(30),a=e(11);n.b=r,r.invert=e.i(o.a)(i.l),n.a=function(){return e.i(a.a)(r).scale(144.049).clipAngle(60)}},function(t,n,e){"use strict";function r(t,n,r,i){return 1===t&&1===n&&0===r&&0===i?o.a:e.i(a.b)({point:function(e,o){this.stream.point(e*t+r,o*n+i)}})}var i=e(73),o=e(74),a=e(52),u=e(77);n.a=function(){function t(){return s=l=null,f}var n,a,c,s,l,f,h=1,d=0,p=0,v=1,g=1,m=o.a,b=null,y=o.a;return f={stream:function(t){return s&&l===t?s:s=m(y(l=t))},clipExtent:function(r){return arguments.length?(y=null==r?(b=n=a=c=null,o.a):e.i(i.b)(b=+r[0][0],n=+r[0][1],a=+r[1][0],c=+r[1][1]),t()):null==b?null:[[b,n],[a,c]]},scale:function(n){return arguments.length?(m=r((h=+n)*v,h*g,d,p),t()):h},translate:function(n){return arguments.length?(m=r(h*v,h*g,d=+n[0],p=+n[1]),t()):[d,p]},reflectX:function(n){return arguments.length?(m=r(h*(v=n?-1:1),h*g,d,p),t()):v<0},reflectY:function(n){return arguments.length?(m=r(h*v,h*(g=n?-1:1),d,p),t()):g<0},fitExtent:function(t,n){return e.i(u.a)(f,t,n)},fitSize:function(t,n){return e.i(u.b)(f,t,n)}}}},function(t,n,e){"use strict";function r(t,n){return[e.i(i.c)(n)*e.i(i.d)(t),e.i(i.d)(n)]}var i=e(0),o=e(30),a=e(11);n.b=r,r.invert=e.i(o.a)(i.f),n.a=function(){return e.i(a.a)(r).scale(249.5).clipAngle(90+i.o)}},function(t,n,e){"use strict";function r(t){return e.i(u.b)({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function i(t,n){function r(i,o,u,c,l,f,h,d,p,v,g,m,b,y){var w=h-i,_=d-o,x=w*w+_*_;if(x>4*n&&b--){var M=c+v,E=l+g,k=f+m,S=e.i(a.n)(M*M+E*E+k*k),P=e.i(a.f)(k/=S),j=e.i(a.p)(e.i(a.p)(k)-1)<a.o||e.i(a.p)(u-p)<a.o?(u+p)/2:e.i(a.e)(E,M),A=t(j,P),O=A[0],T=A[1],C=O-i,N=T-o,L=_*C-w*N;(L*L/x>n||e.i(a.p)((w*C+_*N)/x-.5)>.3||c*v+l*g+f*m<s)&&(r(i,o,u,c,l,f,O,T,j,M/=S,E/=S,k,b,y),y.point(O,T),r(O,T,j,M,E,k,h,d,p,v,g,m,b,y))}}return function(n){function i(e,r){e=t(e,r),n.point(e[0],e[1])}function a(){w=NaN,k.point=u,n.lineStart()}function u(i,a){var u=e.i(o.a)([i,a]),s=t(i,a);r(w,_,y,x,M,E,w=s[0],_=s[1],y=i,x=u[0],M=u[1],E=u[2],c,n),n.point(w,_)}function s(){k.point=i,n.lineEnd()}function l(){a(),k.point=f,k.lineEnd=h}function f(t,n){u(d=t,n),p=w,v=_,g=x,m=M,b=E,k.point=u}function h(){r(w,_,y,x,M,E,p,v,d,g,m,b,c,n),k.lineEnd=s,s()}var d,p,v,g,m,b,y,w,_,x,M,E,k={point:i,lineStart:a,lineEnd:s,polygonStart:function(){n.polygonStart(),k.lineStart=l},polygonEnd:function(){n.polygonEnd(),k.lineStart=a}};return k}}var o=e(29),a=e(0),u=e(52),c=16,s=e.i(a.c)(30*a.g);n.a=function(t,n){return+n?i(t,n):r(t)}},function(t,n,e){"use strict";function r(t,n){var r=e.i(i.c)(n),o=1+e.i(i.c)(t)*r;return[r*e.i(i.d)(t)/o,e.i(i.d)(n)/o]}var i=e(0),o=e(30),a=e(11);n.b=r,r.invert=e.i(o.a)(function(t){return 2*e.i(i.l)(t)}),n.a=function(){return e.i(a.a)(r).scale(250).clipAngle(142)}},function(t,n,e){"use strict";function r(t,n){return[e.i(i.i)(e.i(i.j)((i.k+n)/2)),-t]}var i=e(0),o=e(78);n.b=r,r.invert=function(t,n){return[-n,2*e.i(i.l)(e.i(i.m)(t))-i.k]},n.a=function(){var t=e.i(o.c)(r),n=t.center,i=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?i([t[0],t[1],t.length>2?t[2]+90:90]):(t=i(),[t[0],t[1],t[2]-90])},i([0,0,90]).scale(159.155)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(318);e.d(n,"zoom",function(){return r.a});var i=e(133);e.d(n,"zoomTransform",function(){return i.a}),e.d(n,"zoomIdentity",function(){return i.b})},function(t,n,e){"use strict";n.a=function(t){return function(){return t}}},function(t,n,e){"use strict";function r(t,n,e){this.target=t,this.type=n,this.transform=e}n.a=r},function(t,n,e){"use strict";function r(){i.event.stopImmediatePropagation()}var i=e(2);n.b=r,n.a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()}},function(t,n,e){"use strict";function r(){return!s.event.button}function i(){var t,n,e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,t=e.width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function o(){return this.__zoom||d.b}var a=e(22),u=e(282),c=e(7),s=e(2),l=e(132),f=e(315),h=e(316),d=e(133),p=e(317);n.a=function(){function t(t){t.on("wheel.zoom",_).on("mousedown.zoom",x).on("dblclick.zoom",M).on("touchstart.zoom",E).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",S).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",o)}function n(t,n){return n=Math.max(T,Math.min(C,n)),n===t.k?t:new d.c(n,t.x,t.y)}function v(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new d.c(t.k,r,i)}function g(t,n){var e=t.invertX(n[0][0])-N,r=t.invertX(n[1][0])-L,i=t.invertY(n[0][1])-F,o=t.invertY(n[1][1])-z;return t.translate(r>e?(e+r)/2:Math.min(0,e)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,e){t.on("start.zoom",function(){y(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=y(t,r),o=O.apply(t,r),a=e||m(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,s="function"==typeof n?n.apply(t,r):n,l=R(c.invert(a).concat(u/c.k),s.invert(a).concat(u/s.k));return function(t){if(1===t)t=s;else{var n=l(t),e=u/n[2];t=new d.c(e,a[0]-n[0]*e,a[1]-n[1]*e)}i.zoom(null,t)}})}function y(t,n){for(var e,r=0,i=U.length;r<i;++r)if((e=U[r]).that===t)return e;return new w(t,n)}function w(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=O.apply(t,n)}function _(){function t(){r.wheel=null,r.end()}if(A.apply(this,arguments)){var r=y(this,arguments),i=this.__zoom,o=Math.max(T,Math.min(C,i.k*Math.pow(2,-s.event.deltaY*(s.event.deltaMode?120:1)/500))),a=e.i(s.mouse)(this);if(r.wheel)r.mouse[0][0]===a[0]&&r.mouse[0][1]===a[1]||(r.mouse[1]=i.invert(r.mouse[0]=a)),clearTimeout(r.wheel);else{if(i.k===o)return;r.mouse=[a,i.invert(a)],e.i(l.interrupt)(this),r.start()}e.i(p.a)(),r.wheel=setTimeout(t,B),r.zoom("mouse",g(v(n(i,o),r.mouse[0],r.mouse[1]),r.extent))}}function x(){function t(){e.i(p.a)(),r.moved=!0,r.zoom("mouse",g(v(r.that.__zoom,r.mouse[0]=e.i(s.mouse)(r.that),r.mouse[1]),r.extent))}function n(){i.on("mousemove.zoom mouseup.zoom",null),e.i(u.b)(s.event.view,r.moved),e.i(p.a)(),r.end()}if(!j&&A.apply(this,arguments)){var r=y(this,arguments),i=e.i(s.select)(s.event.view).on("mousemove.zoom",t,!0).on("mouseup.zoom",n,!0),o=e.i(s.mouse)(this);e.i(u.a)(s.event.view),e.i(p.b)(),r.mouse=[o,this.__zoom.invert(o)],e.i(l.interrupt)(this),r.start()}}function M(){if(A.apply(this,arguments)){var r=this.__zoom,i=e.i(s.mouse)(this),o=r.invert(i),a=r.k*(s.event.shiftKey?.5:2),u=g(v(n(r,a),i,o),O.apply(this,arguments));e.i(p.a)(),D>0?e.i(s.select)(this).transition().duration(D).call(b,u,i):e.i(s.select)(this).call(t.transform,u)}}function E(){if(A.apply(this,arguments)){var t,n,r,i,o=y(this,arguments),a=s.event.changedTouches,u=a.length;for(e.i(p.b)(),n=0;n<u;++n)r=a[n],i=e.i(s.touch)(this,a,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,t=!0);if(P&&(P=clearTimeout(P),!o.touch1))return o.end(),void((i=e.i(s.select)(this).on("dblclick.zoom"))&&i.apply(this,arguments));t&&(P=setTimeout(function(){P=null},H),e.i(l.interrupt)(this),o.start())}}function k(){var t,r,i,o,a=y(this,arguments),u=s.event.changedTouches,c=u.length;for(e.i(p.a)(),P&&(P=clearTimeout(P)),t=0;t<c;++t)r=u[t],i=e.i(s.touch)(this,u,r.identifier),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var l=a.touch0[0],f=a.touch0[1],h=a.touch1[0],d=a.touch1[1],m=(m=h[0]-l[0])*m+(m=h[1]-l[1])*m,b=(b=d[0]-f[0])*b+(b=d[1]-f[1])*b;r=n(r,Math.sqrt(m/b)),i=[(l[0]+h[0])/2,(l[1]+h[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],o=a.touch0[1]}a.zoom("touch",g(v(r,i,o),a.extent))}function S(){var t,n,r=y(this,arguments),i=s.event.changedTouches,o=i.length;for(e.i(p.b)(),j&&clearTimeout(j),j=setTimeout(function(){j=null},H),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var P,j,A=r,O=i,T=0,C=1/0,N=-C,L=C,F=N,z=L,D=250,R=c.interpolateZoom,U=[],I=e.i(a.dispatch)("start","zoom","end"),H=500,B=150;return t.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",o),t!==e?b(t,n):e.interrupt().each(function(){y(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},t.scaleBy=function(n,e){t.scaleTo(n,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},t.scaleTo=function(e,r){t.transform(e,function(){var t=O.apply(this,arguments),e=this.__zoom,i=m(t),o=e.invert(i);return g(v(n(e,"function"==typeof r?r.apply(this,arguments):r),i,o),t)})},t.translateBy=function(n,e,r){t.transform(n,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),O.apply(this,arguments))})},w.prototype={start:function(){return 1==++this.active&&(this.index=U.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(U.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(n){e.i(s.customEvent)(new h.a(t,n,this.that.__zoom),I.apply,I,[n,this.that,this.args])}},t.filter=function(n){return arguments.length?(A="function"==typeof n?n:e.i(f.a)(!!n),t):A},t.extent=function(n){return arguments.length?(O="function"==typeof n?n:e.i(f.a)([[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]]),t):O},t.scaleExtent=function(n){return arguments.length?(T=+n[0],C=+n[1],t):[T,C]},t.translateExtent=function(n){return arguments.length?(N=+n[0][0],L=+n[1][0],F=+n[0][1],z=+n[1][1],t):[[N,F],[L,z]]},t.duration=function(n){return arguments.length?(D=+n,t):D},t.interpolate=function(n){return arguments.length?(R=n,t):R},t.on=function(){var n=I.on.apply(I,arguments);return n===I?t:n},t}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e){this.helpers=t||{},this.partials=n||{},this.decorators=e||{},c.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}n.__esModule=!0,n.HandlebarsEnvironment=i;var o=e(28),a=e(100),u=r(a),c=e(347),s=e(345),l=e(355),f=r(l);n.VERSION="4.0.5";n.COMPILER_REVISION=7;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};n.REVISION_CHANGES=h;i.prototype={constructor:i,logger:f.default,log:f.default.log,registerHelper:function(t,n){if("[object Object]"===o.toString.call(t)){if(n)throw new u.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=n},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,n){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===n)throw new u.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=n}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,n){if("[object Object]"===o.toString.call(t)){if(n)throw new u.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=n},unregisterDecorator:function(t){delete this.decorators[t]}};var d=f.default.log;n.log=d,n.createFrame=o.createFrame,n.logger=f.default},function(t,n,e){t.exports=e(344).default},function(t,n,e){function r(t){return null==t?void 0===t?c:u:s&&s in Object(t)?o(t):a(t)}var i=e(134),o=e(323),a=e(324),u="[object Null]",c="[object Undefined]",s=i?i.toStringTag:void 0;t.exports=r},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(n,e(114))},function(t,n,e){function r(t){var n=a.call(t,c),e=t[c];try{t[c]=void 0}catch(t){}var r=u.call(t);return n?t[c]=e:delete t[c],r}var i=e(134),o=Object.prototype,a=o.hasOwnProperty,u=o.toString,c=i?i.toStringTag:void 0;t.exports=r},function(t,n){function e(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=e},function(t,n,e){function r(t,n,e){function r(n){var e=b,r=y;return b=y=void 0,E=n,_=t.apply(r,e)}function l(t){return E=t,x=setTimeout(d,n),k?r(t):_}function f(t){var e=t-M,r=t-E,i=n-e;return S?s(i,w-r):i}function h(t){var e=t-M,r=t-E;return void 0===M||e>=n||e<0||S&&r>=w}function d(){var t=o();if(h(t))return p(t);x=setTimeout(d,f(t))}function p(t){return x=void 0,P&&b?r(t):(b=y=void 0,_)}function v(){void 0!==x&&clearTimeout(x),E=0,b=M=y=x=void 0}function g(){return void 0===x?_:p(o())}function m(){var t=o(),e=h(t);if(b=arguments,y=this,M=t,e){if(void 0===x)return l(M);if(S)return x=setTimeout(d,n),r(M)}return void 0===x&&(x=setTimeout(d,n)),_}var b,y,w,_,x,M,E=0,k=!1,S=!1,P=!0;if("function"!=typeof t)throw new TypeError(u);return n=a(n)||0,i(e)&&(k=!!e.leading,S="maxWait"in e,w=S?c(a(e.maxWait)||0,n):w,P="trailing"in e?!!e.trailing:P),m.cancel=v,m.flush=g,m}var i=e(136),o=e(328),a=e(329),u="Expected a function",c=Math.max,s=Math.min;t.exports=r},function(t,n){function e(t){return null!=t&&"object"==typeof t}t.exports=e},function(t,n,e){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=e(321),o=e(326),a="[object Symbol]";t.exports=r},function(t,n,e){var r=e(135),i=function(){return r.Date.now()};t.exports=i},function(t,n,e){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=i(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var e=s.test(t);return e||l.test(t)?f(t.slice(2),e?2:8):c.test(t)?a:+t}var i=e(136),o=e(327),a=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,n,e){"use strict";n.a=function(t,n){for(var e=0,r=t.length;e<r;){var i=e+r>>>1;t[i]<n?e=i+1:r=i}return e}},function(t,n,e){"use strict";function r(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[0]*i[1]-n[1]*i[0];return Math.abs(o)}function i(t,n){function i(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(i);break;case"Polygon":u(t.arcs);break;case"MultiPolygon":t.arcs.forEach(u)}}function u(t){t.forEach(function(n){n.forEach(function(n){(s[n=n<0?~n:n]||(s[n]=[])).push(t)})}),l.push(t)}function c(n){return r(e.i(o.b)(t,{type:"Polygon",arcs:[n]}).coordinates[0])}var s={},l=[],f=[];return n.forEach(i),l.forEach(function(t){if(!t._){var n=[],e=[t];for(t._=1,f.push(n);t=e.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){s[t<0?~t:t].forEach(function(t){t._||(t._=1,e.push(t))})})})}}),l.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:f.map(function(n){var r,i=[];if(n.forEach(function(t){t.forEach(function(t){t.forEach(function(t){s[t<0?~t:t].length<2&&i.push(t)})})}),i=e.i(a.a)(t,i),(r=i.length)>1)for(var o,u,l=1,f=c(i[0]);l<r;++l)(o=c(i[l]))>f&&(u=i[0],i[0]=i[l],i[l]=u,f=o);return i})}}var o=e(101),a=e(139);n.b=i,n.a=function(t){return e.i(o.b)(t,i.apply(this,arguments))}},function(t,n,e){"use strict";function r(t,n,r){var o,u,c;if(arguments.length>1)o=i(t,n,r);else for(u=0,o=new Array(c=t.arcs.length);u<c;++u)o[u]=u;return{type:"MultiLineString",arcs:e.i(a.a)(t,o)}}function i(t,n,e){function r(t){var n=t<0?~t:t;(l[n]||(l[n]=[])).push({i:t,g:c})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}function a(t){t.forEach(o)}function u(t){switch(c=t,t.type){case"GeometryCollection":t.geometries.forEach(u);break;case"LineString":i(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":a(t.arcs)}}var c,s=[],l=[];return u(n),l.forEach(null==e?function(t){s.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}var o=e(101),a=e(139);n.b=r,n.a=function(t){return e.i(o.b)(t,r.apply(this,arguments))}},function(t,n,e){"use strict";var r=e(330);n.a=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=a[t];e?e.push(n):a[t]=[n]})}function i(t,e){t.forEach(function(t){n(t,e)})}function o(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){o(t,n)}):t.type in c&&c[t.type](t.arcs,n)}var a={},u=t.map(function(){return[]}),c={LineString:n,MultiLineString:i,Polygon:i,MultiPolygon:function(t,n){t.forEach(function(t){i(t,n)})}};t.forEach(o);for(var s in a)for(var l=a[s],f=l.length,h=0;h<f;++h)for(var d=h+1;d<f;++d){var p,v=l[h],g=l[d];(p=u[v])[s=e.i(r.a)(p,g)]!==g&&p.splice(s,0,g),(p=u[g])[s=e.i(r.a)(p,v)]!==v&&p.splice(s,0,v)}return u}},function(t,n,e){"use strict";var r=e(137),i=e(140);n.a=function(t,n){function o(t){return v(t)}function a(t){var n;switch(t.type){case"GeometryCollection":n={type:"GeometryCollection",geometries:t.geometries.map(a)};break;case"Point":n={type:"Point",coordinates:o(t.coordinates)};break;case"MultiPoint":n={type:"MultiPoint",coordinates:t.coordinates.map(o)};break;default:return t}return null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),null!=t.properties&&(n.properties=t.properties),n}function u(t){var n,e=0,r=1,i=t.length,o=new Array(i);for(o[0]=v(t[0],0);++e<i;)((n=v(t[e],e))[0]||n[1])&&(o[r++]=n);return 1===r&&(o[r++]=[0,0]),o.length=r,o}if(t.transform)throw new Error("already quantized");if(n&&n.scale)d=t.bbox;else{if(!((c=Math.floor(n))>=2))throw new Error("n must be â¥2");d=t.bbox||e.i(r.a)(t);var c,s=d[0],l=d[1],f=d[2],h=d[3];n={scale:[f-s?(f-s)/(c-1):1,h-l?(h-l)/(c-1):1],translate:[s,l]}}var d,p,v=e.i(i.a)(n),g=t.objects,m={};for(p in g)m[p]=a(g[p]);return{type:"Topology",bbox:d,transform:n,objects:m,arcs:t.arcs.map(u)}}},function(t,n,e){"use strict";n.a=function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.GeneralElectionGraphView=void 0;var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=e(280),c=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(u),s=e(104),l=e(12),f=e(339);n.GeneralElectionGraphView=function(t){function n(t,e){r(this,n);var o={aspectRatio:1.1723,mobileAspectRatio:1.2,dataset:window.BFUKElectionAlertsAPIHostname+"api/v1/result",marginRatios:{left:0,right:0,top:0,bottom:.08},rescaleMarginsForMobile:!1,tickLabelSize:{desktop:"0.8rem",mobile:"6pt"},bandInnerPadding:.2,bandOuterPadding:0,barPlayDelay:400,barPlayDuration:1200,labelHeight:70,barLabelScale:1,heading:"Results so far",parties:["Con","Lab","SNP","LD","Grn","Oth"]},a=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,(0,l.extend)(o,e)));return a.data={},a.wrapper.querySelector(".graph-meta-heading").innerHTML=a.config.heading,a.wrapper.querySelector(".graph-meta-subheading").innerHTML="Loading...",window.BFUKD3Loader.load(a.config.dataset,a.assignData.bind(a)),a}return o(n,t),a(n,[{key:"calculateResults",value:function(t){this.wrapper.querySelector(".graph-meta-subheading").innerHTML="After "+t.results.length+" out of 650 seats declared";var n=this.config.parties,e={},r={};n.forEach(function(t){e[t]=0,r[t]=0}),t.results.forEach(function(t){var n=t.w in e?t.w:"Oth",i=t.h in e?t.h:"Oth";e[n]++,t.w!=t.h&&(r[n]++,r[i]--)});var i=n.map(function(t){return{party:t,count:e[t],change:r[t]}});i.sort(function(t,n){return"Oth"==n.party?-1:"Oth"==t.party?1:n.count-t.count}),this.data.chartData=i;var o=this.data.chartData.map(function(t){return s.MainPoliticalParties[t.party].color});this.color=c.scaleOrdinal().domain(0,o.length-1).range(o)}},{key:"assignData",value:function(t){this.calculateResults(t),this.setupScales("party","count"),this.setupGraphAxes(),this.setupBars()}},{key:"updateResults",value:function(t){var n=this;this.calculateResults(t);var e=this.data.chartData.map(function(t){return t[n.xField]}),r=this.data.chartData.map(function(t){return t[n.yField]});this.xScale.domain(e),this.yScale.domain([0,c.max(r)]),this.svg.select(".x.axis").call(this.xAxis),this.setupBars()}},{key:"setupScales",value:function(t,n){this.xField=t,this.yField=n;var e=this.data.chartData.map(function(n){return n[t]}),r=this.data.chartData.map(function(t){return t[n]});this.xScale=c.scaleBand().domain(e).rangeRound([0,this.innerWidth]).paddingInner(this.config.bandInnerPadding).paddingOuter(this.config.bandOuterPadding),this.yScale=c.scaleLinear().domain([0,c.max(r)]).range([1,this.innerHeight-this.config.labelHeight]).clamp(!0)}},{key:"setupGraphAxes",value:function(){this.svg.selectAll(".axis").remove();var t=this.svg.insert("g",":first-child").attr("class","x axis").attr("transform",this.getTranslate(this.offsets.left,this.offsets.bottom)),n=this.isMobile?"mobile":"desktop";this.xAxis=c.axisBottom(this.xScale).tickSize(0).tickPadding(10),t.call(this.xAxis),t.selectAll(".tick text").attr("font-size",this.config.tickLabelSize[n])}},{key:"setupBars",value:function(){var t=this,n=function(t){var n=this.offsets.left+this.xScale(t[this.xField]),e=this.offsets.bottom;return this.getTranslate(n,e)+" scale(1, -1)"}.bind(this),e=this.svg.selectAll(".bar").data(this.data.chartData),r=e.enter().append("g").attr("class","bar").attr("transform",n);r.append("rect").attr("width",this.xScale.bandwidth()).attr("height",0);var i=this.config.barLabelScale,o=function(t){var n=this.yScale(t[this.yField]);return this.getTranslate(0,n+this.config.labelHeight)+" scale("+i+", -"+i+")"}.bind(this),a=r.append("g").attr("class","bar-label").attr("transform","translate(0, "+this.config.labelHeight+") scale("+i+", -"+i+")");a.append("path").attr("class","bar-triangle").attr("d","M 12 0 L 24 20 L 0 20 Z"),a.append("text").attr("class","bar-label-change").attr("x",24).attr("y",16),a.append("text").attr("class","bar-label-count").attr("y",55);var u=e.merge(r);u.select("rect").transition().attr("fill",function(n,e){return t.color(e)}).duration(this.config.barPlayDuration).attr("height",function(n){return t.yScale(n[t.yField])}),u.select(".bar-label").transition().duration(this.config.barPlayDuration).attr("transform",o),u.select(".bar-triangle").transition().attr("fill",function(n,e){return t.color(e)}).attr("transform",function(t){return t.change<0?"scale(1,-1) translate(0, -20)":"scale(1,1)"}).attr("visibility",function(t){return 0===t.change?"hidden":"visible"}),u.select(".bar-label-change").text(function(t){return t.change>0?"+"+t.change:t.change}).attr("visibility",function(t){return 0===t.change?"hidden":"visible"}),u.select(".bar-label-count").text(function(n){return n[t.yField]})}}]),n}(f.BaseD3View)},function(t,n,e){(function(t){var r;/*!
 * jBone v1.2.0 - 2016-04-13 - Library for DOM manipulation
 *
 * http://jbone.js.org
 *
 * Copyright 2016 Alexey Kupriyanenko
 * Released under the MIT license.
 */
!function(i){function o(t){var n=t.length,e=typeof t;return!b(e)&&t!==i&&(!(1!==t.nodeType||!n)||(y(e)||0===n||"number"==typeof n&&n>0&&n-1 in t))}function a(t,n){var e,r;this.originalEvent=t,r=function(t,n){"preventDefault"===t?this[t]=function(){return this.defaultPrevented=!0,n[t]()}:"stopImmediatePropagation"===t?this[t]=function(){return this.immediatePropagationStopped=!0,n[t]()}:b(n[t])?this[t]=function(){return n[t]()}:this[t]=n[t]};for(e in t)(t[e]||"function"==typeof t[e])&&r.call(this,e,t);w.extend(this,n,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}var u,c=i.$,s=i.jBone,l=/^<(\w+)\s*\/?>$/,f=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=[].slice,d=[].splice,p=Object.keys,v=document,g=function(t){return"string"==typeof t},m=function(t){return t instanceof Object},b=function(t){return"[object Function]"==={}.toString.call(t)},y=function(t){return Array.isArray(t)},w=function(t,n){return new u.init(t,n)};w.noConflict=function(){return i.$=c,i.jBone=s,w},u=w.fn=w.prototype={init:function(t,n){var e,r,i,o;if(!t)return this;if(g(t)){if(r=l.exec(t))return this[0]=v.createElement(r[1]),this.length=1,m(n)&&this.attr(n),this;if((r=f.exec(t))&&r[1]){for(o=v.createDocumentFragment(),i=v.createElement("div"),i.innerHTML=t;i.lastChild;)o.appendChild(i.firstChild);return e=h.call(o.childNodes),w.merge(this,e)}if(w.isElement(n))return w(n).find(t);try{return e=v.querySelectorAll(t),w.merge(this,e)}catch(t){return this}}return t.nodeType?(this[0]=t,this.length=1,this):b(t)?t():t instanceof w?t:w.makeArray(t,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0},u.constructor=w,u.init.prototype=u,w.setId=function(t){var n=t.jid;t===i?n="window":void 0===t.jid&&(t.jid=n=++w._cache.jid),w._cache.events[n]||(w._cache.events[n]={})},w.getData=function(t){t=t instanceof w?t[0]:t;var n=t===i?"window":t.jid;return{jid:n,events:w._cache.events[n]}},w.isElement=function(t){return t&&t instanceof w||t instanceof HTMLElement||g(t)},w._cache={events:{},jid:0},u.pushStack=function(t){return w.merge(this.constructor(),t)},w.merge=function(t,n){for(var e=n.length,r=t.length,i=0;i<e;)t[r++]=n[i++];return t.length=r,t},w.contains=function(t,n){return t.contains(n)},w.extend=function(t){var n;return d.call(arguments,1).forEach(function(e){if(n=t,e)for(var r in e)n[r]=e[r]}),t},w.makeArray=function(t,n){var e=n||[];return null!==t&&(o(t)?w.merge(e,g(t)?[t]:t):e.push(t)),e},w.unique=function(t){if(null==t)return[];for(var n=[],e=0,r=t.length;e<r;e++){var i=t[e];n.indexOf(i)<0&&n.push(i)}return n},w.Event=function(t,n){var e,r;return t.type&&!n&&(n=t,t=t.type),e=t.split(".").splice(1).join("."),r=t.split(".")[0],t=v.createEvent("Event"),t.initEvent(r,!0,!0),w.extend(t,{namespace:e,isDefaultPrevented:function(){return t.defaultPrevented}},n)},w.event={add:function(t,n,e,r,i){w.setId(t);var o,a,u,c=function(n){w.event.dispatch.call(t,n)},s=w.getData(t).events;for(n=n.split(" "),a=n.length;a--;)u=n[a],o=u.split(".")[0],s[o]=s[o]||[],s[o].length?c=s[o][0].fn:t.addEventListener&&t.addEventListener(o,c,!1),s[o].push({namespace:u.split(".").splice(1).join("."),fn:c,selector:i,data:r,originfn:e})},remove:function(t,n,e,r){var i,o,a=function(t,n,r,i,o){var a;(e&&o.originfn===e||!e)&&(a=o.fn),t[n][r].fn===a&&(t[n].splice(r,1),t[n].length||i.removeEventListener(n,a))},u=w.getData(t).events;if(u)return!n&&u?p(u).forEach(function(n){for(o=u[n],i=o.length;i--;)a(u,n,i,t,o[i])}):void n.split(" ").forEach(function(n){var e,c=n.split(".")[0],s=n.split(".").splice(1).join(".");if(u[c])for(o=u[c],i=o.length;i--;)e=o[i],(!s||s&&e.namespace===s)&&(!r||r&&e.selector===r)&&a(u,c,i,t,e);else s&&p(u).forEach(function(n){for(o=u[n],i=o.length;i--;)e=o[i],e.namespace.split(".")[0]===s.split(".")[0]&&a(u,n,i,t,e)})})},trigger:function(t,n){var e=[];g(n)?e=n.split(" ").map(function(t){return w.Event(t)}):(n=n instanceof Event?n:w.Event(n),e=[n]),e.forEach(function(n){n.type&&t.dispatchEvent&&t.dispatchEvent(n)})},dispatch:function(t){for(var n,e,r,i,o,u=0,c=0,s=this,l=w.getData(s).events[t.type],f=l.length,h=[],d=[];u<f;u++)h.push(l[u]);for(u=0,f=h.length;u<f&&~l.indexOf(h[u])&&(!i||!i.isImmediatePropagationStopped());u++)if(e=null,o={},r=h[u],r.data&&(o.data=r.data),r.selector){if(~(d=w(s).find(r.selector)).indexOf(t.target)&&(e=t.target)||s!==t.target&&s.contains(t.target)){if(!e)for(n=d.length,c=0;c<n;c++)d[c]&&d[c].contains(t.target)&&(e=d[c]);if(!e)continue;o.currentTarget=e,i=new a(t,o),t.namespace&&t.namespace!==r.namespace||r.originfn.call(e,i)}}else i=new a(t,o),t.namespace&&t.namespace!==r.namespace||r.originfn.call(s,i)}},u.on=function(t,n,e,r){var i=this.length,o=0;if(null==e&&null==r?(r=n,e=n=void 0):null==r&&("string"==typeof n?(r=e,e=void 0):(r=e,e=n,n=void 0)),!r)return this;for(;o<i;o++)w.event.add(this[o],t,r,e,n);return this},u.one=function(t){var n,e=arguments,r=0,i=this.length,o=h.call(e,1,e.length-1),a=h.call(e,-1)[0];for(n=function(n){var e=w(n);t.split(" ").forEach(function(t){var r=function(i){e.off(t,r),a.call(n,i)};e.on.apply(e,[t].concat(o,r))})};r<i;r++)n(this[r]);return this},u.trigger=function(t){var n=0,e=this.length;if(!t)return this;for(;n<e;n++)w.event.trigger(this[n],t);return this},u.off=function(t,n,e){var r=0,i=this.length;for(b(n)&&(e=n,n=void 0);r<i;r++)w.event.remove(this[r],t,e,n);return this},u.find=function(t){for(var n=[],e=0,r=this.length;e<r;e++)!function(e){b(e.querySelectorAll)&&[].forEach.call(e.querySelectorAll(t),function(t){n.push(t)})}(this[e]);return w(n)},u.get=function(t){return null!=t?t<0?this[t+this.length]:this[t]:h.call(this)},u.eq=function(t){return w(this[t])},u.parent=function(){for(var t,n=[],e=0,r=this.length;e<r;e++)!~n.indexOf(t=this[e].parentElement)&&t&&n.push(t);return w(n)},u.toArray=function(){return h.call(this)},u.is=function(){var t=arguments;return this.some(function(n){return n.tagName.toLowerCase()===t[0]})},u.has=function(){var t=arguments;return this.some(function(n){return n.querySelectorAll(t[0]).length})},u.add=function(t,n){return this.pushStack(w.unique(w.merge(this.get(),w(t,n))))},u.attr=function(t,n){var e,r=arguments,i=0,o=this.length;if(g(t)&&1===r.length)return this[0]&&this[0].getAttribute(t);for(2===r.length?e=function(e){e.setAttribute(t,n)}:m(t)&&(e=function(n){p(t).forEach(function(e){n.setAttribute(e,t[e])})});i<o;i++)e(this[i]);return this},u.removeAttr=function(t){for(var n=0,e=this.length;n<e;n++)this[n].removeAttribute(t);return this},u.val=function(t){var n=0,e=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;n<e;n++)this[n].value=t;return this},u.css=function(t,n){var e,r=arguments,o=0,a=this.length;if(g(t)&&1===r.length)return this[0]&&i.getComputedStyle(this[0])[t];for(2===r.length?e=function(e){e.style[t]=n}:m(t)&&(e=function(n){p(t).forEach(function(e){n.style[e]=t[e]})});o<a;o++)e(this[o]);return this},u.data=function(t,n){var e,r=arguments,i={},o=0,a=this.length,u=function(t,n,e){m(e)?(t.jdata=t.jdata||{},t.jdata[n]=e):t.dataset[n]=e},c=function(t){return"true"===t||"false"!==t&&t};if(0===r.length)return this[0].jdata&&(i=this[0].jdata),p(this[0].dataset).forEach(function(t){i[t]=c(this[0].dataset[t])},this),i;if(1===r.length&&g(t))return this[0]&&c(this[0].dataset[t]||this[0].jdata&&this[0].jdata[t]);for(1===r.length&&m(t)?e=function(n){p(t).forEach(function(e){u(n,e,t[e])})}:2===r.length&&(e=function(e){u(e,t,n)});o<a;o++)e(this[o]);return this},u.removeData=function(t){for(var n,e,r=0,i=this.length;r<i;r++)if(n=this[r].jdata,e=this[r].dataset,t)n&&n[t]&&delete n[t],delete e[t];else{for(t in n)delete n[t];for(t in e)delete e[t]}return this},u.addClass=function(t){for(var n=0,e=0,r=this.length,i=t?t.trim().split(/\s+/):[];n<r;n++)for(e=0,e=0;e<i.length;e++)this[n].classList.add(i[e]);return this},u.removeClass=function(t){for(var n=0,e=0,r=this.length,i=t?t.trim().split(/\s+/):[];n<r;n++)for(e=0,e=0;e<i.length;e++)this[n].classList.remove(i[e]);return this},u.toggleClass=function(t,n){var e=0,r=this.length,i="toggle";if(!0===n&&(i="add")||!1===n&&(i="remove"),t)for(;e<r;e++)this[e].classList[i](t);return this},u.hasClass=function(t){var n=0,e=this.length;if(t)for(;n<e;n++)if(this[n].classList.contains(t))return!0;return!1},u.html=function(t){var n,e=arguments;return 1===e.length&&void 0!==t?this.empty().append(t):0===e.length&&(n=this[0])?n.innerHTML:this},u.append=function(t){var n,e=0,r=this.length;for(g(t)&&f.exec(t)?t=w(t):m(t)||(t=document.createTextNode(t)),t=t instanceof w?t:w(t),n=function(n,e){t.forEach(function(t){e?n.appendChild(t.cloneNode(!0)):n.appendChild(t)})};e<r;e++)n(this[e],e);return this},u.appendTo=function(t){return w(t).append(this),this},u.empty=function(){for(var t,n=0,e=this.length;n<e;n++)for(t=this[n];t.lastChild;)t.removeChild(t.lastChild);return this},u.remove=function(){var t,n=0,e=this.length;for(this.off();n<e;n++)t=this[n],delete t.jdata,t.parentNode&&t.parentNode.removeChild(t);return this},"object"==typeof t&&t&&"object"==typeof t.exports?t.exports=w:(void 0!==(r=function(){return w}.call(n,e,n,t))&&(t.exports=r),i.jBone=i.$=w)}(window)}).call(n,e(360)(t))},function(t,n,e){"use strict";t.exports=function(t){return t.toLowerCase()}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.BaseD3View=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(12),a=e(359),u=function(t){return t&&t.__esModule?t:{default:t}}(a),c=e(280),s=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(c),l=function(){function t(n,e){r(this,t);var i={aspectRatio:.6,mobileAspectRatio:.6,rescaleMarginsForMobile:!1,scrollTrigger:!1,marginRatios:{left:0,right:0,top:0,bottom:0}};this.config=(0,o.extend)(i,e),this.initialize(n)}return i(t,[{key:"initialize",value:function(t){if(this.wrapper=document.getElementById(t),this.svg=s.select(this.wrapper.querySelector("svg")),!u.default.svg||!u.default.inlinesvg)return this.svg.remove(),void(this.wrapper.innerHtml="<p class='graph-error italic text-3 fill-gray--lighter xs-text-center'>Sorry, your browser cannot display this interactive. Please view this page in a modern browser (IE9+, Chrome, Safari or Firefox)</p>");if(this.isMobile=window.matchMedia("(max-width: 640px)").matches,this.isRetina=window.devicePixelRatio&&window.devicePixelRatio>1.3,this.isiOSWebView=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),this.isAndroidWebView=/(Android).*buzzfeed\//i.test(navigator.userAgent),this.useScrollListener=this.config.scrollTrigger&&!this.isiOSWebView,this.isMobile&&void 0!==this.config.mobileAspectRatio&&(this.config.aspectRatio=this.config.mobileAspectRatio),!this.config.mobileMarginRatios&&(this.config.mobileMarginRatios=(0,o.extend)({},this.config.marginRatios),this.config.rescaleMarginsForMobile))for(var n in this.config.mobileMarginRatios)this.config.mobileMarginRatios[n]=this.config.mobileMarginRatios[n]*("bottom"==n?1.8:1.2);this.isMobile&&(this.config.marginRatios=(0,o.extend)({},this.config.mobileMarginRatios)),this.canvasWidth=this.wrapper.offsetWidth,0===this.canvasWidth&&(this.canvasWidth=693),this.canvasHeight=Math.floor(this.config.aspectRatio*this.canvasWidth),this.svg.attr("width",this.canvasWidth).attr("height",this.canvasHeight).attr("style","min-height:"+this.canvasHeight+"px!important"),this.offsets={left:this.config.marginRatios.left*this.canvasWidth,right:this.canvasWidth-this.config.marginRatios.right*this.canvasWidth,top:this.config.marginRatios.top*this.canvasWidth,bottom:this.canvasHeight-this.config.marginRatios.bottom*this.canvasWidth},this.innerWidth=this.offsets.right-this.offsets.left,this.innerHeight=this.offsets.bottom-this.offsets.top,window.addEventListener("resize",this.resize.bind(this))}},{key:"resize",value:function(t){if(this.wrapper.offsetWidth!=this.canvasWidth){var n=this.wrapper.offsetWidth/this.canvasWidth;this.svg.attr("style","min-height:"+n*this.canvasHeight+"px!important; transform: scale("+n+", "+n+")")}else this.svg.attr("style","min-height:"+this.canvasHeight+"px!important")}},{key:"start",value:function(){console.warn("start() should be overridden")}},{key:"reset",value:function(){console.warn("reset() should be overridden")}},{key:"getTranslate",value:function(t,n){return"translate("+t+" "+n+")"}},{key:"addScrollListener",value:function(t){this.useScrollListener?(this.scrollUpdateRequested=!1,window.addEventListener("scroll",this._onScroll.bind(this)),this.scrollCallback=t,this._onScroll()):t()}},{key:"_onScroll",value:function(t){this.scrollUpdateRequested||(this.scrollUpdateRequested=!0,requestAnimationFrame(this.onScroll.bind(this)))}},{key:"onScroll",value:function(){var t=this.svg.node().getBoundingClientRect();t.bottom>this.config.scrollTrigger&&t.top<=this.config.scrollTrigger?this.scrollCallback():this.scrollUpdateRequested=!1}}]),t}();n.BaseD3View=l},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(342);e.d(n,"axisTop",function(){return r.a}),e.d(n,"axisRight",function(){return r.b}),e.d(n,"axisBottom",function(){return r.c}),e.d(n,"axisLeft",function(){return r.d})},function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=Array.prototype.slice},function(t,n,e){"use strict";function r(t){return"translate("+t+",0)"}function i(t){return"translate(0,"+t+")"}function o(t){var n=t.bandwidth()/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}function a(){return!this.__axis}function u(t,n){function e(e){var r=null==s?n.ticks?n.ticks.apply(n,c):n.domain():s,i=null==l?n.tickFormat?n.tickFormat.apply(n,c):d.a:l,h=Math.max(f,0)+w,E=n.range(),k=E[0]+.5,S=E[E.length-1]+.5,P=(n.bandwidth?o:d.a)(n.copy()),j=e.selection?e.selection():e,A=j.selectAll(".domain").data([null]),O=j.selectAll(".tick").data(r,n).order(),T=O.exit(),C=O.enter().append("g").attr("class","tick"),N=O.select("line"),L=O.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),O=O.merge(C),N=N.merge(C.append("line").attr("stroke","#000").attr(u+"2",_*f).attr(x+"1",.5).attr(x+"2",.5)),L=L.merge(C.append("text").attr("fill","#000").attr(u,_*h).attr(x,.5).attr("dy",t===p?"0em":t===g?"0.71em":"0.32em")),e!==j&&(A=A.transition(e),O=O.transition(e),N=N.transition(e),L=L.transition(e),T=T.transition(e).attr("opacity",b).attr("transform",function(t){return isFinite(t=P(t))?M(t):this.getAttribute("transform")}),C.attr("opacity",b).attr("transform",function(t){var n=this.parentNode.__axis;return M(n&&isFinite(n=n(t))?n:P(t))})),T.remove(),A.attr("d",t===m||t==v?"M"+_*y+","+k+"H0.5V"+S+"H"+_*y:"M"+k+","+_*y+"V0.5H"+S+"V"+_*y),O.attr("opacity",1).attr("transform",function(t){return M(P(t))}),N.attr(u+"2",_*f),L.attr(u,_*h).text(i),j.filter(a).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===v?"start":t===m?"end":"middle"),j.each(function(){this.__axis=P})}var u,c=[],s=null,l=null,f=6,y=6,w=3,_=t===p||t===m?-1:1,x=t===m||t===v?(u="x","y"):(u="y","x"),M=t===p||t===g?r:i;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return c=h.a.call(arguments),e},e.tickArguments=function(t){return arguments.length?(c=null==t?[]:h.a.call(t),e):c.slice()},e.tickValues=function(t){return arguments.length?(s=null==t?null:h.a.call(t),e):s&&s.slice()},e.tickFormat=function(t){return arguments.length?(l=t,e):l},e.tickSize=function(t){return arguments.length?(f=y=+t,e):f},e.tickSizeInner=function(t){return arguments.length?(f=+t,e):f},e.tickSizeOuter=function(t){return arguments.length?(y=+t,e):y},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function c(t){return u(p,t)}function s(t){return u(v,t)}function l(t){return u(g,t)}function f(t){return u(m,t)}var h=e(341),d=e(343);n.a=c,n.b=s,n.c=l,n.d=f;var p=1,v=2,g=3,m=4,b=1e-6},function(t,n,e){"use strict";n.a=function(t){return t}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function o(){var t=new u.HandlebarsEnvironment;return d.extend(t,u),t.SafeString=s.default,t.Exception=f.default,t.Utils=d,t.escapeExpression=d.escapeExpression,t.VM=v,t.template=function(n){return v.template(n,t)},t}n.__esModule=!0;var a=e(319),u=i(a),c=e(358),s=r(c),l=e(100),f=r(l),h=e(28),d=i(h),p=e(357),v=i(p),g=e(356),m=r(g),b=o();b.create=o,m.default(b),b.default=b,n.default=b,t.exports=n.default},function(t,n,e){"use strict";function r(t){o.default(t)}n.__esModule=!0,n.registerDefaultDecorators=r;var i=e(346),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},function(t,n,e){"use strict";n.__esModule=!0;var r=e(28);n.default=function(t){t.registerDecorator("inline",function(t,n,e,i){var o=t;return n.partials||(n.partials={},o=function(i,o){var a=e.partials;e.partials=r.extend({},a,n.partials);var u=t(i,o);return e.partials=a,u}),n.partials[i.args[0]]=i.fn,o})},t.exports=n.default},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){a.default(t),c.default(t),l.default(t),h.default(t),p.default(t),g.default(t),b.default(t)}n.__esModule=!0,n.registerDefaultHelpers=i;var o=e(348),a=r(o),u=e(349),c=r(u),s=e(350),l=r(s),f=e(351),h=r(f),d=e(352),p=r(d),v=e(353),g=r(v),m=e(354),b=r(m)},function(t,n,e){"use strict";n.__esModule=!0;var r=e(28);n.default=function(t){t.registerHelper("blockHelperMissing",function(n,e){var i=e.inverse,o=e.fn;if(!0===n)return o(this);if(!1===n||null==n)return i(this);if(r.isArray(n))return n.length>0?(e.ids&&(e.ids=[e.name]),t.helpers.each(n,e)):i(this);if(e.data&&e.ids){var a=r.createFrame(e.data);a.contextPath=r.appendContextPath(e.data.contextPath,e.name),e={data:a}}return o(n,e)})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(28),i=e(100),o=function(t){return t&&t.__esModule?t:{default:t}}(i);n.default=function(t){t.registerHelper("each",function(t,n){function e(n,e,o){s&&(s.key=n,s.index=e,s.first=0===e,s.last=!!o,l&&(s.contextPath=l+n)),c+=i(t[n],{data:s,blockParams:r.blockParams([t[n],n],[l+n,null])})}if(!n)throw new o.default("Must pass iterator to #each");var i=n.fn,a=n.inverse,u=0,c="",s=void 0,l=void 0;if(n.data&&n.ids&&(l=r.appendContextPath(n.data.contextPath,n.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),n.data&&(s=r.createFrame(n.data)),t&&"object"==typeof t)if(r.isArray(t))for(var f=t.length;u<f;u++)u in t&&e(u,u,u===t.length-1);else{var h=void 0;for(var d in t)t.hasOwnProperty(d)&&(void 0!==h&&e(h,u-1),h=d,u++);void 0!==h&&e(h,u-1,!0)}return 0===u&&(c=a(this)),c})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(100),i=function(t){return t&&t.__esModule?t:{default:t}}(r);n.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(28);n.default=function(t){t.registerHelper("if",function(t,n){return r.isFunction(t)&&(t=t.call(this)),!n.hash.includeZero&&!t||r.isEmpty(t)?n.inverse(this):n.fn(this)}),t.registerHelper("unless",function(n,e){return t.helpers.if.call(this,n,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t){t.registerHelper("log",function(){for(var n=[void 0],e=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)n.push(arguments[r]);var i=1;null!=e.hash.level?i=e.hash.level:e.data&&null!=e.data.level&&(i=e.data.level),n[0]=i,t.log.apply(t,n)})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t){t.registerHelper("lookup",function(t,n){return t&&t[n]})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(28);n.default=function(t){t.registerHelper("with",function(t,n){r.isFunction(t)&&(t=t.call(this));var e=n.fn;if(r.isEmpty(t))return n.inverse(this);var i=n.data;return n.data&&n.ids&&(i=r.createFrame(n.data),i.contextPath=r.appendContextPath(n.data.contextPath,n.ids[0])),e(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},t.exports=n.default},function(t,n,e){"use strict";n.__esModule=!0;var r=e(28),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var n=r.indexOf(i.methodMap,t.toLowerCase());t=n>=0?n:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var n=i.methodMap[t];console[n]||(n="log");for(var e=arguments.length,r=Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];console[n].apply(console,r)}}};n.default=i,t.exports=n.default},function(t,n,e){"use strict";(function(e){n.__esModule=!0,n.default=function(t){var n=void 0!==e?e:window,r=n.Handlebars;t.noConflict=function(){return n.Handlebars===t&&(n.Handlebars=r),t}},t.exports=n.default}).call(n,e(114))},function(t,n,e){"use strict";function r(t){var n=t&&t[0]||1,e=v.COMPILER_REVISION;if(n!==e){if(n<e){var r=v.REVISION_CHANGES[e],i=v.REVISION_CHANGES[n];throw new p.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new p.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function i(t,n){function e(e,r,i){i.hash&&(r=h.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),e=n.VM.resolvePartial.call(this,e,r,i);var o=n.VM.invokePartial.call(this,e,r,i);if(null==o&&n.compile&&(i.partials[i.name]=n.compile(e,t.compilerOptions,n),o=i.partials[i.name](r,i)),null!=o){if(i.indent){for(var a=o.split("\n"),u=0,c=a.length;u<c&&(a[u]||u+1!==c);u++)a[u]=i.indent+a[u];o=a.join("\n")}return o}throw new p.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(n){function e(n){return""+t.main(i,n,i.helpers,i.partials,a,c,u)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;r._setup(o),!o.partial&&t.useData&&(a=s(n,a));var u=void 0,c=t.useBlockParams?[]:void 0;return t.useDepths&&(u=o.depths?n!=o.depths[0]?[n].concat(o.depths):o.depths:[n]),(e=l(t.main,e,i,o.depths||[],a,c))(n,o)}if(!n)throw new p.default("No environment passed to template");if(!t||!t.main)throw new p.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,n.VM.checkRevision(t.compiler);var i={strict:function(t,n){if(!(n in t))throw new p.default('"'+n+'" not defined in '+t);return t[n]},lookup:function(t,n){for(var e=t.length,r=0;r<e;r++)if(t[r]&&null!=t[r][n])return t[r][n]},lambda:function(t,n){return"function"==typeof t?t.call(n):t},escapeExpression:h.escapeExpression,invokePartial:e,fn:function(n){var e=t[n];return e.decorator=t[n+"_d"],e},programs:[],program:function(t,n,e,r,i){var a=this.programs[t],u=this.fn(t);return n||i||r||e?a=o(this,t,u,n,e,r,i):a||(a=this.programs[t]=o(this,t,u)),a},data:function(t,n){for(;t&&n--;)t=t._parent;return t},merge:function(t,n){var e=t||n;return t&&n&&t!==n&&(e=h.extend({},n,t)),e},noop:n.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(e){e.partial?(i.helpers=e.helpers,i.partials=e.partials,i.decorators=e.decorators):(i.helpers=i.merge(e.helpers,n.helpers),t.usePartial&&(i.partials=i.merge(e.partials,n.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(e.decorators,n.decorators)))},r._child=function(n,e,r,a){if(t.useBlockParams&&!r)throw new p.default("must pass block params");if(t.useDepths&&!a)throw new p.default("must pass parent depths");return o(i,n,t[n],e,0,r,a)},r}function o(t,n,e,r,i,o,a){function u(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=a;return a&&n!=a[0]&&(u=[n].concat(a)),e(t,n,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),u)}return u=l(e,u,t,a,r,o),u.program=n,u.depth=a?a.length:0,u.blockParams=i||0,u}function a(t,n,e){if(t)t.call||e.name||(e.name=t,t=e.partials[t]);else if("@partial-block"===e.name){for(var r=e.data;r["partial-block"]===c;)r=r._parent;t=r["partial-block"],r["partial-block"]=c}else t=e.partials[e.name];return t}function u(t,n,e){e.partial=!0,e.ids&&(e.data.contextPath=e.ids[0]||e.data.contextPath);var r=void 0;if(e.fn&&e.fn!==c&&(e.data=v.createFrame(e.data),r=e.data["partial-block"]=e.fn,r.partials&&(e.partials=h.extend({},e.partials,r.partials))),void 0===t&&r&&(t=r),void 0===t)throw new p.default("The partial "+e.name+" could not be found");if(t instanceof Function)return t(n,e)}function c(){return""}function s(t,n){return n&&"root"in n||(n=n?v.createFrame(n):{},n.root=t),n}function l(t,n,e,r,i,o){if(t.decorator){var a={};n=t.decorator(n,a,e,r&&r[0],i,o,r),h.extend(n,a)}return n}n.__esModule=!0,n.checkRevision=r,n.template=i,n.wrapProgram=o,n.resolvePartial=a,n.invokePartial=u,n.noop=c;var f=e(28),h=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(f),d=e(100),p=function(t){return t&&t.__esModule?t:{default:t}}(d),v=e(319)},function(t,n,e){"use strict";function r(t){this.string=t}n.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},n.default=r,t.exports=n.default},function(t,n){!function(n){var e="Modernizr"in n,r=n.Modernizr;!function(t,n,e){function r(t,n){return typeof t===n}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):l?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}var o=[],a={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,n){var e=this;setTimeout(function(){n(e[t])},0)},addTest:function(t,n,e){o.push({name:t,fn:n,options:e})},addAsyncTest:function(t){o.push({name:null,fn:t})}},u=function(){};u.prototype=a,u=new u;var c=[],s=n.documentElement,l="svg"===s.nodeName.toLowerCase();/*!
{
  "name": "SVG",
  "property": "svg",
  "caniuse": "svg",
  "tags": ["svg"],
  "authors": ["Erik Dahlstrom"],
  "polyfills": [
    "svgweb",
    "raphael",
    "amplesdk",
    "canvg",
    "svg-boilerplate",
    "sie",
    "dojogfx",
    "fabricjs"
  ]
}
!*/
u.addTest("svg",!!n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),/*!
{
  "name": "Inline SVG",
  "property": "inlinesvg",
  "caniuse": "svg-html5",
  "tags": ["svg"],
  "notes": [{
    "name": "Test page",
    "href": "https://paulirish.com/demo/inline-svg"
  }, {
    "name": "Test page and results",
    "href": "https://codepen.io/eltonmesquita/full/GgXbvo/"
  }],
  "polyfills": ["inline-svg-polyfill"],
  "knownBugs": ["False negative on some Chromia browsers."]
}
!*/
u.addTest("inlinesvg",function(){var t=i("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&t.firstChild&&t.firstChild.namespaceURI)}),function(){var t,n,e,i,a,s,l;for(var f in o)if(o.hasOwnProperty(f)){if(t=[],n=o[f],n.name&&(t.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(e=0;e<n.options.aliases.length;e++)t.push(n.options.aliases[e].toLowerCase());for(i=r(n.fn,"function")?n.fn():n.fn,a=0;a<t.length;a++)s=t[a],l=s.split("."),1===l.length?u[l[0]]=i:(!u[l[0]]||u[l[0]]instanceof Boolean||(u[l[0]]=new Boolean(u[l[0]])),u[l[0]][l[1]]=i),c.push((i?"":"no-")+l.join("-"))}}(),function(t){var n=s.className,e=u._config.classPrefix||"";if(l&&(n=n.baseVal),u._config.enableJSClass){var r=new RegExp("(^|\\s)"+e+"no-js(\\s|$)");n=n.replace(r,"$1"+e+"js$2")}u._config.enableClasses&&(n+=" "+e+t.join(" "+e),l?s.className.baseVal=n:s.className=n)}(c),delete a.addTest,delete a.addAsyncTest;for(var f=0;f<u._q.length;f++)u._q[f]();t.Modernizr=u}(n,document),t.exports=n.Modernizr,e?n.Modernizr=r:delete n.Modernizr}(window)},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,e){"use strict";function r(t){var n=new s,e=new l({collection:n,el:document.getElementById(t).querySelector(".results-ticker")});return window.BFUKD3Loader.load("/json/westminster-names.json",function(t){o=t,n.fetch()}),e}Object.defineProperty(n,"__esModule",{value:!0}),n.initTicker=r;var i=e(377);i.ajax=window.BFUKD3Loader.jLoad.bind(window.BFUKD3Loader);var o,a=e(383),u=n.Result=i.Model.extend({parse:function(t,n){return{id:t.id,holder:t.h,winner:t.w}}}),c=n.ResultView=i.View.extend({className:"results-ticker-result",initialize:function(){this.listenTo(this.model,"remove",this.removeSelf),this.listenTo(this.model,"change",this.render)},render:function(){var t=this.model.toJSON();return t.changedHands=t.winner==t.holder,t.name=o[t.id],this.$el.html(a(t)),this.$el},removeSelf:function(){this.$el.remove()}}),s=i.Collection.extend({model:u,url:function(){return window.BFUKElectionAlertsAPIHostname+"api/v1/result"},parse:function(t){return t.results}}),l=i.View.extend({events:{"click a":"clickItem"},initialize:function(){this.listenTo(this.collection,"add",this.render)},render:function(t,n,e){var r=n.indexOf(t),i=new c({model:t}),r=n.indexOf(t),o=i.render()[0],a=this.el.querySelectorAll(".results-ticker-result");a[r]?this.el.insertBefore(o,a[r]):this.el.insertBefore(o,null)},clickItem:function(t){t.preventDefault(),this.trigger("clickItem",t)},registerTickListener:function(t){if(0===this.collection.length)return void setTimeout(this.registerTickListener.bind(this,t),1e3);this.listenTo(this.collection,"sync",function(n,e){t(e)})},startTicking:function(t,n){setInterval(function(){this.collection.fetch()}.bind(this),t)}})},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.GeneralElectionFinderView=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(103),a=e(361),u=e(381),c=e(382);n.GeneralElectionFinderView=function(){function t(n){r(this,t),this.wrapper=document.getElementById(n),this.isMobile=window.matchMedia("(max-width: 640px)").matches,this.data={};var e=window.BFUKElectionAlertsAPIHostname+"api/v1/result";window.BFUKD3Loader.load(e,this.initialize.bind(this))}return i(t,[{key:"updateResults",value:function(t){var n={};t.results.forEach(function(t){return n[t.id]=t}),this.results=n}},{key:"initialize",value:function(t){this.updateResults(t);var n=this.wrapper.querySelector(".results-finder-button");n.addEventListener("click",this.onClick.bind(this)),n.disabled=!1,this.wrapper.querySelector("form").addEventListener("submit",function(t){t&&t.preventDefault(),this.onClick()}.bind(this))}},{key:"onClick",value:function(t){t&&t.preventDefault();var n=this.wrapper.querySelector(".results-finder-input").value.trim();if(n){var e=this.wrapper.querySelector(".results-finder-result");if(n.match(/^[A-Z]{1,2}[0-9]{1,2}[A-Z]?$/i))e.innerHTML='<div class="results-finder-noresult">Please enter a full postcode, not just the first bit</div>';else if(n.match(/^[A-Z]{1,2}[0-9]{1,2}[A-Z]?\s?[0-9][A-Z]{2}$/i)){var r=window.BFUKGeodataAPIHostname+"api/v1/postcode?s="+encodeURIComponent(n);(0,o.json)(r,this.onDataReceived.bind(this,n))}else e.innerHTML='<div class="results-finder-noresult">Please enter a valid postcode</div>'}}},{key:"onDataReceived",value:function(t,n,e){var r=this.wrapper.querySelector(".results-finder-result");if(1!==e.results.length)r.innerHTML=u({postcode:t});else{var i=e.results[0].constituency;if(i.id in this.results){var o=new a.Result(a.Result.prototype.parse(this.results[i.id])),s=new a.ResultView({model:o}).render();r.innerHTML=s[0].outerHTML}else r.innerHTML=c({name:i.display_name});var l=new Event("searchComplete");l.constituencyID=i.id,this.wrapper.dispatchEvent(l)}}}]),t}()},function(t,n,e){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.GeneralElectionMapView=void 0;var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),c=function t(n,e,r){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,e);if(void 0===i){var o=Object.getPrototypeOf(n);return null===o?void 0:t(o,e,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=e(113),l=(r(s),e(54)),f=r(l),h=e(12),d=e(278),p=e(141);n.GeneralElectionMapView=function(t){function n(t,e){i(this,n);var r={aspectRatio:1.4,selectedElection:11,datasets:{boundaryData:{url:function(){return"/geo/"+this.config.selectedBoundaries+".json"}},hexagonData:{url:function(){return"/geo/hexagons/"+this.config.selectedBoundaries+".json"}},electionAlerts:{url:window.BFUKElectionAlertsAPIHostname+"api/v1/result"}},projection:p.GBProjection,outerBoundaries:!1,innerBoundaries:!1,morphDuration:2e3,initialMode:"hexagons"},a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,(0,h.extend)(r,e)));return a.mode=a.config.initialMode,a.$rootElement.select(".change-mode-button svg").classed("hidden","hexagons"==a.mode),a.$rootElement.select(".change-mode-button img").classed("hidden","real"==a.mode),a}return a(n,t),u(n,[{key:"getBoundariesToUse",value:function(){return"hexagons"==this.mode?this.data.hexagonData:this.data.boundaryData}},{key:"populateMap",value:function(){var t=function(t,n){return t.properties.id>n.properties.id?1:-1};this.data.boundaryData.objects.units.geometries.sort(t),this.data.hexagonData.objects.units.geometries.sort(t),this.extractUnits(this.data.boundaryData).forEach(function(t,n){var e;e="Polygon"==t.geometry.type?t.geometry.coordinates[0].length:t.geometry.coordinates.map(function(t){return t[0].length}).reduce(function(t,n){return t+n},0),this[n].properties.cornerCount=e}.bind(this.data.boundaryData.objects.units.geometries));var n=this.extractUnits(this.getBoundariesToUse());this.calculateCounts(n);var e=this.getBoundariesToUse();this.drawMap(e,this.colorizeMap),this.map.selectAll(".unit").attr("stroke",this.config.defaultInnerStroke),this.map.attr("data-boundaries",this.config.selectedBoundaries),this.$rootElement.select(".change-mode-button").on("click",this.switchMap.bind(this)).attr("disabled",null)}},{key:"updateResults",value:function(t){this.data.electionAlerts=t;var n=this.extractUnits(this.getBoundariesToUse());this.calculateCounts(n),this.colorizeMap()}},{key:"extractUnits",value:function(t){var e=c(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"extractUnits",this).call(this,t),r=function(t){return"hexagons"==this.mode?this.data.boundaryData.objects.units.geometries[t].properties.cornerCount:7}.bind(this);return e.forEach(function(t,n){var e=r(n);if(e&&"Polygon"==t.geometry.type)for(;t.geometry.coordinates[0].length<e;){for(var i,o=[];i=t.geometry.coordinates[0].shift();){var a=t.geometry.coordinates[0].length+o.length+1;if(o.length>0&&a<e){var u=o.length-1;o.push([(o[u][0]+i[0])/2,(o[u][1]+i[1])/2])}o.push(i)}t.geometry.coordinates[0]=o}}.bind(this)),e}},{key:"calculateCounts",value:function(t){var n={};this.data.electionAlerts.results.forEach(function(t){return n[t.id]=t}),t.forEach(function(t){t.properties.results={},t.properties.totalCounts={},t.properties.winner=null,t.properties.id in n&&(t.properties.winner=n[t.properties.id].w)})}},{key:"switchMap",value:function(){var t=this.map.select(".unit-selected");if(t.size()>0){var n=t.attr("data-id");this.deselectUnits(),setTimeout(function(){this.selectUnit(n)}.bind(this),this.config.morphDuration)}"hexagons"==this.mode?this.mode="real":this.mode="hexagons";var e=this.extractUnits(this.getBoundariesToUse());this.map.selectAll(".unit").data(e).transition().duration(this.config.morphDuration).attr("d",this.path);var r=this.$rootElement.select(".change-mode-button");r.attr("disabled",!0),r.select("svg").classed("hidden","hexagons"==this.mode),r.select("img").classed("hidden","real"==this.mode),setTimeout(function(){r.attr("disabled",null)},this.config.morphDuration)}},{key:"updateBoundaries",value:function(){var t=this.zoom?Math.sqrt(f.zoomTransform(this.svg.node()).k):1;this.map.selectAll(".unit").attr("stroke-width",this.config.innerBoundaryWidth/t),this.map.selectAll(".unit-selected").attr("stroke-width",this.config.selectedBoundaryWidth/t)}},{key:"zoomOnUnit",value:function(t){this.deselectUnits();var n=this.extractUnits(this.getBoundariesToUse()),e=n.filter(function(n){return n.properties.id==t})[0],r=this.path.bounds(e),i=r[1][0]-r[0][0],o=r[1][1]-r[0][1],a=(r[0][0]+r[1][0])/2,u=(r[0][1]+r[1][1])/2,c=.15/Math.max(i/this.width,o/this.height);c=Math.min(c,this.zoom.scaleExtent()[1]),c=Math.max(c,f.zoomTransform(this.svg.node()).k);var s=this.width/2-c*a,l=this.height/2-c*u;this.svg.transition(1e3).call(this.zoom.transform,f.zoomIdentity.translate(s,l).scale(c)),this.selectUnit(t)}}]),n}(d.ElectionMapView)},,,function(t,n){},,,,function(t,n,e){"use strict";t.exports=function(t){return t.toUpperCase()}},,,,,function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(){var t=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300",n.media="all",t.appendChild(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.GeneralElectionGraphic=void 0;var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();n.fontFallback=i,e(366);var a=e(12),u=(e(55),e(363)),c=e(336),s=e(361),l=e(362);n.GeneralElectionGraphic=function(){function t(n){r(this,t),"full"!==n.mode&&(n.mode="initial"),this.options=n,this.prepare(),document.addEventListener("DOMContentLoaded",this.init.bind(this))}return o(t,[{key:"prepare",value:function(){["wrapper","graph","map","ticker","finder"].forEach(function(t){var n=document.getElementById(this.options[t]);n&&(0,a.addClass)(n,this.options.mode),"wrapper"==t&&(0,a.addClass)(n.parentNode,this.options.mode)}.bind(this)),(0,a.isMobile)()&&(this.selectPane("graph"),this.selectPane("ticker"),document.querySelectorAll(".toggle-header").forEach(function(t){t.addEventListener("click",function(t){this.selectPane(t.target.dataset.pane)}.bind(this))}.bind(this)))}},{key:"init",value:function(){"initial"==this.options.mode&&(this.options.graphOptions.aspectRatio=.6);var t,n,e=new c.GeneralElectionGraphView(this.options.graph,this.options.graphOptions);"full"==this.options.mode&&(t=new u.GeneralElectionMapView(document.getElementById(this.options.map),this.options.mapOptions));var r=(0,s.initTicker)(this.options.ticker);"full"==this.options.mode&&(n=new l.GeneralElectionFinderView(this.options.finder)),t&&r.registerTickListener(t.updateResults.bind(t)),r.registerTickListener(e.updateResults.bind(e)),n&&(r.registerTickListener(n.updateResults.bind(n)),n.wrapper.addEventListener("searchComplete",function(n){n&&n.constituencyID&&(this.selectPane("map"),t.zoomOnUnit(n.constituencyID))}.bind(this)));var i=(0,a.isMobile)()?6e4:15e3;r.startTicking(i),r.on("clickItem",function(n){this.selectPane("map"),t.zoomOnUnit(n.target.dataset.id)}.bind(this))}},{key:"selectPane",value:function(t){if((0,a.isMobile)()){var n,e=["graph","map"],r=["ticker","finder"];e.indexOf(t)>-1?n=e:r.indexOf(t)>-1&&(n=r),n.forEach(function(n){var e=this.options[n];n==t?(0,a.removeClass)(document.getElementById(e),"hidden"):(0,a.addClass)(document.getElementById(e),"hidden")}.bind(this));var i=n.join("-")+"-toggle-wrapper";document.getElementById(i).querySelectorAll(".toggle-header").forEach(function(n){n.dataset.pane==t?(0,a.addClass)(n,"selected"):(0,a.removeClass)(n,"selected")})}}}]),t}()},,function(t,n,e){(function(r){var i,o;!function(a){var u="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;i=[e(391),e(337),n],void 0!==(o=function(t,n,e){u.Backbone=a(u,e,t,n)}.apply(n,i))&&(t.exports=o)}(function(t,n,e,r){var i=t.Backbone,o=Array.prototype.slice;n.VERSION="1.3.3",n.$=r,n.noConflict=function(){return t.Backbone=i,this},n.emulateHTTP=!1,n.emulateJSON=!1;var a=function(t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,i){return e[n](this[r],c(t,this),i)};case 4:return function(t,i,o){return e[n](this[r],c(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}},u=function(t,n,r){e.each(n,function(n,i){e[i]&&(t.prototype[i]=a(n,i,r))})},c=function(t,n){return e.isFunction(t)?t:e.isObject(t)&&!n._isModel(t)?s(t):e.isString(t)?function(n){return n.get(t)}:t},s=function(t){var n=e.matches(t);return function(t){return n(t.attributes)}},l=n.Events={},f=/\s+/,h=function(t,n,r,i,o){var a,u=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=e.keys(r);u<a.length;u++)n=h(t,n,a[u],r[a[u]],o)}else if(r&&f.test(r))for(a=r.split(f);u<a.length;u++)n=t(n,a[u],i,o);else n=t(n,r,i,o);return n};l.on=function(t,n,e){return d(this,t,n,e)};var d=function(t,n,e,r,i){if(t._events=h(p,t._events||{},n,e,{context:r,ctx:t,listening:i}),i){(t._listeners||(t._listeners={}))[i.id]=i}return t};l.listenTo=function(t,n,r){if(!t)return this;var i=t._listenId||(t._listenId=e.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var u=this._listenId||(this._listenId=e.uniqueId("l"));a=o[i]={obj:t,objId:i,id:u,listeningTo:o,count:0}}return d(t,n,r,this,a),this};var p=function(t,n,e,r){if(e){var i=t[n]||(t[n]=[]),o=r.context,a=r.ctx,u=r.listening;u&&u.count++,i.push({callback:e,context:o,ctx:o||a,listening:u})}return t};l.off=function(t,n,e){return this._events?(this._events=h(v,this._events,t,n,{context:e,listeners:this._listeners}),this):this},l.stopListening=function(t,n,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:e.keys(i),a=0;a<o.length;a++){var u=i[o[a]];if(!u)break;u.obj.off(n,r,this)}return this};var v=function(t,n,r,i){if(t){var o,a=0,u=i.context,c=i.listeners;if(n||r||u){for(var s=n?[n]:e.keys(t);a<s.length;a++){n=s[a];var l=t[n];if(!l)break;for(var f=[],h=0;h<l.length;h++){var d=l[h];r&&r!==d.callback&&r!==d.callback._callback||u&&u!==d.context?f.push(d):(o=d.listening)&&0==--o.count&&(delete c[o.id],delete o.listeningTo[o.objId])}f.length?t[n]=f:delete t[n]}return t}for(var p=e.keys(c);a<p.length;a++)o=c[p[a]],delete c[o.id],delete o.listeningTo[o.objId]}};l.once=function(t,n,r){var i=h(g,{},t,n,e.bind(this.off,this));return"string"==typeof t&&null==r&&(n=void 0),this.on(i,n,r)},l.listenToOnce=function(t,n,r){var i=h(g,{},n,r,e.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,n,r,i){if(r){var o=t[n]=e.once(function(){i(n,o),r.apply(this,arguments)});o._callback=r}return t};l.trigger=function(t){if(!this._events)return this;for(var n=Math.max(0,arguments.length-1),e=Array(n),r=0;r<n;r++)e[r]=arguments[r+1];return h(m,this._events,t,void 0,e),this};var m=function(t,n,e,r){if(t){var i=t[n],o=t.all;i&&o&&(o=o.slice()),i&&b(i,r),o&&b(o,[n].concat(r))}return t},b=function(t,n){var e,r=-1,i=t.length,o=n[0],a=n[1],u=n[2];switch(n.length){case 0:for(;++r<i;)(e=t[r]).callback.call(e.ctx);return;case 1:for(;++r<i;)(e=t[r]).callback.call(e.ctx,o);return;case 2:for(;++r<i;)(e=t[r]).callback.call(e.ctx,o,a);return;case 3:for(;++r<i;)(e=t[r]).callback.call(e.ctx,o,a,u);return;default:for(;++r<i;)(e=t[r]).callback.apply(e.ctx,n);return}};l.bind=l.on,l.unbind=l.off,e.extend(n,l);var y=n.Model=function(t,n){var r=t||{};n||(n={}),this.cid=e.uniqueId(this.cidPrefix),this.attributes={},n.collection&&(this.collection=n.collection),n.parse&&(r=this.parse(r,n)||{});var i=e.result(this,"defaults");r=e.defaults(e.extend({},i,r),i),this.set(r,n),this.changed={},this.initialize.apply(this,arguments)};e.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return e.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return e.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!e.iteratee(t,this)(this.attributes)},set:function(t,n,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=n):(i={})[t]=n,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,u=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=e.clone(this.attributes),this.changed={});var s=this.attributes,l=this.changed,f=this._previousAttributes;for(var h in i)n=i[h],e.isEqual(s[h],n)||u.push(h),e.isEqual(f[h],n)?delete l[h]:l[h]=n,o?delete s[h]:s[h]=n;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){u.length&&(this._pending=r);for(var d=0;d<u.length;d++)this.trigger("change:"+u[d],this,s[u[d]],r)}if(c)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,n){return this.set(t,void 0,e.extend({},n,{unset:!0}))},clear:function(t){var n={};for(var r in this.attributes)n[r]=void 0;return this.set(n,e.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!e.isEmpty(this.changed):e.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&e.clone(this.changed);var n=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];e.isEqual(n[i],o)||(r[i]=o)}return!!e.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return e.clone(this._previousAttributes)},fetch:function(t){t=e.extend({parse:!0},t);var n=this,r=t.success;return t.success=function(e){var i=t.parse?n.parse(e,t):e;if(!n.set(i,t))return!1;r&&r.call(t.context,n,e,t),n.trigger("sync",n,e,t)},T(this,t),this.sync("read",this,t)},save:function(t,n,r){var i;null==t||"object"==typeof t?(i=t,r=n):(i={})[t]=n,r=e.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,u=r.success,c=this.attributes;r.success=function(t){a.attributes=c;var n=r.parse?a.parse(t,r):t;if(o&&(n=e.extend({},i,n)),n&&!a.set(n,r))return!1;u&&u.call(r.context,a,t,r),a.trigger("sync",a,t,r)},T(this,r),i&&o&&(this.attributes=e.extend({},c,i));var s=this.isNew()?"create":r.patch?"patch":"update";"patch"!==s||r.attrs||(r.attrs=i);var l=this.sync(s,this,r);return this.attributes=c,l},destroy:function(t){t=t?e.clone(t):{};var n=this,r=t.success,i=t.wait,o=function(){n.stopListening(),n.trigger("destroy",n,n.collection,t)};t.success=function(e){i&&o(),r&&r.call(t.context,n,e,t),n.isNew()||n.trigger("sync",n,e,t)};var a=!1;return this.isNew()?e.defer(t.success):(T(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=e.result(this,"urlRoot")||e.result(this.collection,"url")||O();if(this.isNew())return t;var n=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(n)},parse:function(t,n){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},e.extend({},t,{validate:!0}))},_validate:function(t,n){if(!n.validate||!this.validate)return!0;t=e.extend({},this.attributes,t);var r=this.validationError=this.validate(t,n)||null;return!r||(this.trigger("invalid",this,r,e.extend(n,{validationError:r})),!1)}}),u(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=n.Collection=function(t,n){n||(n={}),n.model&&(this.model=n.model),void 0!==n.comparator&&(this.comparator=n.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,e.extend({silent:!0},n))},_={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},M=function(t,n,e){e=Math.min(Math.max(e,0),t.length);var r,i=Array(t.length-e),o=n.length;for(r=0;r<i.length;r++)i[r]=t[r+e];for(r=0;r<o;r++)t[r+e]=n[r];for(r=0;r<i.length;r++)t[r+o+e]=i[r]};e.extend(w.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(n){return n.toJSON(t)})},sync:function(){return n.sync.apply(this,arguments)},add:function(t,n){return this.set(t,e.extend({merge:!1},n,x))},remove:function(t,n){n=e.extend({},n);var r=!e.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,n);return!n.silent&&i.length&&(n.changes={added:[],merged:[],removed:i},this.trigger("update",this,n)),r?i[0]:i},set:function(t,n){if(null!=t){n=e.extend({},_,n),n.parse&&!this._isModel(t)&&(t=this.parse(t,n)||[]);var r=!e.isArray(t);t=r?[t]:t.slice();var i=n.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,u=[],c=[],s=[],l=[],f={},h=n.add,d=n.merge,p=n.remove,v=!1,g=this.comparator&&null==i&&!1!==n.sort,m=e.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var b=this.get(o);if(b){if(d&&o!==b){var y=this._isModel(o)?o.attributes:o;n.parse&&(y=b.parse(y,n)),b.set(y,n),s.push(b),g&&!v&&(v=b.hasChanged(m))}f[b.cid]||(f[b.cid]=!0,u.push(b)),t[a]=b}else h&&(o=t[a]=this._prepareModel(o,n))&&(c.push(o),this._addReference(o,n),f[o.cid]=!0,u.push(o))}if(p){for(a=0;a<this.length;a++)o=this.models[a],f[o.cid]||l.push(o);l.length&&this._removeModels(l,n)}var w=!1,x=!g&&h&&p;if(u.length&&x?(w=this.length!==u.length||e.some(this.models,function(t,n){return t!==u[n]}),this.models.length=0,M(this.models,u,0),this.length=this.models.length):c.length&&(g&&(v=!0),M(this.models,c,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!n.silent){for(a=0;a<c.length;a++)null!=i&&(n.index=i+a),o=c[a],o.trigger("add",o,this,n);(v||w)&&this.trigger("sort",this,n),(c.length||l.length||s.length)&&(n.changes={added:c,removed:l,merged:s},this.trigger("update",this,n))}return r?t[0]:t}},reset:function(t,n){n=n?e.clone(n):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],n);return n.previousModels=this.models,this._reset(),t=this.add(t,e.extend({silent:!0},n)),n.silent||this.trigger("reset",this,n),t},push:function(t,n){return this.add(t,e.extend({at:this.length},n))},pop:function(t){var n=this.at(this.length-1);return this.remove(n,t)},unshift:function(t,n){return this.add(t,e.extend({at:0},n))},shift:function(t){var n=this.at(0);return this.remove(n,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,n){return this[n?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var n=this.comparator;if(!n)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=n.length;return e.isFunction(n)&&(n=e.bind(n,this)),1===r||e.isString(n)?this.models=this.sortBy(n):this.models.sort(n),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=e.extend({parse:!0},t);var n=t.success,r=this;return t.success=function(e){var i=t.reset?"reset":"set";r[i](e,t),n&&n.call(t.context,r,e,t),r.trigger("sync",r,e,t)},T(this,t),this.sync("read",this,t)},create:function(t,n){n=n?e.clone(n):{};var r=n.wait;if(!(t=this._prepareModel(t,n)))return!1;r||this.add(t,n);var i=this,o=n.success;return n.success=function(t,n,e){r&&i.add(t,e),o&&o.call(e.context,t,n,e)},t.save(null,n),t},parse:function(t,n){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,n){if(this._isModel(t))return t.collection||(t.collection=this),t;n=n?e.clone(n):{},n.collection=this;var r=new this.model(t,n);return r.validationError?(this.trigger("invalid",this,r.validationError,n),!1):r},_removeModels:function(t,n){for(var e=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],n.silent||(n.index=o,i.trigger("remove",i,this,n)),e.push(i),this._removeReference(i,n)}}return e},_isModel:function(t){return t instanceof y},_addReference:function(t,n){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,n){delete this._byId[t.cid];var e=this.modelId(t.attributes);null!=e&&delete this._byId[e],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,n,e,r){if(n){if(("add"===t||"remove"===t)&&e!==this)return;if("destroy"===t&&this.remove(n,r),"change"===t){var i=this.modelId(n.previousAttributes()),o=this.modelId(n.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=n))}}this.trigger.apply(this,arguments)}}),u(w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var E=n.View=function(t){this.cid=e.uniqueId("view"),e.extend(this,e.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments)},k=["model","collection","el","id","attributes","className","tagName","events"];e.extend(E.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof n.$?t:n.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=e.result(this,"events")),!t)return this;this.undelegateEvents();for(var n in t){var r=t[n];if(e.isFunction(r)||(r=this[r]),r){var i=n.match(/^(\S+)\s*(.*)$/);this.delegate(i[1],i[2],e.bind(r,this))}}return this},delegate:function(t,n,e){return this.$el.on(t+".delegateEvents"+this.cid,n,e),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,n,e){return this.$el.off(t+".delegateEvents"+this.cid,n,e),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(e.result(this,"el"));else{var t=e.extend({},e.result(this,"attributes"));this.id&&(t.id=e.result(this,"id")),this.className&&(t.class=e.result(this,"className")),this.setElement(this._createElement(e.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),n.sync=function(t,r,i){var o=S[t];e.defaults(i||(i={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=e.result(r,"url")||O()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var u=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),u)return u.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var c=i.error;i.error=function(t,n,e){i.textStatus=n,i.errorThrown=e,c&&c.call(i.context,t,n,e)};var s=i.xhr=n.ajax(e.extend(a,i));return r.trigger("request",r,s,i),s};var S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var P=n.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};e.extend(P.prototype,l,{initialize:function(){},route:function(t,r,i){e.isRegExp(t)||(t=this._routeToRegExp(t)),e.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return n.history.route(t,function(e){var a=o._extractParameters(t,e);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),n.history.trigger("route",o,r,a))}),this},execute:function(t,n,e){t&&t.apply(this,n)},navigate:function(t,e){return n.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=e.result(this,"routes");for(var t,n=e.keys(this.routes);null!=(t=n.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(/[\-{}\[\]+?.,\\\^$|#\s]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function(t,n){return n?t:"([^/?]+)"}).replace(/\*\w+/g,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,n){var r=t.exec(n).slice(1);return e.map(r,function(t,n){return n===r.length-1?t||null:t?decodeURIComponent(t):null})}});var j=n.History=function(){this.handlers=[],this.checkUrl=e.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)};j.started=!1,e.extend(j.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var n=(t||this).location.href.match(/#(.*)$/);return n?n[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(/^[#\/]|\s+$/g,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=e.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(/^\/+|\/+$/g,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var n=this.root.slice(0,-1)||"/";return this.location.replace(n+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,n){return attachEvent("on"+t,n)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,n){return detachEvent("on"+t,n)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,n){this.handlers.unshift({route:t,callback:n})},checkUrl:function(t){var n=this.getFragment();if(n===this.fragment&&this.iframe&&(n=this.getHash(this.iframe.contentWindow)),n===this.fragment)return!1;this.iframe&&this.navigate(n),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),e.some(this.handlers,function(n){if(n.route.test(t))return n.callback(t),!0}))},navigate:function(t,n){if(!j.started)return!1;n&&!0!==n||(n={trigger:!!n}),t=this.getFragment(t||"");var e=this.root;""!==t&&"?"!==t.charAt(0)||(e=e.slice(0,-1)||"/");var r=e+t;if(t=this.decodeFragment(t.replace(/#.*$/,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[n.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,n.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;n.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,n.replace)}}return n.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,n,e){if(e){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+n)}else t.hash="#"+n}}),n.history=new j;var A=function(t,n){var r,i=this;return r=t&&e.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},e.extend(r,i,n),r.prototype=e.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};y.extend=w.extend=P.extend=E.extend=j.extend=A;var O=function(){throw new Error('A "url" property or function must be specified')},T=function(t,n){var e=n.error;n.error=function(r){e&&e.call(n.context,t,r,n),t.trigger("error",t,r,n)}};return n})}).call(n,e(114))},,,,function(t,n,e){function r(t){return t&&(t.__esModule?t.default:t)}var i=e(320);t.exports=(i.default||i).template({compiler:[7,">= 4.0.0"],main:function(t,n,i,o,a){return'<div class="results-finder-noresult">\n    Sorry, we couldn\'t find any results for <b>'+t.escapeExpression(r(e(370)).call(null!=n?n:{},null!=n?n.postcode:n,{name:"toUpperCase",hash:{},data:a}))+"</b>\n</div>\n\x3c!-- Hash: fC0ndLySZPXQSgaUrOJAtA== --\x3e"},useData:!0})},function(t,n,e){var r=e(320);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,n,e,r,i){var o;return'<div class="results-ticker-result">\n    <div class="results-ticker-result-header">'+t.escapeExpression((o=null!=(o=e.name||(null!=n?n.name:n))?o:e.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"name",hash:{},data:i}):o))+'</div>\n\n    <div class="results-ticker-result-body">\n        No result yet\n    </div>\n</div>\n\x3c!-- Hash: fC0ndLySZPXQSgaUrOJAtA== --\x3e'},useData:!0})},function(t,n,e){function r(t){return t&&(t.__esModule?t.default:t)}var i=e(320);t.exports=(i.default||i).template({1:function(t,n,i,o,a){var u=t.escapeExpression;return'\n    <span class="result-party result-party-'+u(r(e(338)).call(null!=n?n:{},null!=n?n.winner:n,{name:"toLowerCase",hash:{},data:a}))+'">'+u(t.lambda(null!=n?n.winner:n,n))+"</span> hold\n\n"},3:function(t,n,i,o,a){var u=null!=n?n:{},c=t.escapeExpression,s=t.lambda;return'\n    <span class="result-party result-party-'+c(r(e(338)).call(u,null!=n?n.winner:n,{name:"toLowerCase",hash:{},data:a}))+'">'+c(s(null!=n?n.winner:n,n))+'</span>\n    gain from\n    <span class="result-party result-party-'+c(r(e(338)).call(u,null!=n?n.holder:n,{name:"toLowerCase",hash:{},data:a}))+'">'+c(s(null!=n?n.holder:n,n))+"</span>\n\n"},compiler:[7,">= 4.0.0"],main:function(t,n,e,r,i){var o,a=t.lambda,u=t.escapeExpression;return'\n<div class="results-ticker-result-header">\n    <a href="#" data-id="'+u(a(null!=n?n.id:n,n))+'">\n        '+u(a(null!=n?n.name:n,n))+'\n    </a>\n</div>\n\n<div class="results-ticker-result-body">\n\n'+(null!=(o=e.if.call(null!=n?n:{},null!=n?n.changedHands:n,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?o:"")+"\n</div>\n\x3c!-- Hash: fC0ndLySZPXQSgaUrOJAtA== --\x3e"},useData:!0})},,,,,,,,function(t,n,e){var r,i;(function(){function e(t){function n(n,e,r,i,o,a){for(;o>=0&&o<a;o+=t){var u=i?i[o]:o;r=e(r,n[u],u,n)}return r}return function(e,r,i,o){r=M(r,o,4);var a=!O(e)&&x.keys(e),u=(a||e).length,c=t>0?0:u-1;return arguments.length<3&&(i=e[a?a[c]:c],c+=t),n(e,r,i,a,c,u)}}function o(t){return function(n,e,r){e=E(e,r);for(var i=A(n),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(e(n[o],o,n))return o;return-1}}function a(t,n,e){return function(r,i,o){var a=0,u=A(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=n(p.call(r,a,u),x.isNaN),o>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}function u(t,n){var e=F.length,r=t.constructor,i=x.isFunction(r)&&r.prototype||f,o="constructor";for(x.has(t,o)&&!x.contains(n,o)&&n.push(o);e--;)(o=F[e])in t&&t[o]!==i[o]&&!x.contains(n,o)&&n.push(o)}var c=this,s=c._,l=Array.prototype,f=Object.prototype,h=Function.prototype,d=l.push,p=l.slice,v=f.toString,g=f.hasOwnProperty,m=Array.isArray,b=Object.keys,y=h.bind,w=Object.create,_=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};void 0!==t&&t.exports&&(n=t.exports=x),n._=x,x.VERSION="1.8.3";var M=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}},E=function(t,n,e){return null==t?x.identity:x.isFunction(t)?M(t,n,e):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,n){return E(t,n,1/0)};var k=function(t,n){return function(e){var r=arguments.length;if(r<2||null==e)return e;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,c=0;c<u;c++){var s=a[c];n&&void 0!==e[s]||(e[s]=o[s])}return e}},S=function(t){if(!x.isObject(t))return{};if(w)return w(t);_.prototype=t;var n=new _;return _.prototype=null,n},P=function(t){return function(n){return null==n?void 0:n[t]}},j=Math.pow(2,53)-1,A=P("length"),O=function(t){var n=A(t);return"number"==typeof n&&n>=0&&n<=j};x.each=x.forEach=function(t,n,e){n=M(n,e);var r,i;if(O(t))for(r=0,i=t.length;r<i;r++)n(t[r],r,t);else{var o=x.keys(t);for(r=0,i=o.length;r<i;r++)n(t[o[r]],o[r],t)}return t},x.map=x.collect=function(t,n,e){n=E(n,e);for(var r=!O(t)&&x.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o},x.reduce=x.foldl=x.inject=e(1),x.reduceRight=x.foldr=e(-1),x.find=x.detect=function(t,n,e){var r;if(void 0!==(r=O(t)?x.findIndex(t,n,e):x.findKey(t,n,e))&&-1!==r)return t[r]},x.filter=x.select=function(t,n,e){var r=[];return n=E(n,e),x.each(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r},x.reject=function(t,n,e){return x.filter(t,x.negate(E(n)),e)},x.every=x.all=function(t,n,e){n=E(n,e);for(var r=!O(t)&&x.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0},x.some=x.any=function(t,n,e){n=E(n,e);for(var r=!O(t)&&x.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1},x.contains=x.includes=x.include=function(t,n,e,r){return O(t)||(t=x.values(t)),("number"!=typeof e||r)&&(e=0),x.indexOf(t,n,e)>=0},x.invoke=function(t,n){var e=p.call(arguments,2),r=x.isFunction(n);return x.map(t,function(t){var i=r?n:t[n];return null==i?i:i.apply(t,e)})},x.pluck=function(t,n){return x.map(t,x.property(n))},x.where=function(t,n){return x.filter(t,x.matcher(n))},x.findWhere=function(t,n){return x.find(t,x.matcher(n))},x.max=function(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n&&null!=t){t=O(t)?t:x.values(t);for(var u=0,c=t.length;u<c;u++)(r=t[u])>o&&(o=r)}else n=E(n,e),x.each(t,function(t,e,r){((i=n(t,e,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},x.min=function(t,n,e){var r,i,o=1/0,a=1/0;if(null==n&&null!=t){t=O(t)?t:x.values(t);for(var u=0,c=t.length;u<c;u++)(r=t[u])<o&&(o=r)}else n=E(n,e),x.each(t,function(t,e,r){((i=n(t,e,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},x.shuffle=function(t){for(var n,e=O(t)?t:x.values(t),r=e.length,i=Array(r),o=0;o<r;o++)n=x.random(0,o),n!==o&&(i[o]=i[n]),i[n]=e[o];return i},x.sample=function(t,n,e){return null==n||e?(O(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,n))},x.sortBy=function(t,n,e){return n=E(n,e),x.pluck(x.map(t,function(t,e,r){return{value:t,index:e,criteria:n(t,e,r)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index}),"value")};var T=function(t){return function(n,e,r){var i={};return e=E(e,r),x.each(n,function(r,o){var a=e(r,o,n);t(i,r,a)}),i}};x.groupBy=T(function(t,n,e){x.has(t,e)?t[e].push(n):t[e]=[n]}),x.indexBy=T(function(t,n,e){t[e]=n}),x.countBy=T(function(t,n,e){x.has(t,e)?t[e]++:t[e]=1}),x.toArray=function(t){return t?x.isArray(t)?p.call(t):O(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:O(t)?t.length:x.keys(t).length},x.partition=function(t,n,e){n=E(n,e);var r=[],i=[];return x.each(t,function(t,e,o){(n(t,e,o)?r:i).push(t)}),[r,i]},x.first=x.head=x.take=function(t,n,e){if(null!=t)return null==n||e?t[0]:x.initial(t,t.length-n)},x.initial=function(t,n,e){return p.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},x.last=function(t,n,e){if(null!=t)return null==n||e?t[t.length-1]:x.rest(t,Math.max(0,t.length-n))},x.rest=x.tail=x.drop=function(t,n,e){return p.call(t,null==n||e?1:n)},x.compact=function(t){return x.filter(t,x.identity)};var C=function(t,n,e,r){for(var i=[],o=0,a=r||0,u=A(t);a<u;a++){var c=t[a];if(O(c)&&(x.isArray(c)||x.isArguments(c))){n||(c=C(c,n,e));var s=0,l=c.length;for(i.length+=l;s<l;)i[o++]=c[s++]}else e||(i[o++]=c)}return i};x.flatten=function(t,n){return C(t,n,!1)},x.without=function(t){return x.difference(t,p.call(arguments,1))},x.uniq=x.unique=function(t,n,e,r){x.isBoolean(n)||(r=e,e=n,n=!1),null!=e&&(e=E(e,r));for(var i=[],o=[],a=0,u=A(t);a<u;a++){var c=t[a],s=e?e(c,a,t):c;n?(a&&o===s||i.push(c),o=s):e?x.contains(o,s)||(o.push(s),i.push(c)):x.contains(i,c)||i.push(c)}return i},x.union=function(){return x.uniq(C(arguments,!0,!0))},x.intersection=function(t){for(var n=[],e=arguments.length,r=0,i=A(t);r<i;r++){var o=t[r];if(!x.contains(n,o)){for(var a=1;a<e&&x.contains(arguments[a],o);a++);a===e&&n.push(o)}}return n},x.difference=function(t){var n=C(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(n,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var n=t&&x.max(t,A).length||0,e=Array(n),r=0;r<n;r++)e[r]=x.pluck(t,r);return e},x.object=function(t,n){for(var e={},r=0,i=A(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(t,n,e,r){e=E(e,r,1);for(var i=e(n),o=0,a=A(t);o<a;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(t,n,e){null==n&&(n=t||0,t=0),e=e||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i};var N=function(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=S(t.prototype),a=t.apply(o,i);return x.isObject(a)?a:o};x.bind=function(t,n){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var e=p.call(arguments,2),r=function(){return N(t,r,n,this,e.concat(p.call(arguments)))};return r},x.partial=function(t){var n=p.call(arguments,1),e=function(){for(var r=0,i=n.length,o=Array(i),a=0;a<i;a++)o[a]=n[a]===x?arguments[r++]:n[a];for(;r<arguments.length;)o.push(arguments[r++]);return N(t,e,this,this,o)};return e},x.bindAll=function(t){var n,e,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(n=1;n<r;n++)e=arguments[n],t[e]=x.bind(t[e],t);return t},x.memoize=function(t,n){var e=function(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return x.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},x.delay=function(t,n){var e=p.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,n,e){var r,i,o,a=null,u=0;e||(e={});var c=function(){u=!1===e.leading?0:x.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var s=x.now();u||!1!==e.leading||(u=s);var l=n-(s-u);return r=this,i=arguments,l<=0||l>n?(a&&(clearTimeout(a),a=null),u=s,o=t.apply(r,i),a||(r=i=null)):a||!1===e.trailing||(a=setTimeout(c,l)),o}},x.debounce=function(t,n,e){var r,i,o,a,u,c=function(){var s=x.now()-a;s<n&&s>=0?r=setTimeout(c,n-s):(r=null,e||(u=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=x.now();var s=e&&!r;return r||(r=setTimeout(c,n)),s&&(u=t.apply(o,i),o=i=null),u}},x.wrap=function(t,n){return x.partial(n,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},x.after=function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},x.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}},x.once=x.partial(x.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(b)return b(t);var n=[];for(var e in t)x.has(t,e)&&n.push(e);return L&&u(t,n),n},x.allKeys=function(t){if(!x.isObject(t))return[];var n=[];for(var e in t)n.push(e);return L&&u(t,n),n},x.values=function(t){for(var n=x.keys(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r},x.mapObject=function(t,n,e){n=E(n,e);for(var r,i=x.keys(t),o=i.length,a={},u=0;u<o;u++)r=i[u],a[r]=n(t[r],r,t);return a},x.pairs=function(t){for(var n=x.keys(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r},x.invert=function(t){for(var n={},e=x.keys(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n},x.functions=x.methods=function(t){var n=[];for(var e in t)x.isFunction(t[e])&&n.push(e);return n.sort()},x.extend=k(x.allKeys),x.extendOwn=x.assign=k(x.keys),x.findKey=function(t,n,e){n=E(n,e);for(var r,i=x.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],n(t[r],r,t))return r},x.pick=function(t,n,e){var r,i,o={},a=t;if(null==a)return o;x.isFunction(n)?(i=x.allKeys(a),r=M(n,e)):(i=C(arguments,!1,!1,1),r=function(t,n,e){return n in e},a=Object(a));for(var u=0,c=i.length;u<c;u++){var s=i[u],l=a[s];r(l,s,a)&&(o[s]=l)}return o},x.omit=function(t,n,e){if(x.isFunction(n))n=x.negate(n);else{var r=x.map(C(arguments,!1,!1,1),String);n=function(t,n){return!x.contains(r,n)}}return x.pick(t,n,e)},x.defaults=k(x.allKeys,!0),x.create=function(t,n){var e=S(t);return n&&x.extendOwn(e,n),e},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,n){return n(t),t},x.isMatch=function(t,n){var e=x.keys(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0};var z=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof x&&(t=t._wrapped),n instanceof x&&(n=n._wrapped);var i=v.call(t);if(i!==v.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var c=e.length;c--;)if(e[c]===t)return r[c]===n;if(e.push(t),r.push(n),o){if((c=t.length)!==n.length)return!1;for(;c--;)if(!z(t[c],n[c],e,r))return!1}else{var s,l=x.keys(t);if(c=l.length,x.keys(n).length!==c)return!1;for(;c--;)if(s=l[c],!x.has(n,s)||!z(t[s],n[s],e,r))return!1}return e.pop(),r.pop(),!0};x.isEqual=function(t,n){return z(t,n)},x.isEmpty=function(t){return null==t||(O(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=m||function(t){return"[object Array]"===v.call(t)},x.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(n){return v.call(n)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===v.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,n){return null!=t&&g.call(t,n)},x.noConflict=function(){return c._=s,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=P,x.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(n){return x.isMatch(n,t)}},x.times=function(t,n,e){var r=Array(Math.max(0,t));n=M(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r},x.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=x.invert(D),U=function(t){var n=function(n){return t[n]},e="(?:"+x.keys(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};x.escape=U(D),x.unescape=U(R),x.result=function(t,n,e){var r=null==t?void 0:t[n];return void 0===r&&(r=e),x.isFunction(r)?r.call(t):r};var I=0;x.uniqueId=function(t){var n=++I+"";return t?t+n:n},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=function(t){return"\\"+H[t]};x.template=function(t,n,e){!n&&e&&(n=e),n=x.defaults({},n,x.templateSettings);var r=RegExp([(n.escape||/(.)^/).source,(n.interpolate||/(.)^/).source,(n.evaluate||/(.)^/).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(n,e,r,a,u){return o+=t.slice(i,u).replace(/\\|'|\r|\n|\u2028|\u2029/g,B),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(t){throw t.source=o,t}var u=function(t){return a.call(this,t,x)};return u.source="function("+(n.variable||"obj")+"){\n"+o+"}",u},x.chain=function(t){var n=x(t);return n._chain=!0,n};var q=function(t,n){return t._chain?x(n).chain():n};x.mixin=function(t){x.each(x.functions(t),function(n){var e=x[n]=t[n];x.prototype[n]=function(){var t=[this._wrapped];return d.apply(t,arguments),q(this,e.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=l[t];x.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],q(this,e)}}),x.each(["concat","join","slice"],function(t){var n=l[t];x.prototype[t]=function(){return q(this,n.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(n,r))&&(t.exports=i)}).call(this)}]);